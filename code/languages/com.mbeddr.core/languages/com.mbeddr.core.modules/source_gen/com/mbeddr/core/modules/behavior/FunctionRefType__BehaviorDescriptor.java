package com.mbeddr.core.modules.behavior;

/*Generated by MPS */

import jetbrains.mps.core.aspects.behaviour.BaseBHDescriptor;
import org.jetbrains.mps.openapi.language.SAbstractConcept;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import jetbrains.mps.core.aspects.behaviour.api.SMethod;
import jetbrains.mps.core.aspects.behaviour.SMethodBuilder;
import jetbrains.mps.core.aspects.behaviour.SJavaCompoundTypeImpl;
import jetbrains.mps.core.aspects.behaviour.AccessPrivileges;
import org.jetbrains.mps.openapi.model.SNode;
import com.mbeddr.core.expressions.runtime.plugin.IToken;
import java.util.List;
import java.util.Arrays;
import org.jetbrains.annotations.NotNull;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import jetbrains.mps.lang.core.behavior.BaseConcept__BehaviorDescriptor;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SPropertyOperations;
import java.util.regex.Pattern;
import java.util.regex.Matcher;
import com.mbeddr.core.expressions.behavior.TypeSizeConfiguration__BehaviorDescriptor;
import com.mbeddr.core.expressions.behavior.Type__BehaviorDescriptor;
import com.mbeddr.core.expressions.runtime.plugin.CompositeToken;
import com.mbeddr.core.expressions.runtime.plugin.TypeKind;
import com.mbeddr.core.expressions.runtime.plugin.AtomicToken;
import com.mbeddr.core.expressions.behavior.ITextGenContext__BehaviorDescriptor;
import jetbrains.mps.core.aspects.behaviour.api.SConstructor;
import org.jetbrains.annotations.Nullable;
import jetbrains.mps.core.aspects.behaviour.api.BHMethodNotFoundException;
import org.jetbrains.mps.openapi.language.SContainmentLink;
import org.jetbrains.mps.openapi.language.SConcept;
import org.jetbrains.mps.openapi.language.SProperty;

public final class FunctionRefType__BehaviorDescriptor extends BaseBHDescriptor {
  private static final SAbstractConcept CONCEPT = MetaAdapterFactory.getConcept(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x76ad8d576f00349bL, "com.mbeddr.core.modules.structure.FunctionRefType");

  public static final SMethod<String> getPresentation_idhEwIMiw = new SMethodBuilder<String>(new SJavaCompoundTypeImpl(String.class)).name("getPresentation").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(1213877396640L).languageId(0x9b92103b95ca8c0cL, 0xceab519525ea4f22L).build2();
  public static final SMethod<Boolean> canBeConst_id2zhwXA$TG$3 = new SMethodBuilder<Boolean>(new SJavaCompoundTypeImpl(Boolean.TYPE)).name("canBeConst").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(2941277002447374595L).languageId(0x81d97714ff227fb0L, 0x61c69711ed614850L).build2();
  public static final SMethod<Boolean> canBeVolatile_id2zhwXA_2SdW = new SMethodBuilder<Boolean>(new SJavaCompoundTypeImpl(Boolean.TYPE)).name("canBeVolatile").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(2941277002449781628L).languageId(0x81d97714ff227fb0L, 0x61c69711ed614850L).build2();
  public static final SMethod<String> getValueForNode_id36fFjS6KAwd = new SMethodBuilder<String>(new SJavaCompoundTypeImpl(String.class)).name("getValueForNode").modifiers(0, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(3571263511441074189L).languageId(0x8efc09336c1b0001L, 0x6d11763d483d4b2bL).build2(SMethodBuilder.createJavaParameter((Class<SNode>) ((Class) Object.class), ""));
  /*package*/ static final SMethod<String> extractFunctionName_id36fFjS6KAtX = new SMethodBuilder<String>(new SJavaCompoundTypeImpl(String.class)).name("extractFunctionName").modifiers(0, AccessPrivileges.PRIVATE).concept(CONCEPT).baseMethodId(3571263511441074045L).languageId(0x8efc09336c1b0001L, 0x6d11763d483d4b2bL).build2(SMethodBuilder.createJavaParameter(String.class, ""));
  /*package*/ static final SMethod<Boolean> pointsToFunctionWithName_id9AR4gpVgqO = new SMethodBuilder<Boolean>(new SJavaCompoundTypeImpl(Boolean.TYPE)).name("pointsToFunctionWithName").modifiers(0, AccessPrivileges.PRIVATE).concept(CONCEPT).baseMethodId(173067820751193780L).languageId(0x8efc09336c1b0001L, 0x6d11763d483d4b2bL).build2(SMethodBuilder.createJavaParameter(String.class, ""));
  /*package*/ static final SMethod<Boolean> isNullPointer_id35tTzla8u$l = new SMethodBuilder<Boolean>(new SJavaCompoundTypeImpl(Boolean.TYPE)).name("isNullPointer").modifiers(0, AccessPrivileges.PRIVATE).concept(CONCEPT).baseMethodId(3557252397243951381L).languageId(0x8efc09336c1b0001L, 0x6d11763d483d4b2bL).build2(SMethodBuilder.createJavaParameter(String.class, ""));
  public static final SMethod<Integer> getUsedBytes_id61lw97FtLtJ = new SMethodBuilder<Integer>(new SJavaCompoundTypeImpl(Integer.TYPE)).name("getUsedBytes").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(6941595764870551407L).languageId(0x81d97714ff227fb0L, 0x61c69711ed614850L).build2();
  public static final SMethod<IToken> getToken_id6AaN29SvfIf = new SMethodBuilder<IToken>(new SJavaCompoundTypeImpl(IToken.class)).name("getToken").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(7605115369190914959L).languageId(0x81d97714ff227fb0L, 0x61c69711ed614850L).build2(SMethodBuilder.createJavaParameter(IToken.class, ""));

  private static final List<SMethod<?>> BH_METHODS = Arrays.<SMethod<?>>asList(getPresentation_idhEwIMiw, canBeConst_id2zhwXA$TG$3, canBeVolatile_id2zhwXA_2SdW, getValueForNode_id36fFjS6KAwd, extractFunctionName_id36fFjS6KAtX, pointsToFunctionWithName_id9AR4gpVgqO, isNullPointer_id35tTzla8u$l, getUsedBytes_id61lw97FtLtJ, getToken_id6AaN29SvfIf);

  private static void ___init___(@NotNull SNode __thisNode__) {
  }

  /*package*/ static String getPresentation_idhEwIMiw(@NotNull SNode __thisNode__) {
    return "(" + ListSequence.fromList(SLinkOperations.getChildren(__thisNode__, LINKS.argTypes$R93A)).foldLeft("", (String s, SNode it) -> s += (((SNodeOperations.getIndexInParent(it) == 0) ? "" : ", ")) + BaseConcept__BehaviorDescriptor.getPresentation_idhEwIMiw.invoke(it)) + ")=>" + BaseConcept__BehaviorDescriptor.getPresentation_idhEwIMiw.invoke(SLinkOperations.getTarget(__thisNode__, LINKS.returnType$R8O_));
  }
  /*package*/ static boolean canBeConst_id2zhwXA$TG$3(@NotNull SNode __thisNode__) {
    return false;
  }
  /*package*/ static boolean canBeVolatile_id2zhwXA_2SdW(@NotNull SNode __thisNode__) {
    return false;
  }
  /*package*/ static String getValueForNode_id36fFjS6KAwd(@NotNull SNode __thisNode__, SNode nodeToPointTo) {
    String value = null;
    if ((nodeToPointTo == null)) {
      value = "not mapped";
    } else if (SNodeOperations.isInstanceOf(nodeToPointTo, CONCEPTS.Function$K8)) {
      value = SPropertyOperations.getString((SNodeOperations.cast(nodeToPointTo, CONCEPTS.Function$K8)), PROPS.name$MnvL);
    } else {
      value = "not mapped";
    }
    return value;
  }
  /*package*/ static String extractFunctionName_id36fFjS6KAtX(@NotNull SNode __thisNode__, String gdbFunctionNameRepresentation) {
    String parsedCFunctionName = null;
    int startIndex = gdbFunctionNameRepresentation.indexOf("<") + 1;
    int endIndex = gdbFunctionNameRepresentation.indexOf(">");
    if (startIndex > 0 && endIndex > 0) {
      parsedCFunctionName = gdbFunctionNameRepresentation.substring(startIndex, endIndex);
    }
    return parsedCFunctionName;
  }
  /*package*/ static boolean pointsToFunctionWithName_id9AR4gpVgqO(@NotNull SNode __thisNode__, String cValue) {
    return FunctionRefType__BehaviorDescriptor.extractFunctionName_id36fFjS6KAtX.invokeSpecial(__thisNode__, cValue) != null;
  }
  /*package*/ static boolean isNullPointer_id35tTzla8u$l(@NotNull SNode __thisNode__, String cValue) {
    Pattern pattern = Pattern.compile("0x(0)+");
    Matcher matcher = pattern.matcher(cValue);
    return !((boolean) FunctionRefType__BehaviorDescriptor.pointsToFunctionWithName_id9AR4gpVgqO.invokeSpecial(__thisNode__, cValue)) && matcher.matches();
  }
  /*package*/ static int getUsedBytes_id61lw97FtLtJ(@NotNull SNode __thisNode__) {
    SNode tsc = TypeSizeConfiguration__BehaviorDescriptor.findTypeSizeConfig_id3LaV6lLNTR2.invoke(SNodeOperations.asSConcept(CONCEPTS.TypeSizeConfiguration$OP), __thisNode__);
    return (int) Type__BehaviorDescriptor.getUsedBytes_id61lw97FtLtJ.invoke(SLinkOperations.getTarget(tsc, LINKS.sizeTType$Np8R));
  }
  /*package*/ static IToken getToken_id6AaN29SvfIf(@NotNull SNode __thisNode__, IToken child) {
    CompositeToken token = new CompositeToken(TypeKind.FP);

    token.add(new AtomicToken("("));
    token.add(new AtomicToken("("));
    token.add(new AtomicToken("*"));
    token.add(child.wrapInParens());
    token.add(new AtomicToken(")"));

    token.add(new AtomicToken("("));
    boolean first = true;
    for (SNode argType : ListSequence.fromList(SLinkOperations.getChildren(__thisNode__, LINKS.argTypes$R93A))) {
      if (first) {
        first = false;
      } else {
        token.add(new AtomicToken(","));
      }
      token.add(ITextGenContext__BehaviorDescriptor.getToken_id6AaN29SvfIf.invoke(argType, AtomicToken.EMPTY));
    }
    token.add(new AtomicToken(")"));
    token.add(new AtomicToken(")"));

    return ITextGenContext__BehaviorDescriptor.getToken_id6AaN29SvfIf.invoke(SLinkOperations.getTarget(__thisNode__, LINKS.returnType$R8O_), token);
  }

  /*package*/ FunctionRefType__BehaviorDescriptor() {
  }

  @Override
  protected void initNode(@NotNull SNode node, @NotNull SConstructor constructor, @Nullable Object[] parameters) {
    ___init___(node);
  }

  @Override
  protected <T> T invokeSpecial0(@NotNull SNode node, @NotNull SMethod<T> method, @Nullable Object[] parameters) {
    int methodIndex = BH_METHODS.indexOf(method);
    if (methodIndex < 0) {
      throw new BHMethodNotFoundException(this, method);
    }
    switch (methodIndex) {
      case 0:
        return (T) ((String) getPresentation_idhEwIMiw(node));
      case 1:
        return (T) ((Boolean) canBeConst_id2zhwXA$TG$3(node));
      case 2:
        return (T) ((Boolean) canBeVolatile_id2zhwXA_2SdW(node));
      case 3:
        return (T) ((String) getValueForNode_id36fFjS6KAwd(node, (SNode) parameters[0]));
      case 4:
        return (T) ((String) extractFunctionName_id36fFjS6KAtX(node, (String) parameters[0]));
      case 5:
        return (T) ((Boolean) pointsToFunctionWithName_id9AR4gpVgqO(node, (String) parameters[0]));
      case 6:
        return (T) ((Boolean) isNullPointer_id35tTzla8u$l(node, (String) parameters[0]));
      case 7:
        return (T) ((Integer) getUsedBytes_id61lw97FtLtJ(node));
      case 8:
        return (T) ((IToken) getToken_id6AaN29SvfIf(node, (IToken) parameters[0]));
      default:
        throw new BHMethodNotFoundException(this, method);
    }
  }

  @Override
  protected <T> T invokeSpecial0(@NotNull SAbstractConcept concept, @NotNull SMethod<T> method, @Nullable Object[] parameters) {
    int methodIndex = BH_METHODS.indexOf(method);
    if (methodIndex < 0) {
      throw new BHMethodNotFoundException(this, method);
    }
    switch (methodIndex) {
      default:
        throw new BHMethodNotFoundException(this, method);
    }
  }

  @NotNull
  @Override
  public List<SMethod<?>> getDeclaredMethods() {
    return BH_METHODS;
  }

  @NotNull
  @Override
  public SAbstractConcept getConcept() {
    return CONCEPT;
  }

  private static final class LINKS {
    /*package*/ static final SContainmentLink returnType$R8O_ = MetaAdapterFactory.getContainmentLink(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x76ad8d576f00349bL, 0x76ad8d576f00349cL, "returnType");
    /*package*/ static final SContainmentLink argTypes$R93A = MetaAdapterFactory.getContainmentLink(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x76ad8d576f00349bL, 0x76ad8d576f00349dL, "argTypes");
    /*package*/ static final SContainmentLink sizeTType$Np8R = MetaAdapterFactory.getContainmentLink(0x61c69711ed614850L, 0x81d97714ff227fb0L, 0x2e4bd40f1cbdfd34L, 0x7affc525ceeaf5d3L, "sizeTType");
  }

  private static final class CONCEPTS {
    /*package*/ static final SConcept Function$K8 = MetaAdapterFactory.getConcept(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x595522006a5b97e1L, "com.mbeddr.core.modules.structure.Function");
    /*package*/ static final SConcept TypeSizeConfiguration$OP = MetaAdapterFactory.getConcept(0x61c69711ed614850L, 0x81d97714ff227fb0L, 0x2e4bd40f1cbdfd34L, "com.mbeddr.core.expressions.structure.TypeSizeConfiguration");
  }

  private static final class PROPS {
    /*package*/ static final SProperty name$MnvL = MetaAdapterFactory.getProperty(0xceab519525ea4f22L, 0x9b92103b95ca8c0cL, 0x110396eaaa4L, 0x110396ec041L, "name");
  }
}
