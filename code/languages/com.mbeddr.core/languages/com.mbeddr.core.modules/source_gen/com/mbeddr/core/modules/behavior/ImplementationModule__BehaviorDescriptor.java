package com.mbeddr.core.modules.behavior;

/*Generated by MPS */

import jetbrains.mps.core.aspects.behaviour.BaseBHDescriptor;
import org.jetbrains.mps.openapi.language.SAbstractConcept;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import jetbrains.mps.core.aspects.behaviour.api.SMethod;
import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.core.aspects.behaviour.SMethodBuilder;
import jetbrains.mps.core.aspects.behaviour.SJavaCompoundTypeImpl;
import jetbrains.mps.core.aspects.behaviour.AccessPrivileges;
import java.util.List;
import com.mbeddr.mpsutil.plantuml.node.behavior.VisGraph;
import java.util.Set;
import jetbrains.mps.smodel.runtime.IconResource;
import java.util.Arrays;
import org.jetbrains.annotations.NotNull;
import jetbrains.mps.smodel.action.SNodeFactoryOperations;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import com.mbeddr.core.base.behavior.IChunkDependency__BehaviorDescriptor;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SConceptOperations;
import jetbrains.mps.lang.core.behavior.INamedConcept__BehaviorDescriptor;
import jetbrains.mps.internal.collections.runtime.Sequence;
import java.util.Objects;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SPropertyOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SModelOperations;
import jetbrains.mps.internal.collections.runtime.SetSequence;
import java.util.HashSet;
import java.util.regex.Pattern;
import com.mbeddr.core.base.behavior.Chunk__BehaviorDescriptor;
import java.util.ArrayList;
import jetbrains.mps.lang.core.behavior.BaseConcept__BehaviorDescriptor;
import jetbrains.mps.baseLanguage.behavior.BLIconMarks;
import jetbrains.mps.core.aspects.behaviour.api.SConstructor;
import org.jetbrains.annotations.Nullable;
import jetbrains.mps.core.aspects.behaviour.api.BHMethodNotFoundException;
import jetbrains.mps.smodel.builder.SNodeBuilder;
import org.jetbrains.mps.openapi.language.SContainmentLink;
import org.jetbrains.mps.openapi.language.SReferenceLink;
import org.jetbrains.mps.openapi.language.SConcept;
import org.jetbrains.mps.openapi.language.SInterfaceConcept;
import org.jetbrains.mps.openapi.language.SProperty;

public final class ImplementationModule__BehaviorDescriptor extends BaseBHDescriptor {
  private static final SAbstractConcept CONCEPT = MetaAdapterFactory.getConcept(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x595522006a5b934eL, "com.mbeddr.core.modules.structure.ImplementationModule");

  public static final SMethod<Iterable<SNode>> implModuleImports_id7RiewQ_lfTD = new SMethodBuilder<Iterable<SNode>>(new SJavaCompoundTypeImpl((Class<Iterable<SNode>>) ((Class) Object.class))).name("implModuleImports").modifiers(0, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(9066372830133026409L).languageId(0x8efc09336c1b0001L, 0x6d11763d483d4b2bL).build2();
  public static final SMethod<SNode> createProxy_id35NyAcQ9ZV = new SMethodBuilder<SNode>(new SJavaCompoundTypeImpl((Class<SNode>) ((Class) Object.class))).name("createProxy").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(55677248263987195L).languageId(0x8efc09336c1b0001L, 0x6d11763d483d4b2bL).build2();
  public static final SMethod<String> getUnitName_id4pl5GY7LKmR = new SMethodBuilder<String>(new SJavaCompoundTypeImpl(String.class)).name("getUnitName").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(5067982036267369911L).languageId(0xbfd948636cfe8bc3L, 0x9ded098bad6a4657L).build2();
  public static final SMethod<Boolean> hasImportFor_id7PpjtdjCFN8 = new SMethodBuilder<Boolean>(new SJavaCompoundTypeImpl(Boolean.TYPE)).name("hasImportFor").modifiers(0, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(9032336097704852680L).languageId(0x8efc09336c1b0001L, 0x6d11763d483d4b2bL).build2(SMethodBuilder.createJavaParameter((Class<SNode>) ((Class) Object.class), ""));
  public static final SMethod<Void> ensureImportFor_idipMc9Qxfn = new SMethodBuilder<Void>(new SJavaCompoundTypeImpl(Void.class)).name("ensureImportFor").modifiers(0, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(5179949767594967L).languageId(0x8efc09336c1b0001L, 0x6d11763d483d4b2bL).build2(SMethodBuilder.createJavaParameter((Class<SNode>) ((Class) Object.class), ""));
  public static final SMethod<Void> ensureImportFor_id43R883waUzW = new SMethodBuilder<Void>(new SJavaCompoundTypeImpl(Void.class)).name("ensureImportFor").modifiers(0, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(4681246075563780348L).languageId(0x8efc09336c1b0001L, 0x6d11763d483d4b2bL).build2(SMethodBuilder.createJavaParameter((Class<SNode>) ((Class) Object.class), ""), SMethodBuilder.createJavaParameter(Boolean.TYPE, ""));
  public static final SMethod<Void> ensureImportFor_id3YjQI$k4m49 = new SMethodBuilder<Void>(new SJavaCompoundTypeImpl(Void.class)).name("ensureImportFor").modifiers(0, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(4581245940564844809L).languageId(0x8efc09336c1b0001L, 0x6d11763d483d4b2bL).build2(SMethodBuilder.createJavaParameter((Class<SNode>) ((Class) Object.class), ""), SMethodBuilder.createJavaParameter(Boolean.TYPE, ""), SMethodBuilder.createJavaParameter(Boolean.TYPE, ""));
  public static final SMethod<Void> addUniqueStdHeaderImport_id4GT16cGfDI2 = new SMethodBuilder<Void>(new SJavaCompoundTypeImpl(Void.class)).name("addUniqueStdHeaderImport").modifiers(0, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(5420368450507676546L).languageId(0x8efc09336c1b0001L, 0x6d11763d483d4b2bL).build2(SMethodBuilder.createJavaParameter(String.class, ""), SMethodBuilder.createJavaParameter(Boolean.TYPE, ""), SMethodBuilder.createJavaParameter(String.class, ""), SMethodBuilder.createJavaParameter(String.class, ""));
  public static final SMethod<Iterable<SNode>> importsForImplementation_id4GT16cGhZhY = new SMethodBuilder<Iterable<SNode>>(new SJavaCompoundTypeImpl((Class<Iterable<SNode>>) ((Class) Object.class))).name("importsForImplementation").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(5420368450508289150L).languageId(0x8efc09336c1b0001L, 0x6d11763d483d4b2bL).build2();
  public static final SMethod<Iterable<SNode>> importsForHeader_id4GT16cGhZmM = new SMethodBuilder<Iterable<SNode>>(new SJavaCompoundTypeImpl((Class<Iterable<SNode>>) ((Class) Object.class))).name("importsForHeader").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(5420368450508289458L).languageId(0x8efc09336c1b0001L, 0x6d11763d483d4b2bL).build2();
  public static final SMethod<Iterable<SNode>> unionOf_id5qxpWJ_usOE = new SMethodBuilder<Iterable<SNode>>(new SJavaCompoundTypeImpl((Class<Iterable<SNode>>) ((Class) Object.class))).name("unionOf").modifiers(0, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(6242384683938204970L).languageId(0x8efc09336c1b0001L, 0x6d11763d483d4b2bL).build2(SMethodBuilder.createJavaParameter((Class<Iterable<SNode>>) ((Class) Object.class), ""), SMethodBuilder.createJavaParameter((Class<Iterable<SNode>>) ((Class) Object.class), ""));
  public static final SMethod<List<SNode>> getImportingHeaderGeneratingExternalModules_id2qdxtjsX3cT = new SMethodBuilder<List<SNode>>(new SJavaCompoundTypeImpl((Class<List<SNode>>) ((Class) Object.class))).name("getImportingHeaderGeneratingExternalModules").modifiers(0, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(2778023694444016441L).languageId(0x8efc09336c1b0001L, 0x6d11763d483d4b2bL).build2();
  public static final SMethod<Boolean> isImportedByHeaderGeneratingExternalModules_id2qdxtjsXgl1 = new SMethodBuilder<Boolean>(new SJavaCompoundTypeImpl(Boolean.TYPE)).name("isImportedByHeaderGeneratingExternalModules").modifiers(0, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(2778023694444070209L).languageId(0x8efc09336c1b0001L, 0x6d11763d483d4b2bL).build2();
  public static final SMethod<Boolean> canMangleNames_id4J$Pz4XGFls = new SMethodBuilder<Boolean>(new SJavaCompoundTypeImpl(Boolean.TYPE)).name("canMangleNames").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(5468731354511488348L).languageId(0x8efc09336c1b0001L, 0x6d11763d483d4b2bL).build2();
  public static final SMethod<String> getHeaderFileName_id7Aba6BzsCXL = new SMethodBuilder<String>(new SJavaCompoundTypeImpl(String.class)).name("getHeaderFileName").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(8758138335604674417L).languageId(0x8efc09336c1b0001L, 0x6d11763d483d4b2bL).build2();
  public static final SMethod<String[]> getCategories_id2N1CSrzPN_a = new SMethodBuilder<String[]>(new SJavaCompoundTypeImpl(String[].class)).name("getCategories").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(3225038607917463882L).languageId(0x943e3a41f97a0e52L, 0xb4d28e197d2d47e9L).build2();
  public static final SMethod<Void> getVisualization_id2N1CSrzPN_f = new SMethodBuilder<Void>(new SJavaCompoundTypeImpl(Void.class)).name("getVisualization").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(3225038607917463887L).languageId(0x943e3a41f97a0e52L, 0xb4d28e197d2d47e9L).build2(SMethodBuilder.createJavaParameter(String.class, ""), SMethodBuilder.createJavaParameter(VisGraph.class, ""));
  /*package*/ static final SMethod<Void> renderDependentModules_id6GZLGDRrk_R = new SMethodBuilder<Void>(new SJavaCompoundTypeImpl(Void.class)).name("renderDependentModules").modifiers(0, AccessPrivileges.PRIVATE).concept(CONCEPT).baseMethodId(7728114058480404855L).languageId(0x8efc09336c1b0001L, 0x6d11763d483d4b2bL).build2(SMethodBuilder.createJavaParameter((Class<SNode>) ((Class) Object.class), ""), SMethodBuilder.createJavaParameter(VisGraph.class, ""), SMethodBuilder.createJavaParameter((Class<Set<SNode>>) ((Class) Object.class), ""), SMethodBuilder.createJavaParameter(String.class, ""));
  public static final SMethod<String> getIDEDisplayString_idIviauXb0g = new SMethodBuilder<String>(new SJavaCompoundTypeImpl(String.class)).name("getIDEDisplayString").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(13085436577886224L).languageId(0xaa41d1b2bffa7eb1L, 0xd4280a54f6df4383L).build2();
  public static final SMethod<Integer> getSortOrder_id1uL8CIs6rGR = new SMethodBuilder<Integer>(new SJavaCompoundTypeImpl(Integer.TYPE)).name("getSortOrder").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(1707183716764859191L).languageId(0xaa41d1b2bffa7eb1L, 0xd4280a54f6df4383L).build2();
  public static final SMethod<String> getCategory_id1uL8CIsKxiy = new SMethodBuilder<String>(new SJavaCompoundTypeImpl(String.class)).name("getParentPopup").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(1707183716775892130L).languageId(0xaa41d1b2bffa7eb1L, 0xd4280a54f6df4383L).build2();
  public static final SMethod<Iterable<SNode>> allFunctions_id1H6zsul0og9 = new SMethodBuilder<Iterable<SNode>>(new SJavaCompoundTypeImpl((Class<Iterable<SNode>>) ((Class) Object.class))).name("allFunctions").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(1965414175731713033L).languageId(0x8efc09336c1b0001L, 0x6d11763d483d4b2bL).build2();
  public static final SMethod<Iterable<SNode>> allFunctionsWithoutInlineFunctionsForHeader_id1H6zsul5X7v = new SMethodBuilder<Iterable<SNode>>(new SJavaCompoundTypeImpl((Class<Iterable<SNode>>) ((Class) Object.class))).name("allFunctionsWithoutInlineFunctionsForHeader").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(1965414175733174751L).languageId(0x8efc09336c1b0001L, 0x6d11763d483d4b2bL).build2();
  public static final SMethod<Iterable<SNode>> inlineFunctionsForHeader_id1H6zsul0ctg = new SMethodBuilder<Iterable<SNode>>(new SJavaCompoundTypeImpl((Class<Iterable<SNode>>) ((Class) Object.class))).name("inlineFunctionsForHeader").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(1965414175731664720L).languageId(0x8efc09336c1b0001L, 0x6d11763d483d4b2bL).build2();
  public static final SMethod<List<IconResource>> getIconMarks_id6TtJ6IUkhQJ = new SMethodBuilder<List<IconResource>>(new SJavaCompoundTypeImpl((Class<List<IconResource>>) ((Class) Object.class))).name("getIconMarks").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(7952719687879564719L).languageId(0x9b92103b95ca8c0cL, 0xceab519525ea4f22L).build2();

  private static final List<SMethod<?>> BH_METHODS = Arrays.<SMethod<?>>asList(implModuleImports_id7RiewQ_lfTD, createProxy_id35NyAcQ9ZV, getUnitName_id4pl5GY7LKmR, hasImportFor_id7PpjtdjCFN8, ensureImportFor_idipMc9Qxfn, ensureImportFor_id43R883waUzW, ensureImportFor_id3YjQI$k4m49, addUniqueStdHeaderImport_id4GT16cGfDI2, importsForImplementation_id4GT16cGhZhY, importsForHeader_id4GT16cGhZmM, unionOf_id5qxpWJ_usOE, getImportingHeaderGeneratingExternalModules_id2qdxtjsX3cT, isImportedByHeaderGeneratingExternalModules_id2qdxtjsXgl1, canMangleNames_id4J$Pz4XGFls, getHeaderFileName_id7Aba6BzsCXL, getCategories_id2N1CSrzPN_a, getVisualization_id2N1CSrzPN_f, renderDependentModules_id6GZLGDRrk_R, getIDEDisplayString_idIviauXb0g, getSortOrder_id1uL8CIs6rGR, getCategory_id1uL8CIsKxiy, allFunctions_id1H6zsul0og9, allFunctionsWithoutInlineFunctionsForHeader_id1H6zsul5X7v, inlineFunctionsForHeader_id1H6zsul0ctg, getIconMarks_id6TtJ6IUkhQJ);

  private static void ___init___(@NotNull SNode __thisNode__) {
    SNodeFactoryOperations.addNewChild(__thisNode__, LINKS.contents$3Vmy, CONCEPTS.EmptyModuleContent$uN);
  }

  /*package*/ static Iterable<SNode> implModuleImports_id7RiewQ_lfTD(@NotNull SNode __thisNode__) {
    return ListSequence.fromList(SLinkOperations.getChildren(__thisNode__, LINKS.imports$R87F)).where((it) -> SNodeOperations.isInstanceOf(IChunkDependency__BehaviorDescriptor.chunk_id6clJcrJZN1z.invoke(it), CONCEPTS.ImplementationModule$Gy));
  }
  /*package*/ static SNode createProxy_id35NyAcQ9ZV(@NotNull SNode __thisNode__) {
    SNode proxy = SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x595522006a5b934eL, "com.mbeddr.core.modules.structure.ImplementationModule"));
    Module__BehaviorDescriptor.proxifyContents_id35NyAcQa0G.invoke(__thisNode__, proxy);
    return proxy;
  }
  /*package*/ static String getUnitName_id4pl5GY7LKmR(@NotNull SNode __thisNode__) {
    return ((String) INamedConcept__BehaviorDescriptor.getFqName_idhEwIO9y.invoke(__thisNode__));
  }
  /*package*/ static boolean hasImportFor_id7PpjtdjCFN8(@NotNull SNode __thisNode__, final SNode requiredModule) {
    return __thisNode__ == requiredModule || ListSequence.fromList(SLinkOperations.getChildren(__thisNode__, LINKS.imports$R87F)).any((it) -> {
      if (SNodeOperations.isInstanceOf(IChunkDependency__BehaviorDescriptor.chunk_id6clJcrJZN1z.invoke(it), CONCEPTS.ExternalModule$xK) && SNodeOperations.isInstanceOf(requiredModule, CONCEPTS.ExternalModule$xK)) {
        Iterable<SNode> chunkDescriptors = SNodeOperations.ofConcept(SLinkOperations.getChildren(SNodeOperations.cast(IChunkDependency__BehaviorDescriptor.chunk_id6clJcrJZN1z.invoke(it), CONCEPTS.ExternalModule$xK), LINKS.descriptors$HrHA), CONCEPTS.HeaderDescriptor$fi);
        Sequence.fromIterable(chunkDescriptors).first();
        Iterable<SNode> requiredDescriptors = SNodeOperations.ofConcept(SLinkOperations.getChildren(SNodeOperations.cast(requiredModule, CONCEPTS.ExternalModule$xK), LINKS.descriptors$HrHA), CONCEPTS.HeaderDescriptor$fi);
        return Sequence.fromIterable(chunkDescriptors).count() == 1 && Sequence.fromIterable(requiredDescriptors).count() == 1 && Objects.equals(SPropertyOperations.getString(Sequence.fromIterable(chunkDescriptors).first(), PROPS.path$GYq6), SPropertyOperations.getString(Sequence.fromIterable(requiredDescriptors).first(), PROPS.path$GYq6));
      } else {
        return IChunkDependency__BehaviorDescriptor.chunk_id6clJcrJZN1z.invoke(it) == requiredModule;
      }
    });
  }
  /*package*/ static void ensureImportFor_idipMc9Qxfn(@NotNull SNode __thisNode__, SNode requiredModule) {
    ImplementationModule__BehaviorDescriptor.ensureImportFor_id3YjQI$k4m49.invoke(__thisNode__, requiredModule, ((boolean) false), ((boolean) false));
  }
  /*package*/ static void ensureImportFor_id43R883waUzW(@NotNull SNode __thisNode__, SNode requiredModule, boolean reexport) {
    ImplementationModule__BehaviorDescriptor.ensureImportFor_id3YjQI$k4m49.invoke(__thisNode__, requiredModule, ((boolean) false), ((boolean) reexport));
  }
  /*package*/ static void ensureImportFor_id3YjQI$k4m49(@NotNull SNode __thisNode__, SNode requiredModule, boolean beforeOtherImports, boolean reexport) {
    if (!((boolean) ImplementationModule__BehaviorDescriptor.hasImportFor_id7PpjtdjCFN8.invoke(__thisNode__, requiredModule))) {
      SNode imp = SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0xd4280a54f6df4383L, 0xaa41d1b2bffa7eb1L, 0xa5e2d2ae6f5954dL, "com.mbeddr.core.base.structure.DefaultGenericChunkDependency"));
      SLinkOperations.setTarget(imp, LINKS.chunk$2d8c, requiredModule);
      SPropertyOperations.assign(imp, PROPS.reexport$dsPD, reexport);
      if (beforeOtherImports) {
        ListSequence.fromList(SLinkOperations.getChildren(__thisNode__, LINKS.imports$R87F)).insertElement(0, imp);
      } else {
        ListSequence.fromList(SLinkOperations.getChildren(__thisNode__, LINKS.imports$R87F)).addElement(imp);
      }
    }
  }
  /*package*/ static void addUniqueStdHeaderImport_id4GT16cGfDI2(@NotNull SNode __thisNode__, final String headerName, boolean addToHeader, String preprocessorCondition, String alternativeHeaderName) {
    SNode existingSHI = ListSequence.fromList(SLinkOperations.getChildren(__thisNode__, LINKS.stdImports$iLdf)).findFirst((it) -> SPropertyOperations.getString(it, PROPS.headerFileName$737q).equals(headerName));
    SNode matchingEM = Sequence.fromIterable(SNodeOperations.ofConcept(SLinkOperations.getChildren(__thisNode__, LINKS.imports$R87F), CONCEPTS.DefaultGenericChunkDependency$Lo)).where((it) -> SNodeOperations.isInstanceOf(SLinkOperations.getTarget(it, LINKS.chunk$2d8c), CONCEPTS.ExternalModule$xK)).findFirst((it) -> {
      Iterable<SNode> descriptors = SNodeOperations.ofConcept(SLinkOperations.getChildren(SNodeOperations.cast(SLinkOperations.getTarget(it, LINKS.chunk$2d8c), CONCEPTS.ExternalModule$xK), LINKS.descriptors$HrHA), CONCEPTS.HeaderDescriptor$fi);
      return Sequence.fromIterable(descriptors).count() == 1 && Objects.equals(SPropertyOperations.getString(Sequence.fromIterable(descriptors).first(), PROPS.path$GYq6), headerName);
    });
    if ((existingSHI != null)) {
      if (!(SPropertyOperations.getBoolean(existingSHI, PROPS.addToHeader$afci))) {
        SPropertyOperations.assign(existingSHI, PROPS.addToHeader$afci, addToHeader);
      }
      if (SPropertyOperations.getString(existingSHI, PROPS.preprocessorCondition$fZDq) == null) {
        SPropertyOperations.assign(existingSHI, PROPS.preprocessorCondition$fZDq, preprocessorCondition);
        SPropertyOperations.assign(existingSHI, PROPS.alternativeHeaderFileName$9gfv, alternativeHeaderName);
      }
    } else if ((matchingEM != null) && preprocessorCondition == null) {
      if (!(SPropertyOperations.getBoolean(matchingEM, PROPS.reexport$dsPD))) {
        SPropertyOperations.assign(matchingEM, PROPS.reexport$dsPD, addToHeader);
      }
    } else {
      ListSequence.fromList(SLinkOperations.getChildren(__thisNode__, LINKS.stdImports$iLdf)).addElement(createStdHeaderImport_45q1cp_a0a0a0c0h(headerName, addToHeader, preprocessorCondition, alternativeHeaderName));
    }
  }
  /*package*/ static Iterable<SNode> importsForImplementation_id4GT16cGhZhY(@NotNull SNode __thisNode__) {
    return ((Iterable<SNode>) ImplementationModule__BehaviorDescriptor.unionOf_id5qxpWJ_usOE.invoke(__thisNode__, ListSequence.fromList(SLinkOperations.getChildren(__thisNode__, LINKS.stdImports$iLdf)).where((it) -> !(SPropertyOperations.getBoolean(it, PROPS.addToHeader$afci))), ListSequence.fromList(SLinkOperations.getChildren(__thisNode__, LINKS.imports$R87F)).where((it) -> !((boolean) IChunkDependency__BehaviorDescriptor.isReexported_id6clJcrKt_a0.invoke(it)))));
  }
  /*package*/ static Iterable<SNode> importsForHeader_id4GT16cGhZmM(@NotNull SNode __thisNode__) {
    return ((Iterable<SNode>) ImplementationModule__BehaviorDescriptor.unionOf_id5qxpWJ_usOE.invoke(__thisNode__, ListSequence.fromList(SLinkOperations.getChildren(__thisNode__, LINKS.stdImports$iLdf)).where((it) -> SPropertyOperations.getBoolean(it, PROPS.addToHeader$afci)), ListSequence.fromList(SLinkOperations.getChildren(__thisNode__, LINKS.imports$R87F)).where((it) -> (boolean) IChunkDependency__BehaviorDescriptor.isReexported_id6clJcrKt_a0.invoke(it))));
  }
  /*package*/ static Iterable<SNode> unionOf_id5qxpWJ_usOE(@NotNull SNode __thisNode__, Iterable<SNode> stdHeaders, final Iterable<SNode> imports) {
    Iterable<SNode> distinctStdHeaders = Sequence.fromIterable(stdHeaders).where((final SNode stdHeader) -> Sequence.fromIterable(SNodeOperations.ofConcept(SLinkOperations.collectMany(SNodeOperations.ofConcept(SLinkOperations.collect(SNodeOperations.ofConcept(imports, CONCEPTS.DefaultGenericChunkDependency$Lo), LINKS.chunk$2d8c), CONCEPTS.ExternalModule$xK), LINKS.descriptors$HrHA), CONCEPTS.HeaderDescriptor$fi)).all((it) -> !(Objects.equals(SPropertyOperations.getString(it, PROPS.path$GYq6), SPropertyOperations.getString(stdHeader, PROPS.headerFileName$737q)))));
    return Sequence.fromIterable(distinctStdHeaders).concat(Sequence.fromIterable(imports));
  }
  /*package*/ static List<SNode> getImportingHeaderGeneratingExternalModules_id2qdxtjsX3cT(@NotNull final SNode __thisNode__) {
    return ListSequence.fromList(SModelOperations.roots(SNodeOperations.getModel(__thisNode__), CONCEPTS.ExternalModule$xK)).where((it) -> SPropertyOperations.getBoolean(it, PROPS.generateHeader$5uoj)).where((it) -> new ModuleImportsAnalyzer(it).hasImportsFor(__thisNode__)).toList();
  }
  /*package*/ static boolean isImportedByHeaderGeneratingExternalModules_id2qdxtjsXgl1(@NotNull SNode __thisNode__) {
    return ListSequence.fromList(ImplementationModule__BehaviorDescriptor.getImportingHeaderGeneratingExternalModules_id2qdxtjsX3cT.invoke(__thisNode__)).isNotEmpty();
  }
  /*package*/ static boolean canMangleNames_id4J$Pz4XGFls(@NotNull SNode __thisNode__) {
    return true;
  }
  /*package*/ static String getHeaderFileName_id7Aba6BzsCXL(@NotNull SNode __thisNode__) {
    return (((boolean) ImplementationModule__BehaviorDescriptor.isImportedByHeaderGeneratingExternalModules_id2qdxtjsXgl1.invoke(__thisNode__)) ? SPropertyOperations.getString(__thisNode__, PROPS.name$MnvL) : Module__BehaviorDescriptor.getHeaderFileName_id7Aba6BzsCXL.invokeSuper(__thisNode__, CONCEPTS.ImplementationModule$Gy));
  }
  /*package*/ static String[] getCategories_id2N1CSrzPN_a(@NotNull SNode __thisNode__) {
    return new String[]{"transitive dependencies (2D)", "transitive dependencies"};
  }
  /*package*/ static void getVisualization_id2N1CSrzPN_f(@NotNull SNode __thisNode__, String category, VisGraph g) {
    g.add("skinparam linetype ortho");
    Set<SNode> visited = SetSequence.fromSet(new HashSet<SNode>());
    ImplementationModule__BehaviorDescriptor.renderDependentModules_id6GZLGDRrk_R.invokeSpecial(__thisNode__, __thisNode__, g, visited, category);
  }
  /*package*/ static void renderDependentModules_id6GZLGDRrk_R(@NotNull SNode __thisNode__, SNode m, final VisGraph g, Set<SNode> visited, String category) {
    Pattern pattern = Pattern.compile("\\.");
    if (SetSequence.fromSet(visited).contains(m)) {
      return;
    }
    SetSequence.fromSet(visited).addElement(m);
    String vp = SPropertyOperations.getString(m, PROPS.virtualPackage$EkXl);
    if (vp != null) {
      Sequence.fromIterable(Sequence.fromArray(pattern.split(vp))).visitAll((it) -> g.add("package " + it + " {"));
    }
    g.add("component " + SPropertyOperations.getString(m, PROPS.name$MnvL) + " <<module>>");
    g.add("url of " + SPropertyOperations.getString(m, PROPS.name$MnvL) + " is " + g.createLink(m));

    if (vp != null) {
      Sequence.fromIterable(Sequence.fromArray(pattern.split(vp))).visitAll((it) -> g.add("}"));
    }
    String op = " .> ";
    if (category.contains("2D")) {
      op = " ..> ";
    }
    for (SNode mi : Sequence.fromIterable(Chunk__BehaviorDescriptor.dependencies_id6clJcrJYPM5.invoke(m))) {
      ImplementationModule__BehaviorDescriptor.renderDependentModules_id6GZLGDRrk_R.invokeSpecial(__thisNode__, IChunkDependency__BehaviorDescriptor.chunk_id6clJcrJZN1z.invoke(mi), g, visited, category);
      g.add(SPropertyOperations.getString(m, PROPS.name$MnvL) + op + SPropertyOperations.getString(IChunkDependency__BehaviorDescriptor.chunk_id6clJcrJZN1z.invoke(mi), PROPS.name$MnvL));
    }
  }
  /*package*/ static String getIDEDisplayString_idIviauXb0g(@NotNull SNode __thisNode__) {
    return "Implementation Module";
  }
  /*package*/ static int getSortOrder_id1uL8CIs6rGR(@NotNull SNode __thisNode__) {
    return 100;
  }
  /*package*/ static String getCategory_id1uL8CIsKxiy(@NotNull SNode __thisNode__) {
    return "Implementation";
  }
  /*package*/ static Iterable<SNode> allFunctions_id1H6zsul0og9(@NotNull SNode __thisNode__) {
    return SNodeOperations.ofConcept(Module__BehaviorDescriptor.flattenedContents_id5DwX9xlFNJe.invoke(__thisNode__), CONCEPTS.IFunctionLike$zN);
  }
  /*package*/ static Iterable<SNode> allFunctionsWithoutInlineFunctionsForHeader_id1H6zsul5X7v(@NotNull SNode __thisNode__) {
    return Sequence.fromIterable(ImplementationModule__BehaviorDescriptor.allFunctions_id1H6zsul0og9.invoke(__thisNode__)).disjunction(Sequence.fromIterable(ImplementationModule__BehaviorDescriptor.inlineFunctionsForHeader_id1H6zsul0ctg.invoke(__thisNode__)));
  }
  /*package*/ static Iterable<SNode> inlineFunctionsForHeader_id1H6zsul0ctg(@NotNull SNode __thisNode__) {
    return Sequence.fromIterable(SNodeOperations.ofConcept(ImplementationModule__BehaviorDescriptor.allFunctions_id1H6zsul0og9.invoke(__thisNode__), CONCEPTS.Function$K8)).where((it) -> (boolean) Function__BehaviorDescriptor.isInlineFunctionForHeader_id4UbnhBFeL_b.invoke(it));
  }
  /*package*/ static List<IconResource> getIconMarks_id6TtJ6IUkhQJ(@NotNull SNode __thisNode__) {
    List<IconResource> markIcons = new ArrayList<IconResource>(BaseConcept__BehaviorDescriptor.getIconMarks_id6TtJ6IUkhQJ.invokeSuper(__thisNode__, CONCEPTS.ImplementationModule$Gy));

    if (Sequence.fromIterable(SNodeOperations.ofConcept(SLinkOperations.getChildren(__thisNode__, LINKS.contents$3Vmy), CONCEPTS.IMayActAsMainFunction$Ej)).any((it) -> (boolean) IMayActAsMainFunction__BehaviorDescriptor.actsAsMainFunction_id2MbfxrZIa1M.invoke(it))) {
      markIcons.add(BLIconMarks.RUNNABLE);
    }

    return markIcons;
  }

  /*package*/ ImplementationModule__BehaviorDescriptor() {
  }

  @Override
  protected void initNode(@NotNull SNode node, @NotNull SConstructor constructor, @Nullable Object[] parameters) {
    ___init___(node);
  }

  @Override
  protected <T> T invokeSpecial0(@NotNull SNode node, @NotNull SMethod<T> method, @Nullable Object[] parameters) {
    int methodIndex = BH_METHODS.indexOf(method);
    if (methodIndex < 0) {
      throw new BHMethodNotFoundException(this, method);
    }
    switch (methodIndex) {
      case 0:
        return (T) ((Iterable<SNode>) implModuleImports_id7RiewQ_lfTD(node));
      case 1:
        return (T) ((SNode) createProxy_id35NyAcQ9ZV(node));
      case 2:
        return (T) ((String) getUnitName_id4pl5GY7LKmR(node));
      case 3:
        return (T) ((Boolean) hasImportFor_id7PpjtdjCFN8(node, (SNode) parameters[0]));
      case 4:
        ensureImportFor_idipMc9Qxfn(node, (SNode) parameters[0]);
        return null;
      case 5:
        ensureImportFor_id43R883waUzW(node, (SNode) parameters[0], ((boolean) (Boolean) parameters[1]));
        return null;
      case 6:
        ensureImportFor_id3YjQI$k4m49(node, (SNode) parameters[0], ((boolean) (Boolean) parameters[1]), ((boolean) (Boolean) parameters[2]));
        return null;
      case 7:
        addUniqueStdHeaderImport_id4GT16cGfDI2(node, (String) parameters[0], ((boolean) (Boolean) parameters[1]), (String) parameters[2], (String) parameters[3]);
        return null;
      case 8:
        return (T) ((Iterable<SNode>) importsForImplementation_id4GT16cGhZhY(node));
      case 9:
        return (T) ((Iterable<SNode>) importsForHeader_id4GT16cGhZmM(node));
      case 10:
        return (T) ((Iterable<SNode>) unionOf_id5qxpWJ_usOE(node, (Iterable<SNode>) parameters[0], (Iterable<SNode>) parameters[1]));
      case 11:
        return (T) ((List<SNode>) getImportingHeaderGeneratingExternalModules_id2qdxtjsX3cT(node));
      case 12:
        return (T) ((Boolean) isImportedByHeaderGeneratingExternalModules_id2qdxtjsXgl1(node));
      case 13:
        return (T) ((Boolean) canMangleNames_id4J$Pz4XGFls(node));
      case 14:
        return (T) ((String) getHeaderFileName_id7Aba6BzsCXL(node));
      case 15:
        return (T) ((String[]) getCategories_id2N1CSrzPN_a(node));
      case 16:
        getVisualization_id2N1CSrzPN_f(node, (String) parameters[0], (VisGraph) parameters[1]);
        return null;
      case 17:
        renderDependentModules_id6GZLGDRrk_R(node, (SNode) parameters[0], (VisGraph) parameters[1], (Set<SNode>) parameters[2], (String) parameters[3]);
        return null;
      case 18:
        return (T) ((String) getIDEDisplayString_idIviauXb0g(node));
      case 19:
        return (T) ((Integer) getSortOrder_id1uL8CIs6rGR(node));
      case 20:
        return (T) ((String) getCategory_id1uL8CIsKxiy(node));
      case 21:
        return (T) ((Iterable<SNode>) allFunctions_id1H6zsul0og9(node));
      case 22:
        return (T) ((Iterable<SNode>) allFunctionsWithoutInlineFunctionsForHeader_id1H6zsul5X7v(node));
      case 23:
        return (T) ((Iterable<SNode>) inlineFunctionsForHeader_id1H6zsul0ctg(node));
      case 24:
        return (T) ((List<IconResource>) getIconMarks_id6TtJ6IUkhQJ(node));
      default:
        throw new BHMethodNotFoundException(this, method);
    }
  }

  @Override
  protected <T> T invokeSpecial0(@NotNull SAbstractConcept concept, @NotNull SMethod<T> method, @Nullable Object[] parameters) {
    int methodIndex = BH_METHODS.indexOf(method);
    if (methodIndex < 0) {
      throw new BHMethodNotFoundException(this, method);
    }
    switch (methodIndex) {
      default:
        throw new BHMethodNotFoundException(this, method);
    }
  }

  @NotNull
  @Override
  public List<SMethod<?>> getDeclaredMethods() {
    return BH_METHODS;
  }

  @NotNull
  @Override
  public SAbstractConcept getConcept() {
    return CONCEPT;
  }
  private static SNode createStdHeaderImport_45q1cp_a0a0a0c0h(String p0, boolean p1, String p2, String p3) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.StdHeaderImport$Mg);
    n0.setProperty(PROPS.headerFileName$737q, p0);
    n0.setProperty(PROPS.addToHeader$afci, "" + (p1));
    n0.setProperty(PROPS.preprocessorCondition$fZDq, p2);
    n0.setProperty(PROPS.alternativeHeaderFileName$9gfv, p3);
    return n0.getResult();
  }

  private static final class LINKS {
    /*package*/ static final SContainmentLink contents$3Vmy = MetaAdapterFactory.getContainmentLink(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x595522006a5b933dL, 0x595522006a5b9351L, "contents");
    /*package*/ static final SContainmentLink imports$R87F = MetaAdapterFactory.getContainmentLink(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x595522006a5b933dL, 0x124a1a47a698847aL, "imports");
    /*package*/ static final SContainmentLink descriptors$HrHA = MetaAdapterFactory.getContainmentLink(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x54e261614fd1abc1L, 0x54e261614fd1abfaL, "descriptors");
    /*package*/ static final SReferenceLink chunk$2d8c = MetaAdapterFactory.getReferenceLink(0xd4280a54f6df4383L, 0xaa41d1b2bffa7eb1L, 0xa5e2d2ae6f5954dL, 0xa5e2d2ae6f69c27L, "chunk");
    /*package*/ static final SContainmentLink stdImports$iLdf = MetaAdapterFactory.getContainmentLink(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x595522006a5b933dL, 0x7dedf745a022ec4dL, "stdImports");
  }

  private static final class CONCEPTS {
    /*package*/ static final SConcept EmptyModuleContent$uN = MetaAdapterFactory.getConcept(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x7bfc48eac80b1723L, "com.mbeddr.core.modules.structure.EmptyModuleContent");
    /*package*/ static final SConcept ImplementationModule$Gy = MetaAdapterFactory.getConcept(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x595522006a5b934eL, "com.mbeddr.core.modules.structure.ImplementationModule");
    /*package*/ static final SConcept ExternalModule$xK = MetaAdapterFactory.getConcept(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x54e261614fd1abc1L, "com.mbeddr.core.modules.structure.ExternalModule");
    /*package*/ static final SConcept HeaderDescriptor$fi = MetaAdapterFactory.getConcept(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x54e261614fd1abe0L, "com.mbeddr.core.modules.structure.HeaderDescriptor");
    /*package*/ static final SConcept DefaultGenericChunkDependency$Lo = MetaAdapterFactory.getConcept(0xd4280a54f6df4383L, 0xaa41d1b2bffa7eb1L, 0xa5e2d2ae6f5954dL, "com.mbeddr.core.base.structure.DefaultGenericChunkDependency");
    /*package*/ static final SInterfaceConcept IFunctionLike$zN = MetaAdapterFactory.getInterfaceConcept(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x707ac195dd5d51f2L, "com.mbeddr.core.modules.structure.IFunctionLike");
    /*package*/ static final SConcept Function$K8 = MetaAdapterFactory.getConcept(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x595522006a5b97e1L, "com.mbeddr.core.modules.structure.Function");
    /*package*/ static final SInterfaceConcept IMayActAsMainFunction$Ej = MetaAdapterFactory.getInterfaceConcept(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x2c8b3e16ffb89fbaL, "com.mbeddr.core.modules.structure.IMayActAsMainFunction");
    /*package*/ static final SConcept StdHeaderImport$Mg = MetaAdapterFactory.getConcept(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x352a4cc97cbb0b0fL, "com.mbeddr.core.modules.structure.StdHeaderImport");
  }

  private static final class PROPS {
    /*package*/ static final SProperty path$GYq6 = MetaAdapterFactory.getProperty(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x54e261614fd1abceL, 0x54e261614fd1abd0L, "path");
    /*package*/ static final SProperty reexport$dsPD = MetaAdapterFactory.getProperty(0xd4280a54f6df4383L, 0xaa41d1b2bffa7eb1L, 0xa5e2d2ae6f5954dL, 0xa5e2d2ae6f68c8bL, "reexport");
    /*package*/ static final SProperty headerFileName$737q = MetaAdapterFactory.getProperty(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x352a4cc97cbb0b0fL, 0x352a4cc97cbb0b10L, "headerFileName");
    /*package*/ static final SProperty addToHeader$afci = MetaAdapterFactory.getProperty(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x352a4cc97cbb0b0fL, 0x4b3904632c431fa8L, "addToHeader");
    /*package*/ static final SProperty preprocessorCondition$fZDq = MetaAdapterFactory.getProperty(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x352a4cc97cbb0b0fL, 0x3c6724ab1495b8aeL, "preprocessorCondition");
    /*package*/ static final SProperty alternativeHeaderFileName$9gfv = MetaAdapterFactory.getProperty(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x352a4cc97cbb0b0fL, 0x15a43936a85dd10aL, "alternativeHeaderFileName");
    /*package*/ static final SProperty generateHeader$5uoj = MetaAdapterFactory.getProperty(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x54e261614fd1abc1L, 0x73802639ed144f9bL, "generateHeader");
    /*package*/ static final SProperty name$MnvL = MetaAdapterFactory.getProperty(0xceab519525ea4f22L, 0x9b92103b95ca8c0cL, 0x110396eaaa4L, 0x110396ec041L, "name");
    /*package*/ static final SProperty virtualPackage$EkXl = MetaAdapterFactory.getProperty(0xceab519525ea4f22L, 0x9b92103b95ca8c0cL, 0x10802efe25aL, 0x115eca8579fL, "virtualPackage");
  }
}
