package com.mbeddr.core.modules.dataFlow;

/*Generated by MPS */

import jetbrains.mps.lang.dataFlow.DataFlowBuilder;
import jetbrains.mps.lang.dataFlow.DataFlowBuilderContext;
import com.mbeddr.mpsutil.dataflow.runtime.plugin.InterProceduralDataFlowGraphBuilderContext;
import com.mbeddr.mpsutil.dataflow.runtime.plugin.InterProceduralDataFlowGraphBuilder;
import org.jetbrains.mps.openapi.model.SNode;
import com.mbeddr.mpsutil.dataflow.runtime.plugin.EntryPointInstruction;
import com.mbeddr.mpsutil.dataflow.runtime.plugin.InterProceduralDataFlowGraph;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import java.util.Collection;
import jetbrains.mps.lang.dataFlow.framework.IDataFlowModeId;
import java.util.Arrays;
import jetbrains.mps.lang.dataFlow.framework.ConceptDataFlowModeId;
import org.jetbrains.mps.openapi.language.SContainmentLink;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;

public class Function_InterProcedural_BuilderMode_DataFlow extends DataFlowBuilder {
  public void build(final DataFlowBuilderContext _context) {
    {
      InterProceduralDataFlowGraphBuilderContext context = (InterProceduralDataFlowGraphBuilderContext) _context;
      InterProceduralDataFlowGraphBuilder builder = (InterProceduralDataFlowGraphBuilder) context.getBuilder();
      SNode point = _context.getNode();
      EntryPointInstruction entryPointInstruction = new EntryPointInstruction(point);
      String label = entryPointInstruction.getLabel();
      InterProceduralDataFlowGraph program = builder.getProgram();

      builder.addInstruction(entryPointInstruction, null);
      program.addEntryPoint(label, entryPointInstruction);
    }
    _context.getBuilder().build((SNode) SLinkOperations.getTarget(_context.getNode(), LINKS.body$1GE0));
  }
  @Override
  public Collection<IDataFlowModeId> getModes() {
    return Arrays.<IDataFlowModeId>asList(new ConceptDataFlowModeId("com.mbeddr.mpsutil.dataflow.structure.InterProcedural_BuilderMode"));
  }

  private static final class LINKS {
    /*package*/ static final SContainmentLink body$1GE0 = MetaAdapterFactory.getContainmentLink(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x595522006a5b97e1L, 0x3a16e3a9c7ad9954L, "body");
  }
}
