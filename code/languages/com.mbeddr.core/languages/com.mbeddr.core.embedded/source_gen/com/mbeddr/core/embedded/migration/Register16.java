package com.mbeddr.core.embedded.migration;

/*Generated by MPS */

import jetbrains.mps.lang.migration.runtime.base.MigrationScriptBase;
import org.jetbrains.mps.openapi.model.SNode;
import org.jetbrains.mps.openapi.module.SModule;
import org.jetbrains.mps.openapi.model.SModel;
import jetbrains.mps.internal.collections.runtime.Sequence;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SModelOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SPropertyOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import jetbrains.mps.lang.migration.runtime.base.MigrationScriptReference;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import org.jetbrains.mps.openapi.language.SProperty;
import org.jetbrains.mps.openapi.language.SContainmentLink;
import org.jetbrains.mps.openapi.language.SConcept;

public class Register16 extends MigrationScriptBase {
  private final String description = "Register16";
  public String getCaption() {
    return description;
  }
  @Override
  public boolean isRerunnable() {
    return true;
  }
  public SNode execute(final SModule m) {
    doExecute(m);
    return null;
  }
  public void doExecute(final SModule m) {
    for (SModel _model : Sequence.fromIterable(m.getModels())) {
      final SModel model = (SModel) _model;
      for (SNode node : ListSequence.fromList(SModelOperations.nodes(model, CONCEPTS.Register16$nv))) {
        SPropertyOperations.assign(node, PROPS.lowSuffix$K8an, SPropertyOperations.getString(node, PROPS.lowSuffix_old$xNJP));
        SPropertyOperations.assign(node, PROPS.lowSuffix_old$xNJP, null);

        SPropertyOperations.assign(node, PROPS.highSuffix$K7Gl, SPropertyOperations.getString(node, PROPS.highSuffix_old$xNwO));
        SPropertyOperations.assign(node, PROPS.highSuffix_old$xNwO, null);

        SPropertyOperations.assign(node, PROPS.enableLowHighAccess$KdMJ, SPropertyOperations.getBoolean(node, PROPS.allowCharAccess$xNYQ));
        SPropertyOperations.assign(node, PROPS.allowCharAccess$xNYQ, false);

        SLinkOperations.setTarget(node, LINKS.lowSetExpr$Klyg, SLinkOperations.getTarget(node, LINKS.lowSetterExpr$xN2M));
        SNodeOperations.deleteNode(SLinkOperations.getTarget(node, LINKS.lowSetterExpr$xN2M));

        SLinkOperations.setTarget(node, LINKS.highSetExpr$Km0i, SLinkOperations.getTarget(node, LINKS.highSetterExpr$xNhN));
        SNodeOperations.deleteNode(SLinkOperations.getTarget(node, LINKS.highSetterExpr$xNhN));
      }
    }
  }
  public MigrationScriptReference getReference() {
    return new MigrationScriptReference(MetaAdapterFactory.getLanguage(0x783af01f87a7412cL, 0xbe99293a162652b5L, "com.mbeddr.core.embedded"), 0);
  }

  private static final class PROPS {
    /*package*/ static final SProperty lowSuffix$K8an = MetaAdapterFactory.getProperty(0x783af01f87a7412cL, 0xbe99293a162652b5L, 0x4d50c5580dcfee58L, 0x4d50c5580dd00d85L, "lowSuffix");
    /*package*/ static final SProperty lowSuffix_old$xNJP = MetaAdapterFactory.getProperty(0x783af01f87a7412cL, 0xbe99293a162652b5L, 0x5f072ca6a415402eL, 0x5f072ca6a4154032L, "lowSuffix_old");
    /*package*/ static final SProperty highSuffix$K7Gl = MetaAdapterFactory.getProperty(0x783af01f87a7412cL, 0xbe99293a162652b5L, 0x4d50c5580dcfee58L, 0x4d50c5580dd00d83L, "highSuffix");
    /*package*/ static final SProperty highSuffix_old$xNwO = MetaAdapterFactory.getProperty(0x783af01f87a7412cL, 0xbe99293a162652b5L, 0x5f072ca6a415402eL, 0x5f072ca6a4154031L, "highSuffix_old");
    /*package*/ static final SProperty enableLowHighAccess$KdMJ = MetaAdapterFactory.getProperty(0x783af01f87a7412cL, 0xbe99293a162652b5L, 0x4d50c5580dcfee58L, 0x4d50c5580dd00d88L, "enableLowHighAccess");
    /*package*/ static final SProperty allowCharAccess$xNYQ = MetaAdapterFactory.getProperty(0x783af01f87a7412cL, 0xbe99293a162652b5L, 0x5f072ca6a415402eL, 0x5f072ca6a4154033L, "allowCharAccess");
  }

  private static final class LINKS {
    /*package*/ static final SContainmentLink lowSetExpr$Klyg = MetaAdapterFactory.getContainmentLink(0x783af01f87a7412cL, 0xbe99293a162652b5L, 0x4d50c5580dcfee58L, 0x4d50c5580dd00d94L, "lowSetExpr");
    /*package*/ static final SContainmentLink lowSetterExpr$xN2M = MetaAdapterFactory.getContainmentLink(0x783af01f87a7412cL, 0xbe99293a162652b5L, 0x5f072ca6a415402eL, 0x5f072ca6a415402fL, "lowSetterExpr");
    /*package*/ static final SContainmentLink highSetExpr$Km0i = MetaAdapterFactory.getContainmentLink(0x783af01f87a7412cL, 0xbe99293a162652b5L, 0x4d50c5580dcfee58L, 0x4d50c5580dd00d96L, "highSetExpr");
    /*package*/ static final SContainmentLink highSetterExpr$xNhN = MetaAdapterFactory.getContainmentLink(0x783af01f87a7412cL, 0xbe99293a162652b5L, 0x5f072ca6a415402eL, 0x5f072ca6a4154030L, "highSetterExpr");
  }

  private static final class CONCEPTS {
    /*package*/ static final SConcept Register16$nv = MetaAdapterFactory.getConcept(0x783af01f87a7412cL, 0xbe99293a162652b5L, 0x5f072ca6a415402eL, "com.mbeddr.core.embedded.structure.Register16");
  }
}
