package com.mbeddr.core.buildconfig.plugin;

/*Generated by MPS */

import jetbrains.mps.smodel.structure.Extension;
import com.mbeddr.core.expressions.plugin.IPrintfFunctionCustomizer;
import org.jetbrains.mps.openapi.model.SNode;
import org.jetbrains.mps.openapi.model.SModel;
import jetbrains.mps.internal.collections.runtime.Sequence;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SModelOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SConceptOperations;
import com.mbeddr.core.util.behavior.PrintfReportingStrategy__BehaviorDescriptor;
import java.util.List;
import org.jetbrains.mps.openapi.language.SConcept;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import org.jetbrains.mps.openapi.language.SContainmentLink;

public class ReportingPrintfFunctionCustomizer extends Extension.Default<IPrintfFunctionCustomizer> {
  public ReportingPrintfFunctionCustomizer() {
    super("com.mbeddr.core.expressions.PrintfFunctionCustomizer");
  }


  public IPrintfFunctionCustomizer get() {
    return new IPrintfFunctionCustomizer() {
      private SNode getPrintfReportingStrategy(SModel model) {
        return Sequence.fromIterable(SNodeOperations.ofConcept(Sequence.fromIterable(SNodeOperations.ofConcept(SLinkOperations.getChildren(ListSequence.fromList(SModelOperations.roots(model, CONCEPTS.BuildConfiguration$kH)).first(), LINKS.configurationItems$HPvE), CONCEPTS.ReportingConfiguration$fJ)).select((it) -> SLinkOperations.getTarget(it, LINKS.strategy$Ev7G)), CONCEPTS.PrintfReportingStrategy$7s)).first();
      }

      @Override
      public boolean isApplicable(SModel model) {
        return (getPrintfReportingStrategy(model) != null);
      }

      @Override
      public String getPrintfFunctionName(SModel model) {
        return SConceptOperations.conceptAlias(SNodeOperations.getConcept(getPrintfReportingStrategy(model)));
      }

      @Override
      public String getPrintfFunctionHeader(SModel model) {
        return (String) PrintfReportingStrategy__BehaviorDescriptor.getPrintfFunctionHeader_id4zXqh6WD7FE.invoke(getPrintfReportingStrategy(model));
      }

      @Override
      public List<String> getPrintfFunctionExtraArgs(SModel model) {
        return (List<String>) PrintfReportingStrategy__BehaviorDescriptor.getPrintfFunctionExtraArgs_id6xgYZv8qBqM.invoke(getPrintfReportingStrategy(model));
      }

      @Override
      public List<String> getPrintfFunctionExtraArgDeclarations(SModel model) {
        return (List<String>) PrintfReportingStrategy__BehaviorDescriptor.getPrintfFunctionExtraArgDeclarations_id6xgYZv8qDaS.invoke(getPrintfReportingStrategy(model));
      }
    };
  }

  private static final class CONCEPTS {
    /*package*/ static final SConcept BuildConfiguration$kH = MetaAdapterFactory.getConcept(0x2d7fadf533f64e80L, 0xa78f0f739add2bdeL, 0x6b1af9f9f43c2f48L, "com.mbeddr.core.buildconfig.structure.BuildConfiguration");
    /*package*/ static final SConcept ReportingConfiguration$fJ = MetaAdapterFactory.getConcept(0x2693fc719b0e4b05L, 0xab13f57227d675f2L, 0x3de41a718bc2ae6dL, "com.mbeddr.core.util.structure.ReportingConfiguration");
    /*package*/ static final SConcept PrintfReportingStrategy$7s = MetaAdapterFactory.getConcept(0x2693fc719b0e4b05L, 0xab13f57227d675f2L, 0x3de41a718bc2ae8cL, "com.mbeddr.core.util.structure.PrintfReportingStrategy");
  }

  private static final class LINKS {
    /*package*/ static final SContainmentLink configurationItems$HPvE = MetaAdapterFactory.getContainmentLink(0xd4280a54f6df4383L, 0xaa41d1b2bffa7eb1L, 0x3de41a718bc20029L, 0x3de41a718bc2002aL, "configurationItems");
    /*package*/ static final SContainmentLink strategy$Ev7G = MetaAdapterFactory.getContainmentLink(0x2693fc719b0e4b05L, 0xab13f57227d675f2L, 0x3de41a718bc2ae6dL, 0x3de41a718bc2ae9fL, "strategy");
  }
}
