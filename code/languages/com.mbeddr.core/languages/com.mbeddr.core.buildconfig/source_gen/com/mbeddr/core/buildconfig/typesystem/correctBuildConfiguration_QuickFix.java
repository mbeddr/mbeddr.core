package com.mbeddr.core.buildconfig.typesystem;

/*Generated by MPS */

import jetbrains.mps.errors.QuickFix_Runtime;
import jetbrains.mps.smodel.SNodePointer;
import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.internal.collections.runtime.Sequence;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SConceptOperations;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import org.jetbrains.mps.openapi.language.SReferenceLink;
import org.jetbrains.mps.openapi.language.SContainmentLink;

public class correctBuildConfiguration_QuickFix extends QuickFix_Runtime {
  public correctBuildConfiguration_QuickFix() {
    super(new SNodePointer("r:3ff8d811-87f2-49a7-b8a3-5cb1e610f6d2(com.mbeddr.core.buildconfig.typesystem)", "785275130114754291"));
  }
  public String getDescription(SNode node) {
    return "Add Missing Modules";
  }
  public void execute(SNode node) {
    for (final SNode missingModule : Sequence.fromIterable(((Iterable<SNode>) correctBuildConfiguration_QuickFix.this.getField("missingModules")[0]))) {
      SNode ref = SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x2d7fadf533f64e80L, 0xa78f0f739add2bdeL, 0x6b1af9f9f43c2f4bL, "com.mbeddr.core.buildconfig.structure.ModuleRef"));
      SLinkOperations.setTarget(ref, LINKS.module$6_LN, missingModule);
      if ((ListSequence.fromList(SLinkOperations.getChildren(((SNode) correctBuildConfiguration_QuickFix.this.getField("bin")[0]), LINKS.referencedModules$Su7l)).findFirst((it) -> SLinkOperations.getTarget(it, LINKS.module$6_LN) == missingModule) == null)) {
        ListSequence.fromList(SLinkOperations.getChildren(((SNode) correctBuildConfiguration_QuickFix.this.getField("bin")[0]), LINKS.referencedModules$Su7l)).addElement(ref);
      }
    }
  }

  private static final class LINKS {
    /*package*/ static final SReferenceLink module$6_LN = MetaAdapterFactory.getReferenceLink(0x2d7fadf533f64e80L, 0xa78f0f739add2bdeL, 0x6b1af9f9f43c2f4bL, 0x6b1af9f9f43c2f4cL, "module");
    /*package*/ static final SContainmentLink referencedModules$Su7l = MetaAdapterFactory.getContainmentLink(0x2d7fadf533f64e80L, 0xa78f0f739add2bdeL, 0x46097107c8d98c14L, 0x46097107c8d98c17L, "referencedModules");
  }
}
