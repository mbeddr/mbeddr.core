package com.mbeddr.core.make.plugin;

/*Generated by MPS */

import jetbrains.mps.internal.collections.runtime.Sequence;
import java.io.File;

public class MakeUtil {

  public static int MAKE_EXIT_CODE;

  public static boolean isNumber(String lineNumber) {
    try {
      Integer.parseInt(lineNumber);
    } catch (RuntimeException e) {
      return false;
    }
    return true;
  }

  public static boolean isCFile(String fileName) {
    return fileName.endsWith(".c") || fileName.endsWith(".h");
  }

  public static String getModelName(String fqModelName) {
    // File.separator needs to be escaped, because on Windows it will be the backslash,
    // which cannot be used as a regular expression
    Iterable<String> pathAndModelName = Sequence.fromArray(fqModelName.split("\\" + File.separator));
    if (isNotEmptyString(Sequence.fromIterable(pathAndModelName).last())) {
      return Sequence.fromIterable(pathAndModelName).last();
    } else {
      return null;
    }
  }


  private static boolean isNotEmptyString(String str) {
    return str != null && str.length() > 0;
  }
}
