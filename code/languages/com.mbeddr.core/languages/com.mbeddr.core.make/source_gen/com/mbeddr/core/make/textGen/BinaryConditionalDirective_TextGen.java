package com.mbeddr.core.make.textGen;

/*Generated by MPS */

import jetbrains.mps.text.rt.TextGenDescriptorBase;
import jetbrains.mps.text.rt.TextGenContext;
import jetbrains.mps.text.impl.TextGenSupport;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SConceptOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import org.jetbrains.mps.openapi.language.SContainmentLink;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import org.jetbrains.mps.openapi.language.SConcept;
import org.jetbrains.mps.openapi.language.SInterfaceConcept;

public class BinaryConditionalDirective_TextGen extends TextGenDescriptorBase {
  @Override
  public void generateText(final TextGenContext ctx) {
    final TextGenSupport tgs = new TextGenSupport(ctx);
    tgs.append(SConceptOperations.conceptAlias(SNodeOperations.getConcept(ctx.getPrimaryInput())));
    tgs.append(" (");
    if ((SLinkOperations.getTarget(ctx.getPrimaryInput(), LINKS.leftArg$fDja) != null)) {
      tgs.appendNode(SLinkOperations.getTarget(ctx.getPrimaryInput(), LINKS.leftArg$fDja));
    }
    tgs.append(",");
    if ((SLinkOperations.getTarget(ctx.getPrimaryInput(), LINKS.rightArg$fEHg) != null)) {
      tgs.appendNode(SLinkOperations.getTarget(ctx.getPrimaryInput(), LINKS.rightArg$fEHg));
    }
    tgs.append(")");
    tgs.newLine();

    for (SNode command : ListSequence.fromList(SLinkOperations.getChildren(ctx.getPrimaryInput(), LINKS.contentIfTrue$2ngF))) {
      if ((SNodeOperations.getNodeAncestor(ctx.getPrimaryInput(), CONCEPTS.Rule$it, false, false) != null) && !(SNodeOperations.isInstanceOf(command, CONCEPTS.ConditionalDirective$$j))) {
        tgs.append("\t");
      }
      tgs.appendNode(command);
    }
    if (ListSequence.fromList(SLinkOperations.getChildren(ctx.getPrimaryInput(), LINKS.contentIfFalse$e86a)).isNotEmpty()) {
      tgs.append("else");
      tgs.newLine();
      for (SNode command : ListSequence.fromList(SLinkOperations.getChildren(ctx.getPrimaryInput(), LINKS.contentIfFalse$e86a))) {
        if ((SNodeOperations.getNodeAncestor(ctx.getPrimaryInput(), CONCEPTS.Rule$it, false, false) != null) && !(SNodeOperations.isInstanceOf(command, CONCEPTS.ConditionalDirective$$j))) {
          tgs.append("\t");
        }
        tgs.appendNode(command);
      }
    }
    tgs.append("endif");
    tgs.newLine();
    if ((SNodeOperations.getNodeAncestor(ctx.getPrimaryInput(), CONCEPTS.IMakefileContent$is, false, false) == null)) {
      tgs.newLine();
    }
  }

  private static final class LINKS {
    /*package*/ static final SContainmentLink leftArg$fDja = MetaAdapterFactory.getContainmentLink(0xf93d1dbebfd142ddL, 0x932af375fa6f5373L, 0x22c2a484f9cc4673L, 0x7abf078657e6a38aL, "leftArg");
    /*package*/ static final SContainmentLink rightArg$fEHg = MetaAdapterFactory.getContainmentLink(0xf93d1dbebfd142ddL, 0x932af375fa6f5373L, 0x22c2a484f9cc4673L, 0x7abf078657e6a390L, "rightArg");
    /*package*/ static final SContainmentLink contentIfTrue$2ngF = MetaAdapterFactory.getContainmentLink(0xf93d1dbebfd142ddL, 0x932af375fa6f5373L, 0x4d97d3d525fa6b81L, 0x4d97d3d525fa6cdfL, "contentIfTrue");
    /*package*/ static final SContainmentLink contentIfFalse$e86a = MetaAdapterFactory.getContainmentLink(0xf93d1dbebfd142ddL, 0x932af375fa6f5373L, 0x4d97d3d525fa6b81L, 0x4d97d3d525fa72edL, "contentIfFalse");
  }

  private static final class CONCEPTS {
    /*package*/ static final SConcept ConditionalDirective$$j = MetaAdapterFactory.getConcept(0xf93d1dbebfd142ddL, 0x932af375fa6f5373L, 0x4d97d3d525fa6b81L, "com.mbeddr.core.make.structure.ConditionalDirective");
    /*package*/ static final SConcept Rule$it = MetaAdapterFactory.getConcept(0xf93d1dbebfd142ddL, 0x932af375fa6f5373L, 0x52941adca602a85dL, "com.mbeddr.core.make.structure.Rule");
    /*package*/ static final SInterfaceConcept IMakefileContent$is = MetaAdapterFactory.getInterfaceConcept(0xf93d1dbebfd142ddL, 0x932af375fa6f5373L, 0x6968eace2bb79b0eL, "com.mbeddr.core.make.structure.IMakefileContent");
  }
}
