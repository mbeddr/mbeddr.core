package com.mbeddr.core.dependencies.plugin;

/*Generated by MPS */

import com.mbeddr.core.modules.behavior.CodeBlockAnalyer;
import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import org.jetbrains.mps.openapi.language.SAbstractConcept;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import org.jetbrains.mps.openapi.language.SConcept;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import org.jetbrains.mps.openapi.language.SReferenceLink;

public class MbeddrCodeBlockAnalyer extends CodeBlockAnalyer {

  public MbeddrCodeBlockAnalyer(SNode root, SNode contextNode, SNode outsideBoundary) {
    super(root, contextNode, outsideBoundary);
  }


  public Iterable<SNode> findUsedTypeDefs() {
    return ListSequence.fromList(SNodeOperations.getNodeDescendants(statementList, CONCEPTS.TypeDefType$3U, false, new SAbstractConcept[]{})).where((it) -> isOutside(SLinkOperations.getTarget(it, LINKS.typeDef$LmRK)));
  }

  public Iterable<SNode> findStructTypes() {
    return ListSequence.fromList(SNodeOperations.getNodeDescendants(statementList, CONCEPTS.StructType$B3, false, new SAbstractConcept[]{})).where((it) -> isOutside(SLinkOperations.getTarget(it, LINKS.struct$WCsg)));
  }

  public Iterable<SNode> findUnionTypes() {
    return ListSequence.fromList(SNodeOperations.getNodeDescendants(statementList, CONCEPTS.UnionType$xI, false, new SAbstractConcept[]{})).where((it) -> isOutside(SLinkOperations.getTarget(it, LINKS.union$RA0L)));
  }

  public Iterable<SNode> findEnumTypes() {
    return ListSequence.fromList(SNodeOperations.getNodeDescendants(statementList, CONCEPTS.EnumType$MR, false, new SAbstractConcept[]{})).where((it) -> isOutside(SLinkOperations.getTarget(it, LINKS.enum$UImg)));
  }

  private static final class CONCEPTS {
    /*package*/ static final SConcept TypeDefType$3U = MetaAdapterFactory.getConcept(0xefda956e491e4f00L, 0xba1436af2f213ecfL, 0x54e261614fd09a17L, "com.mbeddr.core.udt.structure.TypeDefType");
    /*package*/ static final SConcept StructType$B3 = MetaAdapterFactory.getConcept(0xefda956e491e4f00L, 0xba1436af2f213ecfL, 0x58bef62304fc0a38L, "com.mbeddr.core.udt.structure.StructType");
    /*package*/ static final SConcept UnionType$xI = MetaAdapterFactory.getConcept(0xefda956e491e4f00L, 0xba1436af2f213ecfL, 0x51a277741cc58405L, "com.mbeddr.core.udt.structure.UnionType");
    /*package*/ static final SConcept EnumType$MR = MetaAdapterFactory.getConcept(0xefda956e491e4f00L, 0xba1436af2f213ecfL, 0x7a4924c71c1b4045L, "com.mbeddr.core.udt.structure.EnumType");
  }

  private static final class LINKS {
    /*package*/ static final SReferenceLink typeDef$LmRK = MetaAdapterFactory.getReferenceLink(0xefda956e491e4f00L, 0xba1436af2f213ecfL, 0x54e261614fd09a17L, 0x54e261614fd09a18L, "typeDef");
    /*package*/ static final SReferenceLink struct$WCsg = MetaAdapterFactory.getReferenceLink(0xefda956e491e4f00L, 0xba1436af2f213ecfL, 0x58bef62304fc0a38L, 0x58bef62304fc0a39L, "struct");
    /*package*/ static final SReferenceLink union$RA0L = MetaAdapterFactory.getReferenceLink(0xefda956e491e4f00L, 0xba1436af2f213ecfL, 0x51a277741cc58405L, 0x51a277741cc58407L, "union");
    /*package*/ static final SReferenceLink enum$UImg = MetaAdapterFactory.getReferenceLink(0xefda956e491e4f00L, 0xba1436af2f213ecfL, 0x7a4924c71c1b4045L, 0x7a4924c71c1b4046L, "enum");
  }
}
