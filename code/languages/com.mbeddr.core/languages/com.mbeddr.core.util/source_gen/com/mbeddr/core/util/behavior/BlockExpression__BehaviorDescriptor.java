package com.mbeddr.core.util.behavior;

/*Generated by MPS */

import jetbrains.mps.core.aspects.behaviour.BaseBHDescriptor;
import org.jetbrains.mps.openapi.language.SAbstractConcept;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import jetbrains.mps.core.aspects.behaviour.api.SMethod;
import jetbrains.mps.core.aspects.behaviour.SMethodBuilder;
import jetbrains.mps.core.aspects.behaviour.SJavaCompoundTypeImpl;
import jetbrains.mps.core.aspects.behaviour.AccessPrivileges;
import org.jetbrains.mps.openapi.model.SNode;
import java.util.List;
import java.util.Arrays;
import org.jetbrains.annotations.NotNull;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import java.util.Set;
import jetbrains.mps.internal.collections.runtime.SetSequence;
import java.util.LinkedHashSet;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SPropertyOperations;
import jetbrains.mps.core.aspects.behaviour.api.SConstructor;
import org.jetbrains.annotations.Nullable;
import jetbrains.mps.core.aspects.behaviour.api.BHMethodNotFoundException;
import org.jetbrains.mps.openapi.language.SContainmentLink;
import org.jetbrains.mps.openapi.language.SReferenceLink;
import org.jetbrains.mps.openapi.language.SConcept;
import org.jetbrains.mps.openapi.language.SInterfaceConcept;
import org.jetbrains.mps.openapi.language.SProperty;

public final class BlockExpression__BehaviorDescriptor extends BaseBHDescriptor {
  private static final SAbstractConcept CONCEPT = MetaAdapterFactory.getConcept(0x2693fc719b0e4b05L, 0xab13f57227d675f2L, 0x4eeaa4ca8221c604L, "com.mbeddr.core.util.structure.BlockExpression");

  public static final SMethod<String> functionNamePrefix_id4VEDcE28$HZ = new SMethodBuilder<String>(new SJavaCompoundTypeImpl(String.class)).name("functionNamePrefix").modifiers(0, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(5686538669182307199L).languageId(0xab13f57227d675f2L, 0x2693fc719b0e4b05L).build2();
  public static final SMethod<Iterable<SNode>> outsideLVDRefs_id4VEDcE28A0w = new SMethodBuilder<Iterable<SNode>>(new SJavaCompoundTypeImpl((Class<Iterable<SNode>>) ((Class) Object.class))).name("outsideLVDRefs").modifiers(0, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(5686538669182312480L).languageId(0xab13f57227d675f2L, 0x2693fc719b0e4b05L).build2();
  public static final SMethod<Iterable<SNode>> outsideArgRefs_id4VEDcE28B8G = new SMethodBuilder<Iterable<SNode>>(new SJavaCompoundTypeImpl((Class<Iterable<SNode>>) ((Class) Object.class))).name("outsideArgRefs").modifiers(0, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(5686538669182317100L).languageId(0xab13f57227d675f2L, 0x2693fc719b0e4b05L).build2();
  public static final SMethod<Iterable<SNode>> outsideGlobalConstFuncRefs_id7FuBBp$HY1Y = new SMethodBuilder<Iterable<SNode>>(new SJavaCompoundTypeImpl((Class<Iterable<SNode>>) ((Class) Object.class))).name("outsideGlobalConstFuncRefs").modifiers(0, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(8853688148790075518L).languageId(0xab13f57227d675f2L, 0x2693fc719b0e4b05L).build2();
  public static final SMethod<String> renderReadable_id1VQvajLb13M = new SMethodBuilder<String>(new SJavaCompoundTypeImpl(String.class)).name("renderReadable").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(2231107713271337202L).languageId(0x81d97714ff227fb0L, 0x61c69711ed614850L).build2();
  public static final SMethod<Boolean> isSideeffectFree_id6SENleF$SRD = new SMethodBuilder<Boolean>(new SJavaCompoundTypeImpl(Boolean.TYPE)).name("isSideeffectFree").modifiers(8, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(7938383052438474217L).languageId(0x81d97714ff227fb0L, 0x61c69711ed614850L).build2();
  public static final SMethod<String> genFunctionName_id2edJ9spxTW = new SMethodBuilder<String>(new SJavaCompoundTypeImpl(String.class)).name("genFunctionName").modifiers(0, AccessPrivileges.PUBLIC).concept(CONCEPT).baseMethodId(40029861253095036L).languageId(0xab13f57227d675f2L, 0x2693fc719b0e4b05L).build2();

  private static final List<SMethod<?>> BH_METHODS = Arrays.<SMethod<?>>asList(functionNamePrefix_id4VEDcE28$HZ, outsideLVDRefs_id4VEDcE28A0w, outsideArgRefs_id4VEDcE28B8G, outsideGlobalConstFuncRefs_id7FuBBp$HY1Y, renderReadable_id1VQvajLb13M, isSideeffectFree_id6SENleF$SRD, genFunctionName_id2edJ9spxTW);

  private static void ___init___(@NotNull SNode __thisNode__) {
    SLinkOperations.setNewChild(__thisNode__, LINKS.body$MH6M, null);
  }

  /*package*/ static String functionNamePrefix_id4VEDcE28$HZ(@NotNull SNode __thisNode__) {
    return "blockexpr";
  }
  /*package*/ static Iterable<SNode> outsideLVDRefs_id4VEDcE28A0w(@NotNull final SNode __thisNode__) {
    final Set<SNode> res = SetSequence.fromSet(new LinkedHashSet<SNode>());
    ListSequence.fromList(SNodeOperations.getNodeDescendants(__thisNode__, CONCEPTS.LocalVarRef$VQ, false, new SAbstractConcept[]{})).where((it) -> !(ListSequence.fromList(SNodeOperations.getNodeAncestors(SLinkOperations.getTarget(it, LINKS.var$YUyC), null, false)).contains(__thisNode__))).visitAll((it) -> SetSequence.fromSet(res).addElement(SLinkOperations.getTarget(it, LINKS.var$YUyC)));
    return res;
  }
  /*package*/ static Iterable<SNode> outsideArgRefs_id4VEDcE28B8G(@NotNull SNode __thisNode__) {
    final Set<SNode> res = SetSequence.fromSet(new LinkedHashSet<SNode>());
    ListSequence.fromList(SNodeOperations.getNodeDescendants(__thisNode__, CONCEPTS.ArgumentRef$iE, false, new SAbstractConcept[]{})).visitAll((it) -> SetSequence.fromSet(res).addElement(SLinkOperations.getTarget(it, LINKS.arg$WIp5)));
    return res;
  }
  /*package*/ static Iterable<SNode> outsideGlobalConstFuncRefs_id7FuBBp$HY1Y(@NotNull SNode __thisNode__) {
    final Set<SNode> res = SetSequence.fromSet(new LinkedHashSet<SNode>());
    ListSequence.fromList(SNodeOperations.getNodeDescendants(__thisNode__, CONCEPTS.GlobalConstantFuntionArgumentRef$yo, false, new SAbstractConcept[]{})).visitAll((it) -> SetSequence.fromSet(res).addElement(SLinkOperations.getTarget(it, LINKS.arg$jQg5)));
    return res;
  }
  /*package*/ static String renderReadable_id1VQvajLb13M(@NotNull SNode __thisNode__) {
    return "blockexpr { ... }";
  }
  /*package*/ static boolean isSideeffectFree_id6SENleF$SRD(@NotNull SNode __thisNode__) {
    return false;
  }
  /*package*/ static String genFunctionName_id2edJ9spxTW(@NotNull SNode __thisNode__) {
    if (isNotEmptyString(SPropertyOperations.getString(__thisNode__, PROPS.optionalName$Wq82))) {
      return SPropertyOperations.getString(__thisNode__, PROPS.optionalName$Wq82);
    }
    SNode mc = SNodeOperations.getNodeAncestor(__thisNode__, CONCEPTS.IModuleContent$H1, false, false);
    if (mc != null) {
      return "blockexpr_" + SPropertyOperations.getString(mc, PROPS.name$MnvL) + "_" + ListSequence.fromList(SNodeOperations.getNodeDescendants(mc, null, false, new SAbstractConcept[]{})).indexOf(__thisNode__);
    }
    SNode chunk = SNodeOperations.getNodeAncestor(__thisNode__, CONCEPTS.Chunk$sT, false, false);
    if (chunk != null) {
      return "blockexpr_" + SPropertyOperations.getString(chunk, PROPS.name$MnvL) + "_" + ListSequence.fromList(SNodeOperations.getNodeDescendants(chunk, null, false, new SAbstractConcept[]{})).indexOf(__thisNode__);
    }
    return "blockexpr_" + ListSequence.fromList(SNodeOperations.getNodeDescendants(SNodeOperations.getContainingRoot(__thisNode__), null, false, new SAbstractConcept[]{})).indexOf(__thisNode__);
  }

  /*package*/ BlockExpression__BehaviorDescriptor() {
  }

  @Override
  protected void initNode(@NotNull SNode node, @NotNull SConstructor constructor, @Nullable Object[] parameters) {
    ___init___(node);
  }

  @Override
  protected <T> T invokeSpecial0(@NotNull SNode node, @NotNull SMethod<T> method, @Nullable Object[] parameters) {
    int methodIndex = BH_METHODS.indexOf(method);
    if (methodIndex < 0) {
      throw new BHMethodNotFoundException(this, method);
    }
    switch (methodIndex) {
      case 0:
        return (T) ((String) functionNamePrefix_id4VEDcE28$HZ(node));
      case 1:
        return (T) ((Iterable<SNode>) outsideLVDRefs_id4VEDcE28A0w(node));
      case 2:
        return (T) ((Iterable<SNode>) outsideArgRefs_id4VEDcE28B8G(node));
      case 3:
        return (T) ((Iterable<SNode>) outsideGlobalConstFuncRefs_id7FuBBp$HY1Y(node));
      case 4:
        return (T) ((String) renderReadable_id1VQvajLb13M(node));
      case 5:
        return (T) ((Boolean) isSideeffectFree_id6SENleF$SRD(node));
      case 6:
        return (T) ((String) genFunctionName_id2edJ9spxTW(node));
      default:
        throw new BHMethodNotFoundException(this, method);
    }
  }

  @Override
  protected <T> T invokeSpecial0(@NotNull SAbstractConcept concept, @NotNull SMethod<T> method, @Nullable Object[] parameters) {
    int methodIndex = BH_METHODS.indexOf(method);
    if (methodIndex < 0) {
      throw new BHMethodNotFoundException(this, method);
    }
    switch (methodIndex) {
      default:
        throw new BHMethodNotFoundException(this, method);
    }
  }

  @NotNull
  @Override
  public List<SMethod<?>> getDeclaredMethods() {
    return BH_METHODS;
  }

  @NotNull
  @Override
  public SAbstractConcept getConcept() {
    return CONCEPT;
  }
  private static boolean isNotEmptyString(String str) {
    return str != null && str.length() > 0;
  }

  private static final class LINKS {
    /*package*/ static final SContainmentLink body$MH6M = MetaAdapterFactory.getContainmentLink(0x2693fc719b0e4b05L, 0xab13f57227d675f2L, 0x4eeaa4ca8221c604L, 0x4eeaa4ca8221c605L, "body");
    /*package*/ static final SReferenceLink var$YUyC = MetaAdapterFactory.getReferenceLink(0xa9d696470840491eL, 0xbf392eb0805d2011L, 0x1d0c3765e2e1d67aL, 0x1d0c3765e2e1fe27L, "var");
    /*package*/ static final SReferenceLink arg$WIp5 = MetaAdapterFactory.getReferenceLink(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x1d0c3765e2e7d0baL, 0x1d0c3765e2e7d0bbL, "arg");
    /*package*/ static final SReferenceLink arg$jQg5 = MetaAdapterFactory.getReferenceLink(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x656c7fdaacd43d75L, 0x656c7fdaacd43d76L, "arg");
  }

  private static final class CONCEPTS {
    /*package*/ static final SConcept LocalVarRef$VQ = MetaAdapterFactory.getConcept(0xa9d696470840491eL, 0xbf392eb0805d2011L, 0x1d0c3765e2e1d67aL, "com.mbeddr.core.statements.structure.LocalVarRef");
    /*package*/ static final SConcept ArgumentRef$iE = MetaAdapterFactory.getConcept(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x1d0c3765e2e7d0baL, "com.mbeddr.core.modules.structure.ArgumentRef");
    /*package*/ static final SConcept GlobalConstantFuntionArgumentRef$yo = MetaAdapterFactory.getConcept(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x656c7fdaacd43d75L, "com.mbeddr.core.modules.structure.GlobalConstantFuntionArgumentRef");
    /*package*/ static final SInterfaceConcept IModuleContent$H1 = MetaAdapterFactory.getInterfaceConcept(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x595522006a5b934fL, "com.mbeddr.core.modules.structure.IModuleContent");
    /*package*/ static final SConcept Chunk$sT = MetaAdapterFactory.getConcept(0xd4280a54f6df4383L, 0xaa41d1b2bffa7eb1L, 0x6315bcc6effb4ea6L, "com.mbeddr.core.base.structure.Chunk");
  }

  private static final class PROPS {
    /*package*/ static final SProperty optionalName$Wq82 = MetaAdapterFactory.getProperty(0x2693fc719b0e4b05L, 0xab13f57227d675f2L, 0x4eeaa4ca8221c604L, 0x4ed16d83a1d03003L, "optionalName");
    /*package*/ static final SProperty name$MnvL = MetaAdapterFactory.getProperty(0xceab519525ea4f22L, 0x9b92103b95ca8c0cL, 0x110396eaaa4L, 0x110396ec041L, "name");
  }
}
