package com.mbeddr.core.util.dataFlow;

/*Generated by MPS */

import jetbrains.mps.lang.dataFlow.DataFlowBuilder;
import jetbrains.mps.lang.dataFlow.DataFlowBuilderContext;
import java.util.List;
import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import org.jetbrains.mps.openapi.language.SContainmentLink;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;

public class DecTab_DataFlow extends DataFlowBuilder {
  public void build(final DataFlowBuilderContext _context) {

    List<SNode> xExpressions = SLinkOperations.getChildren(_context.getNode(), LINKS.xExpr$c$rM);
    List<SNode> yExpressions = SLinkOperations.getChildren(_context.getNode(), LINKS.yExpr$c$EN);
    List<SNode> cExpressions = SLinkOperations.getChildren(_context.getNode(), LINKS.cExpr$c$TO);
    int xExpSize = xExpressions.size();
    int yExpSize = yExpressions.size();





    for (int x = 0; x < xExpSize; x++) {
      SNode xExpression = (SNode) xExpressions.get(x);
      SNode nextXExpression = null;
      if (x < (xExpSize - 1)) {
        nextXExpression = (SNode) xExpressions.get(x + 1);
      }
      _context.getBuilder().build((SNode) xExpression);
      for (int y = 0; y < yExpSize; y++) {
        SNode yExpression = ((SNode) yExpressions.get(y));
        _context.getBuilder().emitIfJump(_context.getBuilder().before(yExpression), "r:35c897fe-90d3-4a22-95a0-043a53f24848(com.mbeddr.core.util.dataFlow)/5016705600179854727");
      }
      if (nextXExpression != null) {
        _context.getBuilder().emitJump(_context.getBuilder().before(nextXExpression), "r:35c897fe-90d3-4a22-95a0-043a53f24848(com.mbeddr.core.util.dataFlow)/1951948517712360108");
      } else {
        _context.getBuilder().emitJump(_context.getBuilder().before(SLinkOperations.getTarget(_context.getNode(), LINKS.def$$UYK)), "r:35c897fe-90d3-4a22-95a0-043a53f24848(com.mbeddr.core.util.dataFlow)/5016705600179920809");
      }

      for (int y = 0; y < yExpSize; y++) {
        if (x == 0) {
          SNode yExpression = ((SNode) yExpressions.get(y));
          _context.getBuilder().build((SNode) yExpression);
          for (int i = y * xExpSize; i < y * xExpSize + xExpSize; i++) {
            if (i < ListSequence.fromList(cExpressions).count()) {
              SNode cExpression = (SNode) cExpressions.get(i);
              _context.getBuilder().emitIfJump(_context.getBuilder().before(cExpression), "r:35c897fe-90d3-4a22-95a0-043a53f24848(com.mbeddr.core.util.dataFlow)/5016705600179887761");
            }
          }
          _context.getBuilder().emitJump(_context.getBuilder().before(SLinkOperations.getTarget(_context.getNode(), LINKS.def$$UYK)), "r:35c897fe-90d3-4a22-95a0-043a53f24848(com.mbeddr.core.util.dataFlow)/5016705600179920815");
          for (int i = y * xExpSize; i < y * xExpSize + xExpSize; i++) {
            if (i < ListSequence.fromList(cExpressions).count()) {
              _context.getBuilder().build((SNode) (SNode) cExpressions.get(i));
              _context.getBuilder().emitJump(_context.getBuilder().after(_context.getNode()), "r:35c897fe-90d3-4a22-95a0-043a53f24848(com.mbeddr.core.util.dataFlow)/5016705600179887837");
            } else {
              _context.getBuilder().emitNop("r:35c897fe-90d3-4a22-95a0-043a53f24848(com.mbeddr.core.util.dataFlow)/7105319468237957162");
            }
          }
        }

      }

    }
    _context.getBuilder().build((SNode) SLinkOperations.getTarget(_context.getNode(), LINKS.def$$UYK));
    _context.getBuilder().emitNop("r:35c897fe-90d3-4a22-95a0-043a53f24848(com.mbeddr.core.util.dataFlow)/5781444008245327288");




  }

  private static final class LINKS {
    /*package*/ static final SContainmentLink xExpr$c$rM = MetaAdapterFactory.getContainmentLink(0x2693fc719b0e4b05L, 0xab13f57227d675f2L, 0x562cea45589fd7ddL, 0x562cea45589fd7deL, "xExpr");
    /*package*/ static final SContainmentLink yExpr$c$EN = MetaAdapterFactory.getContainmentLink(0x2693fc719b0e4b05L, 0xab13f57227d675f2L, 0x562cea45589fd7ddL, 0x562cea45589fd7dfL, "yExpr");
    /*package*/ static final SContainmentLink cExpr$c$TO = MetaAdapterFactory.getContainmentLink(0x2693fc719b0e4b05L, 0xab13f57227d675f2L, 0x562cea45589fd7ddL, 0x562cea45589fd7e0L, "cExpr");
    /*package*/ static final SContainmentLink def$$UYK = MetaAdapterFactory.getContainmentLink(0x2693fc719b0e4b05L, 0xab13f57227d675f2L, 0x562cea45589fd7ddL, 0x397f0b8bfd125416L, "def");
  }
}
