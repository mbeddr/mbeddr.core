package com.mbeddr.core.util.pluginSolution.plugin;

/*Generated by MPS */

import com.mbeddr.mpsutil.wizard.runtime.plugin.BaseProcessStep;
import jetbrains.mps.project.Project;
import javax.swing.JComponent;
import jetbrains.mps.ide.ui.dialogs.modules.NameLocationPanel;
import jetbrains.mps.ide.ui.dialogs.modules.NewModuleDialog;
import javax.swing.BoxLayout;
import javax.swing.Box;
import java.awt.Dimension;
import org.jetbrains.mps.openapi.util.ProgressMonitor;
import com.intellij.ide.wizard.AbstractWizardStepEx;
import com.intellij.ide.wizard.CommitStepException;

public class Step_chooseSolutionName2 extends BaseProcessStep<Project> {
  public static final String ID = "com.mbeddr.core.util.pluginSolution.plugin::createNewProjectWizard@chooseSolutionName2";



  protected void createComponent(final JComponent mainpanel) {
    Step_chooseSolutionName2.this.priv_newSolutionSettings = new NameLocationPanel(NewModuleDialog.projectHome(((createNewProjectWizard_Wizard) this.wizard).input_currentProject), "Name:", "Location:");
    Step_chooseSolutionName2.this.priv_newSolutionSettings.withDefaults("NewSolution", "");
    Step_chooseSolutionName2.this.priv_newSolutionSettings.onChange(() -> Step_chooseSolutionName2.this.triggerValidation());

    mainpanel.setLayout(new BoxLayout(mainpanel, BoxLayout.PAGE_AXIS));
    mainpanel.add(Step_chooseSolutionName2.this.priv_newSolutionSettings);
    mainpanel.add(Box.createRigidArea(new Dimension(0, 5)));
  }
  public NameLocationPanel out_solutionSettings;
  private NameLocationPanel priv_newSolutionSettings;
  @Override
  public boolean isComplete() {
    return isNotEmptyString(Step_chooseSolutionName2.this.priv_newSolutionSettings.getModuleName());
  }
  @Override
  public Project execute(final Project output, final ProgressMonitor progress) {
    super.execute(output, progress);
    Step_chooseSolutionName2.this.out_solutionSettings = Step_chooseSolutionName2.this.priv_newSolutionSettings;
    return output;
  }

  public Step_chooseSolutionName2() {
    super("Solution Name", ID);
  }

  public void commit(AbstractWizardStepEx.CommitType type) throws CommitStepException {
  }
  private static boolean isNotEmptyString(String str) {
    return str != null && str.length() > 0;
  }
}
