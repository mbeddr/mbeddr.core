package com.mbeddr.core.util.pluginSolution.plugin;

/*Generated by MPS */

import org.jetbrains.mps.openapi.model.SModel;
import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import com.mbeddr.core.base.behavior.Chunk__BehaviorDescriptor;
import com.mbeddr.core.buildconfig.behavior.Binary__BehaviorDescriptor;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SConceptOperations;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SPropertyOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import org.jetbrains.mps.openapi.language.SContainmentLink;
import org.jetbrains.mps.openapi.language.SReferenceLink;
import org.jetbrains.mps.openapi.language.SConcept;
import org.jetbrains.mps.openapi.language.SProperty;

public class BasicEmbeddedDevModel implements IModelTemplate {

  public String getName() {
    return "Basic Setup for Embedded Development";
  }

  public void populateModel(SModel model) {
    SNode spiModule = WizardHelper.makeImplModule("SPI");
    ListSequence.fromList(SLinkOperations.getChildren(spiModule, LINKS.contents$3Vmy)).addElement(WizardHelper.makeComment("module for client server interfaces"));
    SLinkOperations.addNewChild(spiModule, LINKS.contents$3Vmy, CONCEPTS.EmptyModuleContent$uN);

    SNode spiImplModule = WizardHelper.makeImplModule("SPI_Impl");
    Chunk__BehaviorDescriptor.addGenericDependecyTo_id94IdDKwP70.invoke(spiImplModule, spiModule);
    ListSequence.fromList(SLinkOperations.getChildren(spiImplModule, LINKS.contents$3Vmy)).addElement(WizardHelper.makeComment("module for component implementations"));
    SLinkOperations.addNewChild(spiImplModule, LINKS.contents$3Vmy, CONCEPTS.EmptyModuleContent$uN);

    SNode mainModule = WizardHelper.makeImplModule("Main");
    SNode mf = WizardHelper.makeMainFunction();
    ListSequence.fromList(SLinkOperations.getChildren(mainModule, LINKS.contents$3Vmy)).addElement(mf);
    Chunk__BehaviorDescriptor.addGenericDependecyTo_id94IdDKwP70.invoke(mainModule, spiModule);
    Chunk__BehaviorDescriptor.addGenericDependecyTo_id94IdDKwP70.invoke(mainModule, spiImplModule);

    SNode bc = WizardHelper.makeBuildConfig();
    SNode makeExecutableWithModule = WizardHelper.makeExecutableWithModule("EmbeddedSystem", mainModule, bc);
    Binary__BehaviorDescriptor.addReferencedModule_id7hczD5fYy0H.invoke(makeExecutableWithModule, spiModule);
    Binary__BehaviorDescriptor.addReferencedModule_id7hczD5fYy0H.invoke(makeExecutableWithModule, spiImplModule);
    ListSequence.fromList(SLinkOperations.getChildren(bc, LINKS.binaries$R6lf)).addElement(makeExecutableWithModule);

    model.addRootNode(mainModule);
    model.addRootNode(spiModule);
    model.addRootNode(spiImplModule);
    model.addRootNode(bc);

    SNode table = SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x2693fc719b0e4b05L, 0xab13f57227d675f2L, 0x255082a0ba0bd96dL, "com.mbeddr.core.util.structure.MessageDefinitionTable"));
    SPropertyOperations.assign(table, PROPS.name$MnvL, "messages");
    ListSequence.fromList(SLinkOperations.getChildren(mainModule, LINKS.contents$3Vmy)).addElement(table);

    SNode mess = SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x2693fc719b0e4b05L, 0xab13f57227d675f2L, 0x255082a0ba0bd96fL, "com.mbeddr.core.util.structure.MessageDefinition"));
    SPropertyOperations.assign(mess, PROPS.name$MnvL, "HelloWorld");
    SPropertyOperations.setEnum(mess, PROPS.kind$j3ad, 0x255082a0ba0bd975L, "INFO");
    SPropertyOperations.assign(mess, PROPS.text$iX3N, "Hello, World!");
    ListSequence.fromList(SLinkOperations.getChildren(table, LINKS.messages$j3og)).addElement(mess);

    SNode report = SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x2693fc719b0e4b05L, 0xab13f57227d675f2L, 0x255082a0ba0cca95L, "com.mbeddr.core.util.structure.ReportStatement"));
    SLinkOperations.setNewChild(report, LINKS.msgref$sFa, null);
    SLinkOperations.setTarget(SLinkOperations.getTarget(report, LINKS.msgref$sFa), LINKS.table$8Fdi, table);
    SLinkOperations.setTarget(SLinkOperations.getTarget(report, LINKS.msgref$sFa), LINKS.msg$8Fsj, mess);

    SNodeOperations.insertPrevSiblingChild(ListSequence.fromList(SLinkOperations.getChildren(SLinkOperations.getTarget(mf, LINKS.body$1GE0), LINKS.statements$euTV)).first(), report);
  }

  private static final class LINKS {
    /*package*/ static final SContainmentLink contents$3Vmy = MetaAdapterFactory.getContainmentLink(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x595522006a5b933dL, 0x595522006a5b9351L, "contents");
    /*package*/ static final SContainmentLink binaries$R6lf = MetaAdapterFactory.getContainmentLink(0x2d7fadf533f64e80L, 0xa78f0f739add2bdeL, 0x6b1af9f9f43c2f48L, 0x46097107c8de43cbL, "binaries");
    /*package*/ static final SContainmentLink messages$j3og = MetaAdapterFactory.getContainmentLink(0x2693fc719b0e4b05L, 0xab13f57227d675f2L, 0x255082a0ba0bd96dL, 0x255082a0ba0bd977L, "messages");
    /*package*/ static final SContainmentLink msgref$sFa = MetaAdapterFactory.getContainmentLink(0x2693fc719b0e4b05L, 0xab13f57227d675f2L, 0x255082a0ba0cca95L, 0x255082a0ba0ceb99L, "msgref");
    /*package*/ static final SReferenceLink table$8Fdi = MetaAdapterFactory.getReferenceLink(0x2693fc719b0e4b05L, 0xab13f57227d675f2L, 0x255082a0ba0cca97L, 0x255082a0ba0cca98L, "table");
    /*package*/ static final SReferenceLink msg$8Fsj = MetaAdapterFactory.getReferenceLink(0x2693fc719b0e4b05L, 0xab13f57227d675f2L, 0x255082a0ba0cca97L, 0x255082a0ba0cca99L, "msg");
    /*package*/ static final SContainmentLink body$1GE0 = MetaAdapterFactory.getContainmentLink(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x595522006a5b97e1L, 0x3a16e3a9c7ad9954L, "body");
    /*package*/ static final SContainmentLink statements$euTV = MetaAdapterFactory.getContainmentLink(0xa9d696470840491eL, 0xbf392eb0805d2011L, 0x3a16e3a9c7ad9955L, 0x3a16e3a9c7ad9956L, "statements");
  }

  private static final class CONCEPTS {
    /*package*/ static final SConcept EmptyModuleContent$uN = MetaAdapterFactory.getConcept(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x7bfc48eac80b1723L, "com.mbeddr.core.modules.structure.EmptyModuleContent");
  }

  private static final class PROPS {
    /*package*/ static final SProperty name$MnvL = MetaAdapterFactory.getProperty(0xceab519525ea4f22L, 0x9b92103b95ca8c0cL, 0x110396eaaa4L, 0x110396ec041L, "name");
    /*package*/ static final SProperty kind$j3ad = MetaAdapterFactory.getProperty(0x2693fc719b0e4b05L, 0xab13f57227d675f2L, 0x255082a0ba0bd96fL, 0x255082a0ba0bd976L, "kind");
    /*package*/ static final SProperty text$iX3N = MetaAdapterFactory.getProperty(0x2693fc719b0e4b05L, 0xab13f57227d675f2L, 0x255082a0ba0bd96fL, 0x255082a0ba0bd971L, "text");
  }
}
