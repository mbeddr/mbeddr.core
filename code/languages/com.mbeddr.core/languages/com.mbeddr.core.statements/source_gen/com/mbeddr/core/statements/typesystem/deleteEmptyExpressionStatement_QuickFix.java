package com.mbeddr.core.statements.typesystem;

/*Generated by MPS */

import jetbrains.mps.errors.QuickFix_Runtime;
import jetbrains.mps.smodel.SNodePointer;
import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.IAttributeDescriptor;
import jetbrains.mps.editor.runtime.impl.cellActions.CommentUtil;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SConceptOperations;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import org.jetbrains.mps.openapi.language.SConcept;
import org.jetbrains.mps.openapi.language.SContainmentLink;

public class deleteEmptyExpressionStatement_QuickFix extends QuickFix_Runtime {
  public deleteEmptyExpressionStatement_QuickFix() {
    super(new SNodePointer("r:a7e7800a-15b6-4c02-ae4d-6b40a48c7370(com.mbeddr.core.statements.typesystem)", "5028988880060007509"));
  }
  public void execute(SNode node) {
    // Delete the ExpressionStatement when the expression is empty
    // If the expression has been commented out, keep the ex[pression statement commented out
    //  Solves issue accent-1773
    SNode commentAttribute = ListSequence.fromList(new IAttributeDescriptor.ChildAttribute(CONCEPTS.BaseCommentAttribute$nv, LINKS.expr$vamr).list(((SNode) deleteEmptyExpressionStatement_QuickFix.this.getField("es")[0]))).first();
    boolean hasComment = (commentAttribute != null);
    if (hasComment) {
      CommentUtil.uncomment(commentAttribute);
      CommentUtil.commentOut(((SNode) deleteEmptyExpressionStatement_QuickFix.this.getField("es")[0]));
    } else {
      SNode s = SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0xa9d696470840491eL, 0xbf392eb0805d2011L, 0x3a16e3a9c7ad6d03L, "com.mbeddr.core.statements.structure.Statement"));
      SNodeOperations.replaceWithAnother(((SNode) deleteEmptyExpressionStatement_QuickFix.this.getField("es")[0]), s);
    }
  }

  private static final class CONCEPTS {
    /*package*/ static final SConcept BaseCommentAttribute$nv = MetaAdapterFactory.getConcept(0xceab519525ea4f22L, 0x9b92103b95ca8c0cL, 0x3dcc194340c24debL, "jetbrains.mps.lang.core.structure.BaseCommentAttribute");
  }

  private static final class LINKS {
    /*package*/ static final SContainmentLink expr$vamr = MetaAdapterFactory.getContainmentLink(0xa9d696470840491eL, 0xbf392eb0805d2011L, 0x64ae61a4018a8592L, 0x64ae61a4018a8593L, "expr");
  }
}
