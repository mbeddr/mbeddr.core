package com.mbeddr.core.statements.dataFlow;

/*Generated by MPS */

import jetbrains.mps.lang.dataFlow.DataFlowBuilder;
import jetbrains.mps.lang.dataFlow.DataFlowBuilderContext;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import com.mbeddr.core.expressions.behavior.Expression__BehaviorDescriptor;
import org.jetbrains.mps.openapi.language.SContainmentLink;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;

public class ForStatement_DataFlow extends DataFlowBuilder {
  public void build(final DataFlowBuilderContext _context) {
    if (SLinkOperations.getTarget(_context.getNode(), LINKS.iterator$JLmf) != null) {
      _context.getBuilder().build((SNode) SLinkOperations.getTarget(_context.getNode(), LINKS.iterator$JLmf));
    }
    for (SNode additionalIterator : ListSequence.fromList(SLinkOperations.getChildren(_context.getNode(), LINKS.additionalIterators$YBJx))) {
      _context.getBuilder().build((SNode) additionalIterator);
    }

    _context.getBuilder().emitLabel("start");

    if (SLinkOperations.getTarget(_context.getNode(), LINKS.condition$JM3i) != null && (boolean) Expression__BehaviorDescriptor.isStaticallyEvaluatable_id3ilck8Kr3zN.invoke(SLinkOperations.getTarget(_context.getNode(), LINKS.condition$JM3i)) && Expression__BehaviorDescriptor.evaluateStatically_id6OxpEKG0KPv.invoke(SLinkOperations.getTarget(_context.getNode(), LINKS.condition$JM3i)) instanceof Boolean) {
      Boolean value = (Boolean) Expression__BehaviorDescriptor.evaluateStatically_id6OxpEKG0KPv.invoke(SLinkOperations.getTarget(_context.getNode(), LINKS.condition$JM3i));
      if (!(value)) {
        _context.getBuilder().emitJump(_context.getBuilder().after(_context.getNode()), "r:25b82005-e10a-44f3-8ec9-44bc58837757(com.mbeddr.core.statements.dataFlow)/5781444008244463012");
      }
    } else if (SLinkOperations.getTarget(_context.getNode(), LINKS.condition$JM3i) != null) {
      _context.getBuilder().build((SNode) SLinkOperations.getTarget(_context.getNode(), LINKS.condition$JM3i));
      _context.getBuilder().emitIfJump(_context.getBuilder().after(_context.getNode()), "r:25b82005-e10a-44f3-8ec9-44bc58837757(com.mbeddr.core.statements.dataFlow)/5781444008244463029");
    }

    if (SLinkOperations.getTarget(_context.getNode(), LINKS.body$JDnH) != null) {
      _context.getBuilder().build((SNode) SLinkOperations.getTarget(_context.getNode(), LINKS.body$JDnH));
    }

    for (SNode incr : ListSequence.fromList(SLinkOperations.getChildren(_context.getNode(), LINKS.incr$JRFE))) {
      final SNode finalIncr = incr;
      _context.getBuilder().emitMayBeUnreachable(() -> _context.getBuilder().build((SNode) finalIncr));
    }

    _context.getBuilder().emitMayBeUnreachable(() -> _context.getBuilder().emitJump(_context.getBuilder().label(_context.getNode(), "start"), "r:25b82005-e10a-44f3-8ec9-44bc58837757(com.mbeddr.core.statements.dataFlow)/2476922757080602643"));
  }

  private static final class LINKS {
    /*package*/ static final SContainmentLink iterator$JLmf = MetaAdapterFactory.getContainmentLink(0xa9d696470840491eL, 0xbf392eb0805d2011L, 0x64ae61a40186e676L, 0x64ae61a401870e40L, "iterator");
    /*package*/ static final SContainmentLink additionalIterators$YBJx = MetaAdapterFactory.getContainmentLink(0xa9d696470840491eL, 0xbf392eb0805d2011L, 0x64ae61a40186e676L, 0x5239321dec4ec665L, "additionalIterators");
    /*package*/ static final SContainmentLink condition$JM3i = MetaAdapterFactory.getContainmentLink(0xa9d696470840491eL, 0xbf392eb0805d2011L, 0x64ae61a40186e676L, 0x64ae61a401870e43L, "condition");
    /*package*/ static final SContainmentLink body$JDnH = MetaAdapterFactory.getContainmentLink(0xa9d696470840491eL, 0xbf392eb0805d2011L, 0x64ae61a40186e676L, 0x64ae61a401870e33L, "body");
    /*package*/ static final SContainmentLink incr$JRFE = MetaAdapterFactory.getContainmentLink(0xa9d696470840491eL, 0xbf392eb0805d2011L, 0x64ae61a40186e676L, 0x64ae61a401870e46L, "incr");
  }
}
