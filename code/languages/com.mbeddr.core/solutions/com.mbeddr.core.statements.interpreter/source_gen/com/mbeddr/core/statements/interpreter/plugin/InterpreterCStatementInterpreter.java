package com.mbeddr.core.statements.interpreter.plugin;

/*Generated by MPS */

import com.mbeddr.mpsutil.interpreter.rt.ConditionalInterpreterBase;
import java.util.List;
import com.mbeddr.mpsutil.interpreter.rt.IEvaluator;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import com.mbeddr.mpsutil.interpreter.rt.IConditionalEvaluator;
import com.mbeddr.mpsutil.interpreter.rt.ConditionalConceptEvaluatorBase;
import org.jetbrains.mps.openapi.model.SNode;
import com.mbeddr.mpsutil.interpreter.rt.IContext;
import com.mbeddr.mpsutil.interpreter.rt.ICoverageAnalyzer;
import com.mbeddr.mpsutil.interpreter.rt.ComputationTrace;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import com.mbeddr.mpsutil.interpreter.rt.InterpreterEscapeException;
import com.mbeddr.mpsutil.interpreter.rt.InterpreterRuntimeException;
import com.mbeddr.mpsutil.interpreter.rt.EvaluatorInfo;
import com.mbeddr.core.base.behavior.IReference__BehaviorDescriptor;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SPropertyOperations;
import com.mbeddr.core.expressions.behavior.IVariableDeclaration__BehaviorDescriptor;
import com.mbeddr.mpsutil.interpreter.rt.TypedChildConstraintImpl;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SConceptOperations;
import com.mbeddr.mpsutil.interpreter.rt.IConditionalInterpreter;
import com.mbeddr.mpsutil.interpreter.rt.ITypeMapper;
import com.mbeddr.mpsutil.interpreter.rt.IRelationship;
import com.mbeddr.mpsutil.interpreter.rt.InterpretAfterRelationshipImpl;
import org.jetbrains.mps.openapi.language.SConcept;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import org.jetbrains.mps.openapi.language.SInterfaceConcept;
import org.jetbrains.mps.openapi.language.SContainmentLink;
import org.jetbrains.mps.openapi.language.SProperty;

public class InterpreterCStatementInterpreter extends ConditionalInterpreterBase {
  public InterpreterCStatementInterpreter() {
    init();
  }

  @Override
  public String getCategory() {
    return "CInterpreter";
  }

  protected void populateEvaluators(List<? extends IEvaluator> evaluators) {
    ListSequence.fromList(((List<IConditionalEvaluator>) evaluators)).addElement(new ConditionalConceptEvaluatorBase(CONCEPTS.StatementList$y1, "r:ac210026-ad43-4bdd-8d39-e09ff89cd7f1(com.mbeddr.core.statements.interpreter.plugin)/4535693827938064347", true) {
      public Object evaluateEvaluator(SNode node, IContext context, ICoverageAnalyzer coverage, ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          if (this.concept != SNodeOperations.getConcept(node)) {
            coverage.visitedConcept(SNodeOperations.getConcept(node));
          }
          Object result = null;

          for (SNode statement : ListSequence.fromList(SLinkOperations.getChildren(node, LINKS.statements$euTV))) {
            if (SNodeOperations.isInstanceOf(statement, CONCEPTS.ReturnStatement$Kx)) {
              return context.getRootInterpreter().evaluate(statement, context, coverage, trace, false);
            } else {
              result = context.getRootInterpreter().evaluate(statement, context, coverage, trace, false);
            }
          }

          return result;
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("{()", node, ex, trace);
        }
      }

      @Override
      public String toString() {
        return "StatementList";
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("StatementList", "http://127.0.0.1:63320/node?ref=1f11fc3d-9b58-44f8-b5e6-38de86552f26%2Fi%3A10000001%28com.mbeddr.core.statements.interpreter%40transient51%2Fcom.mbeddr.core.statements.interpreter.plugin%400%29%2F4535693827938064347");
      }

      @Override
      public boolean canLookupBeCached() {
        return false;
      }

    });
    ListSequence.fromList(((List<IConditionalEvaluator>) evaluators)).addElement(new ConditionalConceptEvaluatorBase(CONCEPTS.ExpressionStatement$SU, "r:ac210026-ad43-4bdd-8d39-e09ff89cd7f1(com.mbeddr.core.statements.interpreter.plugin)/4535693827938064381", true) {
      public Object evaluateEvaluator(SNode node, IContext context, ICoverageAnalyzer coverage, ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          if (this.concept != SNodeOperations.getConcept(node)) {
            coverage.visitedConcept(SNodeOperations.getConcept(node));
          }
          return ((Object) castUp(context.getRootInterpreter().evaluate(SLinkOperations.getTarget(node, LINKS.expr$vamr), context, coverage, trace, false), Object.class));
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException(";()", node, ex, trace);
        }
      }

      @Override
      public String toString() {
        return "ExpressionStatement";
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("ExpressionStatement", "http://127.0.0.1:63320/node?ref=1f11fc3d-9b58-44f8-b5e6-38de86552f26%2Fi%3A10000001%28com.mbeddr.core.statements.interpreter%40transient51%2Fcom.mbeddr.core.statements.interpreter.plugin%400%29%2F4535693827938064381");
      }

      @Override
      public boolean canLookupBeCached() {
        return false;
      }

    });
    ListSequence.fromList(((List<IConditionalEvaluator>) evaluators)).addElement(new ConditionalConceptEvaluatorBase(CONCEPTS.IVariableReference$WR, "r:ac210026-ad43-4bdd-8d39-e09ff89cd7f1(com.mbeddr.core.statements.interpreter.plugin)/4535693827938064384", true) {
      public Object evaluateEvaluator(SNode node, IContext context, ICoverageAnalyzer coverage, ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          if (this.concept != SNodeOperations.getConcept(node)) {
            coverage.visitedConcept(SNodeOperations.getConcept(node));
          }
          return context.getRootInterpreter().evaluate(IReference__BehaviorDescriptor.target_id70kXLV4LLzy.invoke(node), context, coverage, trace, false);
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("IVariableReference()", node, ex, trace);
        }
      }
      public boolean isEvaluable(SNode node, IContext context) {
        return SNodeOperations.isInstanceOf(IReference__BehaviorDescriptor.target_id70kXLV4LLzy.invoke(node), CONCEPTS.LocalVariableDeclaration$ft) && SPropertyOperations.getBoolean(SLinkOperations.getTarget(SNodeOperations.cast(IReference__BehaviorDescriptor.target_id70kXLV4LLzy.invoke(node), CONCEPTS.LocalVariableDeclaration$ft), LINKS.type$sXU3), PROPS.const$VWr7);
      }

      @Override
      public String toString() {
        return "IVariableReference";
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("IVariableReference", "http://127.0.0.1:63320/node?ref=1f11fc3d-9b58-44f8-b5e6-38de86552f26%2Fi%3A10000001%28com.mbeddr.core.statements.interpreter%40transient51%2Fcom.mbeddr.core.statements.interpreter.plugin%400%29%2F4535693827938064384");
      }

      @Override
      public boolean canLookupBeCached() {
        return false;
      }

    });
    ListSequence.fromList(((List<IConditionalEvaluator>) evaluators)).addElement(new ConditionalConceptEvaluatorBase(CONCEPTS.LocalVariableDeclaration$ft, "r:ac210026-ad43-4bdd-8d39-e09ff89cd7f1(com.mbeddr.core.statements.interpreter.plugin)/4535693827938064406", true) {
      public Object evaluateEvaluator(SNode node, IContext context, ICoverageAnalyzer coverage, ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          if (this.concept != SNodeOperations.getConcept(node)) {
            coverage.visitedConcept(SNodeOperations.getConcept(node));
          }
          return context.getRootInterpreter().evaluate(IVariableDeclaration__BehaviorDescriptor.getInitExpression_id1LDGRqyYkU1.invoke(node), context, coverage, trace, false);
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("local var()", node, ex, trace);
        }
      }

      @Override
      public String toString() {
        return "LocalVariableDeclaration";
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("LocalVariableDeclaration", "http://127.0.0.1:63320/node?ref=1f11fc3d-9b58-44f8-b5e6-38de86552f26%2Fi%3A10000001%28com.mbeddr.core.statements.interpreter%40transient51%2Fcom.mbeddr.core.statements.interpreter.plugin%400%29%2F4535693827938064406");
      }

      @Override
      public boolean canLookupBeCached() {
        return false;
      }

    });
    ListSequence.fromList(((List<IConditionalEvaluator>) evaluators)).addElement(new ConditionalConceptEvaluatorBase(CONCEPTS.IfStatement$IE, "r:ac210026-ad43-4bdd-8d39-e09ff89cd7f1(com.mbeddr.core.statements.interpreter.plugin)/2557538009457368576", true, new TypedChildConstraintImpl(LINKS.condition$f_er, SConceptOperations.createNewNode(SNodeOperations.asInstanceConcept(CONCEPTS.BooleanType$fL)))) {
      public Object evaluateEvaluator(SNode node, IContext context, ICoverageAnalyzer coverage, ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          if (this.concept != SNodeOperations.getConcept(node)) {
            coverage.visitedConcept(SNodeOperations.getConcept(node));
          }
          if (((Boolean) castUp(context.getRootInterpreter().evaluate(SLinkOperations.getTarget(node, LINKS.condition$f_er), context, coverage, trace, false), Boolean.class))) {
            return ((Object) castUp(context.getRootInterpreter().evaluate(SLinkOperations.getTarget(node, LINKS.thenPart$f_ts), context, coverage, trace, false), Object.class));
          }
          for (SNode elseIf : ListSequence.fromList(SLinkOperations.getChildren(node, LINKS.elseIfs$$74z))) {
            if (((Boolean) context.getRootInterpreter().evaluate(SLinkOperations.getTarget(elseIf, LINKS.condition$5ORz), context, coverage, trace, false))) {
              return context.getRootInterpreter().evaluate(SLinkOperations.getTarget(elseIf, LINKS.body$5MZr), context, coverage, trace, false);
            }
          }
          if ((SLinkOperations.getTarget(node, LINKS.elsePart$9DfV) != null)) {
            return ((Object) castUp(context.getRootInterpreter().evaluate(SLinkOperations.getTarget(node, LINKS.elsePart$9DfV), context, coverage, trace, false), Object.class));
          }
          return null;
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("if(condition[boolean])", node, ex, trace);
        }
      }
      public boolean isEvaluable(SNode node, IContext context) {
        return ((IConditionalInterpreter) context.getRootInterpreter()).isEvaluable(SLinkOperations.getTarget(node, LINKS.condition$f_er), context) && ((IConditionalInterpreter) context.getRootInterpreter()).isEvaluable(SLinkOperations.getTarget(node, LINKS.thenPart$f_ts), context) && ((IConditionalInterpreter) context.getRootInterpreter()).isEvaluable(SLinkOperations.getTarget(node, LINKS.elsePart$9DfV), context);
      }

      @Override
      public String toString() {
        return "IfStatement";
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("IfStatement", "http://127.0.0.1:63320/node?ref=1f11fc3d-9b58-44f8-b5e6-38de86552f26%2Fi%3A10000001%28com.mbeddr.core.statements.interpreter%40transient51%2Fcom.mbeddr.core.statements.interpreter.plugin%400%29%2F2557538009457368576");
      }

      @Override
      public boolean canLookupBeCached() {
        return false;
      }

    });
    ListSequence.fromList(((List<IConditionalEvaluator>) evaluators)).addElement(new ConditionalConceptEvaluatorBase(CONCEPTS.Statement$zV, "r:ac210026-ad43-4bdd-8d39-e09ff89cd7f1(com.mbeddr.core.statements.interpreter.plugin)/2212011887036721563", true) {
      public Object evaluateEvaluator(SNode node, IContext context, ICoverageAnalyzer coverage, ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          if (this.concept != SNodeOperations.getConcept(node)) {
            coverage.visitedConcept(SNodeOperations.getConcept(node));
          }
          return null;
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("Statement()", node, ex, trace);
        }
      }

      @Override
      public String toString() {
        return "Statement";
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("Statement", "http://127.0.0.1:63320/node?ref=1f11fc3d-9b58-44f8-b5e6-38de86552f26%2Fi%3A10000001%28com.mbeddr.core.statements.interpreter%40transient51%2Fcom.mbeddr.core.statements.interpreter.plugin%400%29%2F2212011887036721563");
      }

      @Override
      public boolean canLookupBeCached() {
        return false;
      }

    });
  }


  protected void populateTypeMappers(List<? extends ITypeMapper> typeMappers) {
  }



  protected void populateRelationships(List<? extends IRelationship> relationships) {
    ListSequence.fromList(((List<IRelationship>) relationships)).addElement(new InterpretAfterRelationshipImpl("com.mbeddr.core.statements.interpreter.plugin.InterpreterCStatementInterpreter", "com.mbeddr.core.expressions.interpreter.plugin.InterpreterCExpressionsInterpreter"));
  }

  private static final class CONCEPTS {
    /*package*/ static final SConcept ReturnStatement$Kx = MetaAdapterFactory.getConcept(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x7c747300dbd94ea5L, "com.mbeddr.core.modules.structure.ReturnStatement");
    /*package*/ static final SConcept StatementList$y1 = MetaAdapterFactory.getConcept(0xa9d696470840491eL, 0xbf392eb0805d2011L, 0x3a16e3a9c7ad9955L, "com.mbeddr.core.statements.structure.StatementList");
    /*package*/ static final SConcept ExpressionStatement$SU = MetaAdapterFactory.getConcept(0xa9d696470840491eL, 0xbf392eb0805d2011L, 0x64ae61a4018a8592L, "com.mbeddr.core.statements.structure.ExpressionStatement");
    /*package*/ static final SConcept LocalVariableDeclaration$ft = MetaAdapterFactory.getConcept(0xa9d696470840491eL, 0xbf392eb0805d2011L, 0x3a16e3a9c7ad96e6L, "com.mbeddr.core.statements.structure.LocalVariableDeclaration");
    /*package*/ static final SInterfaceConcept IVariableReference$WR = MetaAdapterFactory.getInterfaceConcept(0x61c69711ed614850L, 0x81d97714ff227fb0L, 0x1c69b376a2dab98aL, "com.mbeddr.core.expressions.structure.IVariableReference");
    /*package*/ static final SConcept IfStatement$IE = MetaAdapterFactory.getConcept(0xa9d696470840491eL, 0xbf392eb0805d2011L, 0x5718179e5b1bb7d7L, "com.mbeddr.core.statements.structure.IfStatement");
    /*package*/ static final SConcept BooleanType$fL = MetaAdapterFactory.getConcept(0x61c69711ed614850L, 0x81d97714ff227fb0L, 0x7af69e2e83a1ba3aL, "com.mbeddr.core.expressions.structure.BooleanType");
    /*package*/ static final SConcept Statement$zV = MetaAdapterFactory.getConcept(0xa9d696470840491eL, 0xbf392eb0805d2011L, 0x3a16e3a9c7ad6d03L, "com.mbeddr.core.statements.structure.Statement");
  }

  private static final class LINKS {
    /*package*/ static final SContainmentLink statements$euTV = MetaAdapterFactory.getContainmentLink(0xa9d696470840491eL, 0xbf392eb0805d2011L, 0x3a16e3a9c7ad9955L, 0x3a16e3a9c7ad9956L, "statements");
    /*package*/ static final SContainmentLink expr$vamr = MetaAdapterFactory.getContainmentLink(0xa9d696470840491eL, 0xbf392eb0805d2011L, 0x64ae61a4018a8592L, 0x64ae61a4018a8593L, "expr");
    /*package*/ static final SContainmentLink type$sXU3 = MetaAdapterFactory.getContainmentLink(0x61c69711ed614850L, 0x81d97714ff227fb0L, 0x46a2a92ac61b183L, 0x46a2a92ac61b184L, "type");
    /*package*/ static final SContainmentLink thenPart$f_ts = MetaAdapterFactory.getContainmentLink(0xa9d696470840491eL, 0xbf392eb0805d2011L, 0x5718179e5b1bb7d7L, 0x5718179e5b1bb7d9L, "thenPart");
    /*package*/ static final SContainmentLink condition$f_er = MetaAdapterFactory.getContainmentLink(0xa9d696470840491eL, 0xbf392eb0805d2011L, 0x5718179e5b1bb7d7L, 0x5718179e5b1bb7d8L, "condition");
    /*package*/ static final SContainmentLink body$5MZr = MetaAdapterFactory.getContainmentLink(0xa9d696470840491eL, 0xbf392eb0805d2011L, 0x2b8026b23bc272a6L, 0x2b8026b23bc272a7L, "body");
    /*package*/ static final SContainmentLink condition$5ORz = MetaAdapterFactory.getContainmentLink(0xa9d696470840491eL, 0xbf392eb0805d2011L, 0x2b8026b23bc272a6L, 0x2b8026b23bc272afL, "condition");
    /*package*/ static final SContainmentLink elseIfs$$74z = MetaAdapterFactory.getContainmentLink(0xa9d696470840491eL, 0xbf392eb0805d2011L, 0x5718179e5b1bb7d7L, 0x2b8026b23bc273a3L, "elseIfs");
    /*package*/ static final SContainmentLink elsePart$9DfV = MetaAdapterFactory.getContainmentLink(0xa9d696470840491eL, 0xbf392eb0805d2011L, 0x5718179e5b1bb7d7L, 0x2b8026b23bc2442bL, "elsePart");
  }

  private static final class PROPS {
    /*package*/ static final SProperty const$VWr7 = MetaAdapterFactory.getProperty(0x61c69711ed614850L, 0x81d97714ff227fb0L, 0x7af69e2e83a1ba36L, 0x28d183d9a4cc7da8L, "const");
  }
}
