package com.mbeddr.core.pointers.interpreter.plugin;

/*Generated by MPS */

import com.mbeddr.mpsutil.interpreter.rt.ConditionalInterpreterBase;
import java.util.List;
import com.mbeddr.mpsutil.interpreter.rt.IEvaluator;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import com.mbeddr.mpsutil.interpreter.rt.IConditionalEvaluator;
import com.mbeddr.mpsutil.interpreter.rt.ConditionalConceptEvaluatorBase;
import org.jetbrains.mps.openapi.model.SNode;
import com.mbeddr.mpsutil.interpreter.rt.IContext;
import com.mbeddr.mpsutil.interpreter.rt.ICoverageAnalyzer;
import com.mbeddr.mpsutil.interpreter.rt.ComputationTrace;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import com.mbeddr.mpsutil.interpreter.rt.InterpreterEscapeException;
import com.mbeddr.mpsutil.interpreter.rt.InterpreterRuntimeException;
import com.mbeddr.mpsutil.interpreter.rt.EvaluatorInfo;
import com.mbeddr.mpsutil.interpreter.rt.ConceptEvaluatorBase;
import com.mbeddr.core.expressions.behavior.Type__BehaviorDescriptor;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SPropertyOperations;
import com.mbeddr.mpsutil.interpreter.rt.ITypeMapper;
import com.mbeddr.mpsutil.interpreter.rt.IRelationship;
import com.mbeddr.mpsutil.interpreter.rt.InterpretAfterRelationshipImpl;
import org.jetbrains.mps.openapi.language.SConcept;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import org.jetbrains.mps.openapi.language.SContainmentLink;
import org.jetbrains.mps.openapi.language.SProperty;

public class InterpreterCPointerInterpreter extends ConditionalInterpreterBase {
  public InterpreterCPointerInterpreter() {
    init();
  }

  @Override
  public String getCategory() {
    return "CInterpreter";
  }

  protected void populateEvaluators(List<? extends IEvaluator> evaluators) {
    ListSequence.fromList(((List<IConditionalEvaluator>) evaluators)).addElement(new ConditionalConceptEvaluatorBase(CONCEPTS.NullExpression$Oy, "r:421036da-ea3a-4be6-8149-b3c8b9348af1(com.mbeddr.core.pointers.interpreter.plugin)/4535693827938071129", true) {
      public Object evaluateEvaluator(SNode node, IContext context, ICoverageAnalyzer coverage, ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          if (this.concept != SNodeOperations.getConcept(node)) {
            coverage.visitedConcept(SNodeOperations.getConcept(node));
          }
          return 0L;
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("NULL()", node, ex, trace);
        }
      }

      @Override
      public String toString() {
        return "NullExpression";
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("NullExpression", "http://127.0.0.1:63320/node?ref=7a801029-5717-4822-8bb8-b840e1d7c75a%2Fi%3A10000001%28com.mbeddr.core.pointers.interpreter%40transient49%2Fcom.mbeddr.core.pointers.interpreter.plugin%400%29%2F4535693827938071129");
      }

      @Override
      public boolean canLookupBeCached() {
        return false;
      }

    });
    ListSequence.fromList(((List<IConditionalEvaluator>) evaluators)).addElement(new ConditionalConceptEvaluatorBase(CONCEPTS.SizeOfExpr$xN, "r:421036da-ea3a-4be6-8149-b3c8b9348af1(com.mbeddr.core.pointers.interpreter.plugin)/4535693827938071132", true) {
      public Object evaluateEvaluator(SNode node, IContext context, ICoverageAnalyzer coverage, ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          if (this.concept != SNodeOperations.getConcept(node)) {
            coverage.visitedConcept(SNodeOperations.getConcept(node));
          }
          return ((Long) ConceptEvaluatorBase.castUp((int) Type__BehaviorDescriptor.getUsedBytes_id61lw97FtLtJ.invoke(SLinkOperations.getTarget(node, LINKS.type2Calculate$UhLe)), Long.class));
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("sizeof[()", node, ex, trace);
        }
      }

      @Override
      public String toString() {
        return "SizeOfExpr";
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("SizeOfExpr", "http://127.0.0.1:63320/node?ref=7a801029-5717-4822-8bb8-b840e1d7c75a%2Fi%3A10000001%28com.mbeddr.core.pointers.interpreter%40transient49%2Fcom.mbeddr.core.pointers.interpreter.plugin%400%29%2F4535693827938071132");
      }

      @Override
      public boolean canLookupBeCached() {
        return false;
      }

    });
    ListSequence.fromList(((List<IConditionalEvaluator>) evaluators)).addElement(new ConditionalConceptEvaluatorBase(CONCEPTS.StringLiteral$dJ, "r:421036da-ea3a-4be6-8149-b3c8b9348af1(com.mbeddr.core.pointers.interpreter.plugin)/4535693827938071141", true) {
      public Object evaluateEvaluator(SNode node, IContext context, ICoverageAnalyzer coverage, ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          if (this.concept != SNodeOperations.getConcept(node)) {
            coverage.visitedConcept(SNodeOperations.getConcept(node));
          }
          if (isEmptyString(SPropertyOperations.getString(node, PROPS.value$a7Yf))) {
            return "";
          }
          return SPropertyOperations.getString(node, PROPS.value$a7Yf);
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("\"()", node, ex, trace);
        }
      }

      @Override
      public String toString() {
        return "StringLiteral";
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("StringLiteral", "http://127.0.0.1:63320/node?ref=7a801029-5717-4822-8bb8-b840e1d7c75a%2Fi%3A10000001%28com.mbeddr.core.pointers.interpreter%40transient49%2Fcom.mbeddr.core.pointers.interpreter.plugin%400%29%2F4535693827938071141");
      }

      @Override
      public boolean canLookupBeCached() {
        return false;
      }

    });
  }


  protected void populateTypeMappers(List<? extends ITypeMapper> typeMappers) {
  }



  protected void populateRelationships(List<? extends IRelationship> relationships) {
    ListSequence.fromList(((List<IRelationship>) relationships)).addElement(new InterpretAfterRelationshipImpl("com.mbeddr.core.pointers.interpreter.plugin.InterpreterCPointerInterpreter", "com.mbeddr.core.expressions.interpreter.plugin.InterpreterCExpressionsInterpreter"));
  }
  private static boolean isEmptyString(String str) {
    return str == null || str.isEmpty();
  }

  private static final class CONCEPTS {
    /*package*/ static final SConcept NullExpression$Oy = MetaAdapterFactory.getConcept(0x3bf5377ae9044dedL, 0x97545a516023bfaaL, 0x49ac54536384df46L, "com.mbeddr.core.pointers.structure.NullExpression");
    /*package*/ static final SConcept SizeOfExpr$xN = MetaAdapterFactory.getConcept(0x3bf5377ae9044dedL, 0x97545a516023bfaaL, 0x3e0cae5e3653487L, "com.mbeddr.core.pointers.structure.SizeOfExpr");
    /*package*/ static final SConcept StringLiteral$dJ = MetaAdapterFactory.getConcept(0x3bf5377ae9044dedL, 0x97545a516023bfaaL, 0x54d65a836190f177L, "com.mbeddr.core.pointers.structure.StringLiteral");
  }

  private static final class LINKS {
    /*package*/ static final SContainmentLink type2Calculate$UhLe = MetaAdapterFactory.getContainmentLink(0x3bf5377ae9044dedL, 0x97545a516023bfaaL, 0x3e0cae5e3653487L, 0x3e0cae5e3653489L, "type2Calculate");
  }

  private static final class PROPS {
    /*package*/ static final SProperty value$a7Yf = MetaAdapterFactory.getProperty(0x3bf5377ae9044dedL, 0x97545a516023bfaaL, 0x54d65a836190f177L, 0x54d65a836190f17aL, "value");
  }
}
