package com.mbeddr.core.modules.interpreter.plugin;

/*Generated by MPS */

import com.mbeddr.mpsutil.interpreter.rt.ConditionalInterpreterBase;
import java.util.List;
import com.mbeddr.mpsutil.interpreter.rt.IEvaluator;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import com.mbeddr.mpsutil.interpreter.rt.IConditionalEvaluator;
import com.mbeddr.mpsutil.interpreter.rt.ConditionalConceptEvaluatorBase;
import org.jetbrains.mps.openapi.model.SNode;
import com.mbeddr.mpsutil.interpreter.rt.IContext;
import com.mbeddr.mpsutil.interpreter.rt.ICoverageAnalyzer;
import com.mbeddr.mpsutil.interpreter.rt.ComputationTrace;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import jetbrains.mps.internal.collections.runtime.Sequence;
import com.mbeddr.mpsutil.interpreter.rt.InterpreterEscapeException;
import com.mbeddr.mpsutil.interpreter.rt.InterpreterRuntimeException;
import com.mbeddr.mpsutil.interpreter.rt.EvaluatorInfo;
import jetbrains.mps.internal.collections.runtime.MapSequence;
import com.mbeddr.mpsutil.interpreter.rt.ITypeMapper;
import com.mbeddr.mpsutil.interpreter.rt.IRelationship;
import com.mbeddr.mpsutil.interpreter.rt.InterpretAfterRelationshipImpl;
import com.mbeddr.mpsutil.interpreter.rt.InterpretBeforeRelationshipImpl;
import org.jetbrains.mps.openapi.language.SReferenceLink;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import org.jetbrains.mps.openapi.language.SContainmentLink;
import org.jetbrains.mps.openapi.language.SConcept;

public class InterpreterCFunctionInterpreter extends ConditionalInterpreterBase {
  public InterpreterCFunctionInterpreter() {
    init();
  }

  @Override
  public String getCategory() {
    return "CInterpreter";
  }

  protected void populateEvaluators(List<? extends IEvaluator> evaluators) {
    ListSequence.fromList(((List<IConditionalEvaluator>) evaluators)).addElement(new ConditionalConceptEvaluatorBase(CONCEPTS.FunctionCall$4q, "r:9d9982a4-0641-460f-b927-5b14861353f2(com.mbeddr.core.modules.interpreter.plugin)/4535693827938072130", true) {
      public Object evaluateEvaluator(SNode node, final IContext context, final ICoverageAnalyzer coverage, final ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          if (this.concept != SNodeOperations.getConcept(node)) {
            coverage.visitedConcept(SNodeOperations.getConcept(node));
          }
          return callOperation(node, SLinkOperations.getTarget(node, LINKS.function$oBh5), Sequence.fromIterable((ListSequence.fromList(SLinkOperations.getChildren(node, LINKS.actuals$oBJ7)).select((it) -> (context.getRootInterpreter().evaluate(it, context, coverage, trace, false))))).toList(), SLinkOperations.getChildren(SLinkOperations.getTarget(node, LINKS.function$oBh5), LINKS.arguments$6da0), context, coverage, trace);
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("FunctionCall()", node, ex, trace);
        }
      }
      public boolean isEvaluable(SNode node, IContext context) {
        return false;
      }

      @Override
      public String toString() {
        return "FunctionCall";
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("FunctionCall", "http://127.0.0.1:63320/node?ref=6d90cca3-985f-4107-b088-323b44e60ebf%2Fi%3A10000001%28com.mbeddr.core.modules.interpreter%40transient55%2Fcom.mbeddr.core.modules.interpreter.plugin%400%29%2F4535693827938072130");
      }

      @Override
      public boolean canLookupBeCached() {
        return false;
      }

    });
    ListSequence.fromList(((List<IConditionalEvaluator>) evaluators)).addElement(new ConditionalConceptEvaluatorBase(CONCEPTS.Argument$9m, "r:9d9982a4-0641-460f-b927-5b14861353f2(com.mbeddr.core.modules.interpreter.plugin)/4535693827938072141", true) {
      public Object evaluateEvaluator(SNode node, IContext context, ICoverageAnalyzer coverage, ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          if (this.concept != SNodeOperations.getConcept(node)) {
            coverage.visitedConcept(SNodeOperations.getConcept(node));
          }
          return MapSequence.fromMap(context.getEnvironment()).get(node);
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("Argument()", node, ex, trace);
        }
      }
      public boolean isEvaluable(SNode node, IContext context) {
        return false;
      }

      @Override
      public String toString() {
        return "Argument";
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("Argument", "http://127.0.0.1:63320/node?ref=6d90cca3-985f-4107-b088-323b44e60ebf%2Fi%3A10000001%28com.mbeddr.core.modules.interpreter%40transient55%2Fcom.mbeddr.core.modules.interpreter.plugin%400%29%2F4535693827938072141");
      }

      @Override
      public boolean canLookupBeCached() {
        return false;
      }

    });
    ListSequence.fromList(((List<IConditionalEvaluator>) evaluators)).addElement(new ConditionalConceptEvaluatorBase(CONCEPTS.ArgumentRef$iE, "r:9d9982a4-0641-460f-b927-5b14861353f2(com.mbeddr.core.modules.interpreter.plugin)/4535693827938072148", true) {
      public Object evaluateEvaluator(SNode node, IContext context, ICoverageAnalyzer coverage, ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          if (this.concept != SNodeOperations.getConcept(node)) {
            coverage.visitedConcept(SNodeOperations.getConcept(node));
          }
          return ((Object) castUp(context.getRootInterpreter().evaluate(SLinkOperations.getTarget(node, LINKS.arg$WIp5), context, coverage, trace, false), Object.class));
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("ArgumentRef()", node, ex, trace);
        }
      }
      public boolean isEvaluable(SNode node, IContext context) {
        return false;
      }

      @Override
      public String toString() {
        return "ArgumentRef";
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("ArgumentRef", "http://127.0.0.1:63320/node?ref=6d90cca3-985f-4107-b088-323b44e60ebf%2Fi%3A10000001%28com.mbeddr.core.modules.interpreter%40transient55%2Fcom.mbeddr.core.modules.interpreter.plugin%400%29%2F4535693827938072148");
      }

      @Override
      public boolean canLookupBeCached() {
        return false;
      }

    });
    ListSequence.fromList(((List<IConditionalEvaluator>) evaluators)).addElement(new ConditionalConceptEvaluatorBase(CONCEPTS.Function$K8, "r:9d9982a4-0641-460f-b927-5b14861353f2(com.mbeddr.core.modules.interpreter.plugin)/4535693827938072153", true) {
      public Object evaluateEvaluator(SNode node, IContext context, ICoverageAnalyzer coverage, ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          if (this.concept != SNodeOperations.getConcept(node)) {
            coverage.visitedConcept(SNodeOperations.getConcept(node));
          }
          return ((Object) castUp(context.getRootInterpreter().evaluate(SLinkOperations.getTarget(node, LINKS.body$1GE0), context, coverage, trace, false), Object.class));
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("function()", node, ex, trace);
        }
      }
      public boolean isEvaluable(SNode node, IContext context) {
        return false;
      }

      @Override
      public String toString() {
        return "Function";
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("Function", "http://127.0.0.1:63320/node?ref=6d90cca3-985f-4107-b088-323b44e60ebf%2Fi%3A10000001%28com.mbeddr.core.modules.interpreter%40transient55%2Fcom.mbeddr.core.modules.interpreter.plugin%400%29%2F4535693827938072153");
      }

      @Override
      public boolean canLookupBeCached() {
        return false;
      }

    });
    ListSequence.fromList(((List<IConditionalEvaluator>) evaluators)).addElement(new ConditionalConceptEvaluatorBase(CONCEPTS.ReturnStatement$Kx, "r:9d9982a4-0641-460f-b927-5b14861353f2(com.mbeddr.core.modules.interpreter.plugin)/4535693827938072158", true) {
      public Object evaluateEvaluator(SNode node, IContext context, ICoverageAnalyzer coverage, ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          if (this.concept != SNodeOperations.getConcept(node)) {
            coverage.visitedConcept(SNodeOperations.getConcept(node));
          }
          return ((Object) castUp(context.getRootInterpreter().evaluate(SLinkOperations.getTarget(node, LINKS.expression$ayfU), context, coverage, trace, false), Object.class));
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("return()", node, ex, trace);
        }
      }

      @Override
      public String toString() {
        return "ReturnStatement";
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("ReturnStatement", "http://127.0.0.1:63320/node?ref=6d90cca3-985f-4107-b088-323b44e60ebf%2Fi%3A10000001%28com.mbeddr.core.modules.interpreter%40transient55%2Fcom.mbeddr.core.modules.interpreter.plugin%400%29%2F4535693827938072158");
      }

      @Override
      public boolean canLookupBeCached() {
        return false;
      }

    });
  }


  protected void populateTypeMappers(List<? extends ITypeMapper> typeMappers) {
  }



  protected void populateRelationships(List<? extends IRelationship> relationships) {
    ListSequence.fromList(((List<IRelationship>) relationships)).addElement(new InterpretAfterRelationshipImpl("com.mbeddr.core.modules.interpreter.plugin.InterpreterCFunctionInterpreter", "com.mbeddr.core.expressions.interpreter.plugin.InterpreterCExpressionsInterpreter"));
    ListSequence.fromList(((List<IRelationship>) relationships)).addElement(new InterpretBeforeRelationshipImpl("com.mbeddr.core.modules.interpreter.plugin.InterpreterCFunctionInterpreter", "com.mbeddr.core.statements.interpreter.plugin.InterpreterCStatementInterpreter"));
  }

  private static final class LINKS {
    /*package*/ static final SReferenceLink function$oBh5 = MetaAdapterFactory.getReferenceLink(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x52941adca601b38cL, 0x52941adca601b38dL, "function");
    /*package*/ static final SContainmentLink actuals$oBJ7 = MetaAdapterFactory.getContainmentLink(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x52941adca601b38cL, 0x52941adca601b38fL, "actuals");
    /*package*/ static final SContainmentLink arguments$6da0 = MetaAdapterFactory.getContainmentLink(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x707ac195dd5d51f2L, 0x4f39f90935e92f45L, "arguments");
    /*package*/ static final SReferenceLink arg$WIp5 = MetaAdapterFactory.getReferenceLink(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x1d0c3765e2e7d0baL, 0x1d0c3765e2e7d0bbL, "arg");
    /*package*/ static final SContainmentLink body$1GE0 = MetaAdapterFactory.getContainmentLink(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x595522006a5b97e1L, 0x3a16e3a9c7ad9954L, "body");
    /*package*/ static final SContainmentLink expression$ayfU = MetaAdapterFactory.getContainmentLink(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x7c747300dbd94ea5L, 0x7c747300dbd94ea6L, "expression");
  }

  private static final class CONCEPTS {
    /*package*/ static final SConcept FunctionCall$4q = MetaAdapterFactory.getConcept(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x52941adca601b38cL, "com.mbeddr.core.modules.structure.FunctionCall");
    /*package*/ static final SConcept Argument$9m = MetaAdapterFactory.getConcept(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x6d872ef9245a20d7L, "com.mbeddr.core.modules.structure.Argument");
    /*package*/ static final SConcept ArgumentRef$iE = MetaAdapterFactory.getConcept(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x1d0c3765e2e7d0baL, "com.mbeddr.core.modules.structure.ArgumentRef");
    /*package*/ static final SConcept Function$K8 = MetaAdapterFactory.getConcept(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x595522006a5b97e1L, "com.mbeddr.core.modules.structure.Function");
    /*package*/ static final SConcept ReturnStatement$Kx = MetaAdapterFactory.getConcept(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x7c747300dbd94ea5L, "com.mbeddr.core.modules.structure.ReturnStatement");
  }
}
