package com.mbeddr.core.modules.interpreter.plugin;

/*Generated by MPS */

import com.mbeddr.mpsutil.interpreter.rt.ConditionalInterpreterBase;
import java.util.List;
import com.mbeddr.mpsutil.interpreter.rt.IEvaluator;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import com.mbeddr.mpsutil.interpreter.rt.IConditionalEvaluator;
import com.mbeddr.mpsutil.interpreter.rt.ConditionalConceptEvaluatorBase;
import org.jetbrains.mps.openapi.model.SNode;
import com.mbeddr.mpsutil.interpreter.rt.IContext;
import com.mbeddr.mpsutil.interpreter.rt.ICoverageAnalyzer;
import com.mbeddr.mpsutil.interpreter.rt.ComputationTrace;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import jetbrains.mps.internal.collections.runtime.Sequence;
import com.mbeddr.mpsutil.interpreter.rt.InterpreterEscapeException;
import com.mbeddr.mpsutil.interpreter.rt.InterpreterRuntimeException;
import com.mbeddr.mpsutil.interpreter.rt.EvaluatorInfo;
import com.mbeddr.core.expressions.behavior.Expression__BehaviorDescriptor;
import com.mbeddr.mpsutil.interpreter.rt.ITypeMapper;
import com.mbeddr.mpsutil.interpreter.rt.IRelationship;
import com.mbeddr.mpsutil.interpreter.rt.InterpretAfterRelationshipImpl;
import org.jetbrains.mps.openapi.language.SReferenceLink;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import org.jetbrains.mps.openapi.language.SContainmentLink;
import org.jetbrains.mps.openapi.language.SConcept;

public class InterpreterCModulesInterpreter extends ConditionalInterpreterBase {
  public InterpreterCModulesInterpreter() {
    init();
  }

  @Override
  public String getCategory() {
    return "CInterpreter";
  }

  protected void populateEvaluators(List<? extends IEvaluator> evaluators) {
    ListSequence.fromList(((List<IConditionalEvaluator>) evaluators)).addElement(new ConditionalConceptEvaluatorBase(CONCEPTS.GlobalConstantFunctionRef$bb, "r:9d9982a4-0641-460f-b927-5b14861353f2(com.mbeddr.core.modules.interpreter.plugin)/4535693827938014180", true) {
      public Object evaluateEvaluator(SNode node, final IContext context, final ICoverageAnalyzer coverage, final ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          if (this.concept != SNodeOperations.getConcept(node)) {
            coverage.visitedConcept(SNodeOperations.getConcept(node));
          }
          return callOperation(node, SLinkOperations.getTarget(node, LINKS.constant$bESA), Sequence.fromIterable((ListSequence.fromList(SLinkOperations.getChildren(node, LINKS.arguments$jv7F)).select((it) -> (context.getRootInterpreter().evaluate(it, context, coverage, trace, false))))).toList(), SLinkOperations.getChildren(SLinkOperations.getTarget(node, LINKS.constant$bESA), LINKS.arguments$1Pu_), context, coverage, trace);
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("GlobalConstantFunctionRef()", node, ex, trace);
        }
      }

      @Override
      public String toString() {
        return "GlobalConstantFunctionRef";
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("GlobalConstantFunctionRef", "http://127.0.0.1:63320/node?ref=f82fa8f1-a511-4e3a-94a0-f17157ef6abf%2Fi%3A10000001%28com.mbeddr.core.modules.interpreter%40transient52%2Fcom.mbeddr.core.modules.interpreter.plugin%400%29%2F4535693827938014180");
      }

      @Override
      public boolean canLookupBeCached() {
        return false;
      }

    });
    ListSequence.fromList(((List<IConditionalEvaluator>) evaluators)).addElement(new ConditionalConceptEvaluatorBase(CONCEPTS.GlobalConstantDeclaration$dg, "r:9d9982a4-0641-460f-b927-5b14861353f2(com.mbeddr.core.modules.interpreter.plugin)/4535693827938014189", true) {
      public Object evaluateEvaluator(SNode node, IContext context, ICoverageAnalyzer coverage, ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          if (this.concept != SNodeOperations.getConcept(node)) {
            coverage.visitedConcept(SNodeOperations.getConcept(node));
          }
          return ((Object) castUp(context.getRootInterpreter().evaluate(SLinkOperations.getTarget(node, LINKS.value$RmDl), context, coverage, trace, false), Object.class));
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("#constant()", node, ex, trace);
        }
      }

      @Override
      public String toString() {
        return "GlobalConstantDeclaration";
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("GlobalConstantDeclaration", "http://127.0.0.1:63320/node?ref=f82fa8f1-a511-4e3a-94a0-f17157ef6abf%2Fi%3A10000001%28com.mbeddr.core.modules.interpreter%40transient52%2Fcom.mbeddr.core.modules.interpreter.plugin%400%29%2F4535693827938014189");
      }

      @Override
      public boolean canLookupBeCached() {
        return false;
      }

    });
    ListSequence.fromList(((List<IConditionalEvaluator>) evaluators)).addElement(new ConditionalConceptEvaluatorBase(CONCEPTS.GlobalConstantRef$ML, "r:9d9982a4-0641-460f-b927-5b14861353f2(com.mbeddr.core.modules.interpreter.plugin)/4535693827938014192", true) {
      public Object evaluateEvaluator(SNode node, IContext context, ICoverageAnalyzer coverage, ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          if (this.concept != SNodeOperations.getConcept(node)) {
            coverage.visitedConcept(SNodeOperations.getConcept(node));
          }
          return ((Object) castUp(context.getRootInterpreter().evaluate(SLinkOperations.getTarget(node, LINKS.constant$aCs7), context, coverage, trace, false), Object.class));
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("GlobalConstantRef()", node, ex, trace);
        }
      }
      public boolean isEvaluable(SNode node, IContext context) {
        // perform this check to handle the case when self is assigned as a value
        if (node != SLinkOperations.getTarget(SLinkOperations.getTarget(node, LINKS.constant$aCs7), LINKS.value$RmDl)) {
          return (boolean) Expression__BehaviorDescriptor.isStaticallyEvaluatable_id3ilck8Kr3zN.invoke(SLinkOperations.getTarget(SLinkOperations.getTarget(node, LINKS.constant$aCs7), LINKS.value$RmDl));
        } else {
          return false;
        }
      }

      @Override
      public String toString() {
        return "GlobalConstantRef";
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("GlobalConstantRef", "http://127.0.0.1:63320/node?ref=f82fa8f1-a511-4e3a-94a0-f17157ef6abf%2Fi%3A10000001%28com.mbeddr.core.modules.interpreter%40transient52%2Fcom.mbeddr.core.modules.interpreter.plugin%400%29%2F4535693827938014192");
      }

      @Override
      public boolean canLookupBeCached() {
        return false;
      }

    });
    ListSequence.fromList(((List<IConditionalEvaluator>) evaluators)).addElement(new ConditionalConceptEvaluatorBase(CONCEPTS.GlobalVariableDeclaration$TW, "r:9d9982a4-0641-460f-b927-5b14861353f2(com.mbeddr.core.modules.interpreter.plugin)/4535693827938014221", true) {
      public Object evaluateEvaluator(SNode node, IContext context, ICoverageAnalyzer coverage, ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          if (this.concept != SNodeOperations.getConcept(node)) {
            coverage.visitedConcept(SNodeOperations.getConcept(node));
          }
          return ((Object) castUp(context.getRootInterpreter().evaluate(SLinkOperations.getTarget(node, LINKS.init$BXpk), context, coverage, trace, false), Object.class));
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("=()", node, ex, trace);
        }
      }

      @Override
      public String toString() {
        return "GlobalVariableDeclaration";
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("GlobalVariableDeclaration", "http://127.0.0.1:63320/node?ref=f82fa8f1-a511-4e3a-94a0-f17157ef6abf%2Fi%3A10000001%28com.mbeddr.core.modules.interpreter%40transient52%2Fcom.mbeddr.core.modules.interpreter.plugin%400%29%2F4535693827938014221");
      }

      @Override
      public boolean canLookupBeCached() {
        return false;
      }

    });
    ListSequence.fromList(((List<IConditionalEvaluator>) evaluators)).addElement(new ConditionalConceptEvaluatorBase(CONCEPTS.GlobalVarRef$hy, "r:9d9982a4-0641-460f-b927-5b14861353f2(com.mbeddr.core.modules.interpreter.plugin)/4535693827938014224", true) {
      public Object evaluateEvaluator(SNode node, IContext context, ICoverageAnalyzer coverage, ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          if (this.concept != SNodeOperations.getConcept(node)) {
            coverage.visitedConcept(SNodeOperations.getConcept(node));
          }
          return ((Object) castUp(context.getRootInterpreter().evaluate(SLinkOperations.getTarget(node, LINKS.var$wHP5), context, coverage, trace, false), Object.class));
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("GlobalVarRef()", node, ex, trace);
        }
      }

      @Override
      public String toString() {
        return "GlobalVarRef";
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("GlobalVarRef", "http://127.0.0.1:63320/node?ref=f82fa8f1-a511-4e3a-94a0-f17157ef6abf%2Fi%3A10000001%28com.mbeddr.core.modules.interpreter%40transient52%2Fcom.mbeddr.core.modules.interpreter.plugin%400%29%2F4535693827938014224");
      }

      @Override
      public boolean canLookupBeCached() {
        return false;
      }

    });
  }


  protected void populateTypeMappers(List<? extends ITypeMapper> typeMappers) {
  }



  protected void populateRelationships(List<? extends IRelationship> relationships) {
    ListSequence.fromList(((List<IRelationship>) relationships)).addElement(new InterpretAfterRelationshipImpl("com.mbeddr.core.modules.interpreter.plugin.InterpreterCModulesInterpreter", "com.mbeddr.core.modules.interpreter.plugin.InterpreterCFunctionInterpreter"));
    ListSequence.fromList(((List<IRelationship>) relationships)).addElement(new InterpretAfterRelationshipImpl("com.mbeddr.core.modules.interpreter.plugin.InterpreterCModulesInterpreter", "com.mbeddr.core.statements.interpreter.plugin.InterpreterCStatementInterpreter"));
  }

  private static final class LINKS {
    /*package*/ static final SReferenceLink constant$bESA = MetaAdapterFactory.getReferenceLink(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x539093cd747af63aL, 0x539093cd747af63cL, "constant");
    /*package*/ static final SContainmentLink arguments$jv7F = MetaAdapterFactory.getContainmentLink(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x539093cd747af63aL, 0x539093cd747b8a1cL, "arguments");
    /*package*/ static final SContainmentLink arguments$1Pu_ = MetaAdapterFactory.getContainmentLink(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x539093cd7477722bL, 0x539093cd74777237L, "arguments");
    /*package*/ static final SContainmentLink value$RmDl = MetaAdapterFactory.getContainmentLink(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x2edcb73a870319c4L, 0x2edcb73a87047d88L, "value");
    /*package*/ static final SReferenceLink constant$aCs7 = MetaAdapterFactory.getReferenceLink(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x34953142306a769bL, 0x2edcb73a870a3ebaL, "constant");
    /*package*/ static final SContainmentLink init$BXpk = MetaAdapterFactory.getContainmentLink(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x5bbe8a6d23a1b6ceL, 0x2675825a6a4d4c89L, "init");
    /*package*/ static final SReferenceLink var$wHP5 = MetaAdapterFactory.getReferenceLink(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x5bbe8a6d23a20aeaL, 0x5bbe8a6d23a20aebL, "var");
  }

  private static final class CONCEPTS {
    /*package*/ static final SConcept GlobalConstantFunctionRef$bb = MetaAdapterFactory.getConcept(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x539093cd747af63aL, "com.mbeddr.core.modules.structure.GlobalConstantFunctionRef");
    /*package*/ static final SConcept GlobalConstantDeclaration$dg = MetaAdapterFactory.getConcept(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x349531423067ef96L, "com.mbeddr.core.modules.structure.GlobalConstantDeclaration");
    /*package*/ static final SConcept GlobalConstantRef$ML = MetaAdapterFactory.getConcept(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x34953142306a769bL, "com.mbeddr.core.modules.structure.GlobalConstantRef");
    /*package*/ static final SConcept GlobalVariableDeclaration$TW = MetaAdapterFactory.getConcept(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x5bbe8a6d23a1b6ceL, "com.mbeddr.core.modules.structure.GlobalVariableDeclaration");
    /*package*/ static final SConcept GlobalVarRef$hy = MetaAdapterFactory.getConcept(0x6d11763d483d4b2bL, 0x8efc09336c1b0001L, 0x5bbe8a6d23a20aeaL, "com.mbeddr.core.modules.structure.GlobalVarRef");
  }
}
