package com.mbeddr.ext.units.interpreter.plugin;

/*Generated by MPS */

import com.mbeddr.mpsutil.interpreter.rt.ConditionalInterpreterBase;
import java.util.List;
import com.mbeddr.mpsutil.interpreter.rt.IEvaluator;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import com.mbeddr.mpsutil.interpreter.rt.IConditionalEvaluator;
import com.mbeddr.mpsutil.interpreter.rt.ConditionalConceptEvaluatorBase;
import org.jetbrains.mps.openapi.model.SNode;
import com.mbeddr.mpsutil.interpreter.rt.IContext;
import com.mbeddr.mpsutil.interpreter.rt.ICoverageAnalyzer;
import com.mbeddr.mpsutil.interpreter.rt.ComputationTrace;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import com.mbeddr.mpsutil.interpreter.rt.InterpreterEscapeException;
import com.mbeddr.mpsutil.interpreter.rt.InterpreterRuntimeException;
import com.mbeddr.mpsutil.interpreter.rt.EvaluatorInfo;
import com.mbeddr.ext.units.behavior.ConversionSpecifier__BehaviorDescriptor;
import com.mbeddr.mpsutil.interpreter.rt.IConditionalInterpreter;
import com.mbeddr.mpsutil.interpreter.rt.ITypeMapper;
import com.mbeddr.mpsutil.interpreter.rt.IRelationship;
import com.mbeddr.mpsutil.interpreter.rt.InterpretAfterRelationshipImpl;
import org.jetbrains.mps.openapi.language.SContainmentLink;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import org.jetbrains.mps.openapi.language.SReferenceLink;
import org.jetbrains.mps.openapi.language.SConcept;

public class InterpreterCUnitsInterpreter extends ConditionalInterpreterBase {
  public InterpreterCUnitsInterpreter() {
    init();
  }

  @Override
  public String getCategory() {
    return "CInterpreter";
  }

  protected void populateEvaluators(List<? extends IEvaluator> evaluators) {
    ListSequence.fromList(((List<IConditionalEvaluator>) evaluators)).addElement(new ConditionalConceptEvaluatorBase(CONCEPTS.AnnotatedExpression$Ec, "r:c108f741-531f-47a3-98a2-b2ce8fdde2e2(com.mbeddr.ext.units.interpreter.plugin)/7796191070109113082", true) {
      public Object evaluateEvaluator(SNode node, IContext context, ICoverageAnalyzer coverage, ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          if (this.concept != SNodeOperations.getConcept(node)) {
            coverage.visitedConcept(SNodeOperations.getConcept(node));
          }
          return ((Object) castUp(context.getRootInterpreter().evaluate(SLinkOperations.getTarget(node, LINKS.innerExpression$bkfw), context, coverage, trace, false), Object.class));
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("AnnotatedExpression()", node, ex, trace);
        }
      }

      @Override
      public String toString() {
        return "AnnotatedExpression";
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("AnnotatedExpression", "http://127.0.0.1:63320/node?ref=65cad566-8fce-479e-80b4-2ea400cf7d8b%2Fi%3A10000001%28com.mbeddr.ext.units.interpreter%40transient39%2Fcom.mbeddr.ext.units.interpreter.plugin%400%29%2F7796191070109113082");
      }

      @Override
      public boolean canLookupBeCached() {
        return false;
      }

    });
    ListSequence.fromList(((List<IConditionalEvaluator>) evaluators)).addElement(new ConditionalConceptEvaluatorBase(CONCEPTS.ConvertExpression$ff, "r:c108f741-531f-47a3-98a2-b2ce8fdde2e2(com.mbeddr.ext.units.interpreter.plugin)/7796191070109133132", true) {
      public Object evaluateEvaluator(SNode node, IContext context, ICoverageAnalyzer coverage, ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          if (this.concept != SNodeOperations.getConcept(node)) {
            coverage.visitedConcept(SNodeOperations.getConcept(node));
          }
          return ConversionSpecifier__BehaviorDescriptor.evaluateStatically_id1wGuEUvZWo0.invoke(SLinkOperations.getTarget(node, LINKS.conversionSpecifier$TvLX), SLinkOperations.getTarget(node, LINKS.expression$LDUH));
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("convert()", node, ex, trace);
        }
      }
      public boolean isEvaluable(SNode node, IContext context) {
        return ((IConditionalInterpreter) context.getRootInterpreter()).isEvaluable(SLinkOperations.getTarget(node, LINKS.expression$LDUH), context) && SLinkOperations.getTarget(node, LINKS.conversionSpecifier$TvLX) != null && ((IConditionalInterpreter) context.getRootInterpreter()).isEvaluable(SLinkOperations.getTarget(node, LINKS.conversionSpecifier$TvLX), context);
      }

      @Override
      public String toString() {
        return "ConvertExpression";
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("ConvertExpression", "http://127.0.0.1:63320/node?ref=65cad566-8fce-479e-80b4-2ea400cf7d8b%2Fi%3A10000001%28com.mbeddr.ext.units.interpreter%40transient39%2Fcom.mbeddr.ext.units.interpreter.plugin%400%29%2F7796191070109133132");
      }

      @Override
      public boolean canLookupBeCached() {
        return false;
      }

    });
    ListSequence.fromList(((List<IConditionalEvaluator>) evaluators)).addElement(new ConditionalConceptEvaluatorBase(CONCEPTS.StripUnitExpression$1l, "r:c108f741-531f-47a3-98a2-b2ce8fdde2e2(com.mbeddr.ext.units.interpreter.plugin)/7796191070109175884", true) {
      public Object evaluateEvaluator(SNode node, IContext context, ICoverageAnalyzer coverage, ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          if (this.concept != SNodeOperations.getConcept(node)) {
            coverage.visitedConcept(SNodeOperations.getConcept(node));
          }
          return ((Object) castUp(context.getRootInterpreter().evaluate(SLinkOperations.getTarget(node, LINKS.innerExpression$Uh4n), context, coverage, trace, false), Object.class));
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("stripunit()", node, ex, trace);
        }
      }

      @Override
      public String toString() {
        return "StripUnitExpression";
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("StripUnitExpression", "http://127.0.0.1:63320/node?ref=65cad566-8fce-479e-80b4-2ea400cf7d8b%2Fi%3A10000001%28com.mbeddr.ext.units.interpreter%40transient39%2Fcom.mbeddr.ext.units.interpreter.plugin%400%29%2F7796191070109175884");
      }

      @Override
      public boolean canLookupBeCached() {
        return false;
      }

    });
    ListSequence.fromList(((List<IConditionalEvaluator>) evaluators)).addElement(new ConditionalConceptEvaluatorBase(CONCEPTS.ValExpression$zo, "r:c108f741-531f-47a3-98a2-b2ce8fdde2e2(com.mbeddr.ext.units.interpreter.plugin)/7796191070109194086", true) {
      public Object evaluateEvaluator(SNode node, IContext context, ICoverageAnalyzer coverage, ComputationTrace trace) {
        try {
          coverage.visitedEvaluator(this);
          coverage.visitedConcept(this.concept);
          if (this.concept != SNodeOperations.getConcept(node)) {
            coverage.visitedConcept(SNodeOperations.getConcept(node));
          }
          return 1;
        } catch (InterpreterEscapeException ex) {
          throw ex;
        } catch (RuntimeException ex) {
          throw new InterpreterRuntimeException("val()", node, ex, trace);
        }
      }
      public boolean isEvaluable(SNode node, IContext context) {
        return true;
      }

      @Override
      public String toString() {
        return "ValExpression";
      }
      public EvaluatorInfo getInfo() {
        return new EvaluatorInfo("ValExpression", "http://127.0.0.1:63320/node?ref=65cad566-8fce-479e-80b4-2ea400cf7d8b%2Fi%3A10000001%28com.mbeddr.ext.units.interpreter%40transient39%2Fcom.mbeddr.ext.units.interpreter.plugin%400%29%2F7796191070109194086");
      }

      @Override
      public boolean canLookupBeCached() {
        return false;
      }

    });
  }


  protected void populateTypeMappers(List<? extends ITypeMapper> typeMappers) {
  }



  protected void populateRelationships(List<? extends IRelationship> relationships) {
    ListSequence.fromList(((List<IRelationship>) relationships)).addElement(new InterpretAfterRelationshipImpl("com.mbeddr.ext.units.interpreter.plugin.InterpreterCUnitsInterpreter", "com.mbeddr.core.expressions.interpreter.plugin.InterpreterCExpressionsInterpreter"));
  }

  private static final class LINKS {
    /*package*/ static final SContainmentLink innerExpression$bkfw = MetaAdapterFactory.getContainmentLink(0xd04a6cc773e4069L, 0xb9b011884b2ff1c8L, 0x73b48a125b0c5df0L, 0x73b48a125b0d373aL, "innerExpression");
    /*package*/ static final SReferenceLink conversionSpecifier$TvLX = MetaAdapterFactory.getReferenceLink(0xd04a6cc773e4069L, 0xb9b011884b2ff1c8L, 0x3930d8ab4c0e6285L, 0x8ac4b7baaeabc73L, "conversionSpecifier");
    /*package*/ static final SContainmentLink expression$LDUH = MetaAdapterFactory.getContainmentLink(0xd04a6cc773e4069L, 0xb9b011884b2ff1c8L, 0x3930d8ab4c0e6285L, 0x3930d8ab4c0edbeaL, "expression");
    /*package*/ static final SContainmentLink innerExpression$Uh4n = MetaAdapterFactory.getContainmentLink(0xd04a6cc773e4069L, 0xb9b011884b2ff1c8L, 0x8ac4b7baae857ebL, 0x8ac4b7baae857ecL, "innerExpression");
  }

  private static final class CONCEPTS {
    /*package*/ static final SConcept AnnotatedExpression$Ec = MetaAdapterFactory.getConcept(0xd04a6cc773e4069L, 0xb9b011884b2ff1c8L, 0x73b48a125b0c5df0L, "com.mbeddr.ext.units.structure.AnnotatedExpression");
    /*package*/ static final SConcept ConvertExpression$ff = MetaAdapterFactory.getConcept(0xd04a6cc773e4069L, 0xb9b011884b2ff1c8L, 0x3930d8ab4c0e6285L, "com.mbeddr.ext.units.structure.ConvertExpression");
    /*package*/ static final SConcept StripUnitExpression$1l = MetaAdapterFactory.getConcept(0xd04a6cc773e4069L, 0xb9b011884b2ff1c8L, 0x8ac4b7baae857ebL, "com.mbeddr.ext.units.structure.StripUnitExpression");
    /*package*/ static final SConcept ValExpression$zo = MetaAdapterFactory.getConcept(0xd04a6cc773e4069L, 0xb9b011884b2ff1c8L, 0x47f53137d1e3b2aeL, "com.mbeddr.ext.units.structure.ValExpression");
  }
}
