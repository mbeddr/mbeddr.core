package com.mbeddr.ext.components.editor;

/*Generated by MPS */

import de.itemis.mps.editor.diagram.runtime.shape.AbstractShape;
import java.awt.Graphics2D;
import java.awt.geom.Rectangle2D;
import de.itemis.mps.editor.diagram.runtime.shape.IShapeStyle;
import java.awt.BasicStroke;
import java.awt.Shape;
import java.awt.Polygon;

public class PortShape extends AbstractShape {

  private boolean connected;
  private boolean required;
  private boolean optional;

  public PortShape(boolean connected, boolean required, boolean optional) {
    this.connected = connected;
    this.required = required;
    this.optional = optional;
  }




  @Override
  protected void draw(final Graphics2D graphics, final Rectangle2D bounds, IShapeStyle style) {
    graphics.setStroke(new BasicStroke(2));
    if (!(this.connected)) {
      if (this.required) {
        graphics.setColor(DiagramColors.clientPort);
      } else {
        graphics.setColor(DiagramColors.serverPort);
      }
    } else {
      graphics.setColor(DiagramColors.darkGray);
    }
    graphics.setColor(DiagramColors.COMPONENT_TEXT);
    if (this.required) {
      int x = ((int) bounds.getX());
      int y = ((int) bounds.getY());
      int w = ((int) bounds.getWidth()) + 2;
      int h = ((int) bounds.getHeight());
      int[] xs = {x, x + w, x};
      int[] ys = {y, y + h / 2, y + h};
      Shape s = new Polygon(xs, ys, 3);
      if (this.optional) {
        graphics.setColor(DiagramColors.COMPONENT_TEXT);
        graphics.draw(s);
      } else {
        graphics.fill(s);
        graphics.draw(s);
      }

    } else {
      if (this.optional) {
        graphics.draw(bounds);
      } else {
        graphics.fill(bounds);
        graphics.draw(bounds);
      }
    }

  }

}
