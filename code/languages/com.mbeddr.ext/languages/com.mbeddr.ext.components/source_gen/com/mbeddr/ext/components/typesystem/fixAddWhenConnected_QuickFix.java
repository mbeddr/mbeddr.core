package com.mbeddr.ext.components.typesystem;

/*Generated by MPS */

import jetbrains.mps.errors.QuickFix_Runtime;
import jetbrains.mps.smodel.SNodePointer;
import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SConceptOperations;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import jetbrains.mps.smodel.builder.SNodeBuilder;
import org.jetbrains.mps.openapi.language.SContainmentLink;
import org.jetbrains.mps.openapi.language.SReferenceLink;
import org.jetbrains.mps.openapi.language.SConcept;

public class fixAddWhenConnected_QuickFix extends QuickFix_Runtime {
  public fixAddWhenConnected_QuickFix() {
    super(new SNodePointer("r:c480d4b6-a379-41b5-b76a-c94ccc817c4e(com.mbeddr.ext.components.typesystem)", "1539255704409481848"));
  }
  public String getDescription(SNode node) {
    return "Surround with When Connected";
  }
  public void execute(SNode node) {
    SNode w = SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x97d2424451db4e2eL, 0x97fc7bd73b1f5f40L, 0x49ac545363852eabL, "com.mbeddr.ext.components.structure.WhenPortConnectedStatement"));
    SLinkOperations.setTarget(w, LINKS.portExpr$qDHC, createPortRefExpr_7dd341_a0b0a(SLinkOperations.getTarget(SLinkOperations.getTarget(((SNode) fixAddWhenConnected_QuickFix.this.getField("call")[0]), LINKS.expression$PfNq), LINKS.port$IUw8)));
    SNode s = SNodeOperations.getNodeAncestor(((SNode) fixAddWhenConnected_QuickFix.this.getField("call")[0]), CONCEPTS.Statement$zV, false, false);
    SNodeOperations.replaceWithAnother(s, w);
    SLinkOperations.setNewChild(w, LINKS.body$5b19, null);
    ListSequence.fromList(SLinkOperations.getChildren(SLinkOperations.getTarget(w, LINKS.body$5b19), LINKS.statements$euTV)).addElement(s);
  }
  private static SNode createPortRefExpr_7dd341_a0b0a(SNode p0) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.PortRefExpr$IW);
    n0.setReferenceTarget(LINKS.port$IUw8, p0);
    return n0.getResult();
  }

  private static final class LINKS {
    /*package*/ static final SContainmentLink portExpr$qDHC = MetaAdapterFactory.getContainmentLink(0x97d2424451db4e2eL, 0x97fc7bd73b1f5f40L, 0x49ac545363852eabL, 0xfc4d6b08523b438L, "portExpr");
    /*package*/ static final SContainmentLink expression$PfNq = MetaAdapterFactory.getContainmentLink(0x61c69711ed614850L, 0x81d97714ff227fb0L, 0x29b5b7c4a3763232L, 0x64ae61a4018a9c50L, "expression");
    /*package*/ static final SReferenceLink port$IUw8 = MetaAdapterFactory.getReferenceLink(0x97d2424451db4e2eL, 0x97fc7bd73b1f5f40L, 0x707ac195dd6397aaL, 0x707ac195dd6397abL, "port");
    /*package*/ static final SContainmentLink body$5b19 = MetaAdapterFactory.getContainmentLink(0x97d2424451db4e2eL, 0x97fc7bd73b1f5f40L, 0x49ac545363852eabL, 0x49ac545363852eadL, "body");
    /*package*/ static final SContainmentLink statements$euTV = MetaAdapterFactory.getContainmentLink(0xa9d696470840491eL, 0xbf392eb0805d2011L, 0x3a16e3a9c7ad9955L, 0x3a16e3a9c7ad9956L, "statements");
  }

  private static final class CONCEPTS {
    /*package*/ static final SConcept Statement$zV = MetaAdapterFactory.getConcept(0xa9d696470840491eL, 0xbf392eb0805d2011L, 0x3a16e3a9c7ad6d03L, "com.mbeddr.core.statements.structure.Statement");
    /*package*/ static final SConcept PortRefExpr$IW = MetaAdapterFactory.getConcept(0x97d2424451db4e2eL, 0x97fc7bd73b1f5f40L, 0x707ac195dd6397aaL, "com.mbeddr.ext.components.structure.PortRefExpr");
  }
}
