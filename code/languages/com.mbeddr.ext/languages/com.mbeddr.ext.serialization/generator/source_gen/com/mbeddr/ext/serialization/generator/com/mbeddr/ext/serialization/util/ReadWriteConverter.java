package com.mbeddr.ext.serialization.generator.com.mbeddr.ext.serialization.util;

/*Generated by MPS */

import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.typechecking.TypecheckingFacade;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import java.util.List;
import com.mbeddr.core.udt.behavior.SUDeclaration__BehaviorDescriptor;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SConceptOperations;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import com.mbeddr.ext.serialization.behavior.ReadTarget__BehaviorDescriptor;
import com.mbeddr.core.udt.behavior.EnumType__BehaviorDescriptor;
import jetbrains.mps.smodel.builder.SNodeBuilder;
import org.jetbrains.mps.openapi.language.SContainmentLink;
import org.jetbrains.mps.openapi.language.SReferenceLink;
import org.jetbrains.mps.openapi.language.SConcept;
import org.jetbrains.mps.openapi.language.SInterfaceConcept;
import org.jetbrains.mps.openapi.language.SProperty;

public class ReadWriteConverter {


  public static SNode convertWrite(SNode wt) {
    SNode sl = createStatementList_pgixuz_a0a0c();


    SNode struct;
    SNode msgType = TypecheckingFacade.getFromContext().getTypeOf(SLinkOperations.getTarget(wt, LINKS.message$wcP_));
    if (SNodeOperations.isInstanceOf(msgType, CONCEPTS.StructType$B3)) {
      struct = SNodeOperations.cast(SLinkOperations.getTarget(SNodeOperations.cast(msgType, CONCEPTS.StructType$B3), LINKS.struct$WCsg), CONCEPTS.StructDeclaration$ox);
    } else if (SNodeOperations.isInstanceOf(msgType, CONCEPTS.PointerType$HX)) {
      struct = SNodeOperations.cast(SLinkOperations.getTarget(SNodeOperations.cast(SLinkOperations.getTarget(SNodeOperations.cast(msgType, CONCEPTS.PointerType$HX), LINKS.baseType$zMGV), CONCEPTS.StructType$B3), LINKS.struct$WCsg), CONCEPTS.StructDeclaration$ox);
    } else {
      throw new RuntimeException("unexpected type: " + SNodeOperations.present(msgType));
    }

    SNode ctx = SLinkOperations.getTarget(SNodeOperations.cast(SNodeOperations.getParent(wt), CONCEPTS.GenericDotExpression$uQ), LINKS.expression$PfNq);

    writeStruct(ctx, createParensExpression_pgixuz_b0j0c(SLinkOperations.getTarget(wt, LINKS.message$wcP_)), sl, struct);
    return sl;
  }
  private static void writeStruct(SNode ctx, SNode msg, SNode sl, SNode struct) {
    List<SNode> members = SUDeclaration__BehaviorDescriptor.membersIncludingTransparent_id7TdHRrCpjWZ.invoke(struct);
    ListSequence.fromList(SLinkOperations.getChildren(sl, LINKS.statements$euTV)).addElement(createExpressionStatement_pgixuz_a0a1a3(SNodeOperations.copyNode(ctx), ListSequence.fromList(members).count() + ""));
    for (SNode m : ListSequence.fromList(members)) {
      if (SNodeOperations.isInstanceOf(SLinkOperations.getTarget(m, LINKS.type$sXU3), CONCEPTS.StructType$B3)) {
        writeStruct(ctx, createGenericDotExpression_pgixuz_b0a0a0c0d(msg, m), sl, SNodeOperations.cast(SLinkOperations.getTarget(SNodeOperations.cast(SLinkOperations.getTarget(m, LINKS.type$sXU3), CONCEPTS.StructType$B3), LINKS.struct$WCsg), CONCEPTS.StructDeclaration$ox));
      } else {
        SNode mapToPrimitiveWrite = mapToPrimitiveWrite(SLinkOperations.getTarget(m, LINKS.type$sXU3));
        SLinkOperations.setTarget(mapToPrimitiveWrite, LINKS.expr$Ewny, createGenericDotExpression_pgixuz_a0b0a0a2a3(msg, m));


        SNode statement = createExpressionStatement_pgixuz_a0e0a0a2a3(SNodeOperations.copyNode(ctx), mapToPrimitiveWrite);
        ListSequence.fromList(SLinkOperations.getChildren(sl, LINKS.statements$euTV)).addElement(statement);
      }
    }
  }

  private static SNode mapToPrimitiveWrite(SNode t) {
    {
      final SNode td = t;
      if (SNodeOperations.isInstanceOf(td, CONCEPTS.ITypeDecorator$9x)) {
        return mapToPrimitiveWrite(SLinkOperations.getTarget(td, LINKS.valueType$2o7e));
      }
    }
    if (SNodeOperations.isInstanceOf(t, CONCEPTS.UnsignedInt8tType$n3)) {
      return SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0xbb0ad88b63cd45fdL, 0xae278662d274cf3cL, 0x1c55392e75bf6e9bL, "com.mbeddr.ext.serialization.structure.WriteUInt8"));
    }
    if (SNodeOperations.isInstanceOf(t, CONCEPTS.UnsignedInt16tType$pu)) {
      return SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0xbb0ad88b63cd45fdL, 0xae278662d274cf3cL, 0x1c55392e75bf6e98L, "com.mbeddr.ext.serialization.structure.WriteUInt16"));
    }
    if (SNodeOperations.isInstanceOf(t, CONCEPTS.UnsignedInt32tType$7z)) {
      return SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0xbb0ad88b63cd45fdL, 0xae278662d274cf3cL, 0x1c55392e75bf6e99L, "com.mbeddr.ext.serialization.structure.WriteUInt32"));
    }
    if (SNodeOperations.isInstanceOf(t, CONCEPTS.UnsignedInt64tType$at)) {
      return SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0xbb0ad88b63cd45fdL, 0xae278662d274cf3cL, 0x1c55392e75bf6e9aL, "com.mbeddr.ext.serialization.structure.WriteUInt64"));
    }

    if (SNodeOperations.isInstanceOf(t, CONCEPTS.Int8tType$tq)) {
      return SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0xbb0ad88b63cd45fdL, 0xae278662d274cf3cL, 0x1c55392e74660c14L, "com.mbeddr.ext.serialization.structure.WriteInt8"));
    }
    if (SNodeOperations.isInstanceOf(t, CONCEPTS.Int16tType$FW)) {
      return SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0xbb0ad88b63cd45fdL, 0xae278662d274cf3cL, 0x1c55392e75bf6da9L, "com.mbeddr.ext.serialization.structure.WriteInt16"));
    }
    if (SNodeOperations.isInstanceOf(t, CONCEPTS.Int32tType$Sy)) {
      return SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0xbb0ad88b63cd45fdL, 0xae278662d274cf3cL, 0x1c55392e75bf6e83L, "com.mbeddr.ext.serialization.structure.WriteInt32"));
    }
    if (SNodeOperations.isInstanceOf(t, CONCEPTS.Int64tType$UX)) {
      return SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0xbb0ad88b63cd45fdL, 0xae278662d274cf3cL, 0x1c55392e75bf6e87L, "com.mbeddr.ext.serialization.structure.WriteInt64"));
    }


    if (SNodeOperations.isInstanceOf(t, CONCEPTS.BooleanType$fL)) {
      return SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0xbb0ad88b63cd45fdL, 0xae278662d274cf3cL, 0x1c55392e75cc41c8L, "com.mbeddr.ext.serialization.structure.WriteBool"));
    }

    if (SNodeOperations.isInstanceOf(t, CONCEPTS.FloatType$6s)) {
      return SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0xbb0ad88b63cd45fdL, 0xae278662d274cf3cL, 0x1c55392e75bf6f60L, "com.mbeddr.ext.serialization.structure.WriteFloat"));
    }
    if (SNodeOperations.isInstanceOf(t, CONCEPTS.DoubleType$Lm)) {
      return SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0xbb0ad88b63cd45fdL, 0xae278662d274cf3cL, 0x1c55392e75bf6f5bL, "com.mbeddr.ext.serialization.structure.WriteDouble"));
    }

    if (SNodeOperations.isInstanceOf(t, CONCEPTS.StringArrayType$DF)) {
      return SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0xbb0ad88b63cd45fdL, 0xae278662d274cf3cL, 0x1c55392e75c7b5c3L, "com.mbeddr.ext.serialization.structure.WriteStringArray"));
    }

    return null;
  }



  public static SNode convertRead(SNode rt) {
    SNode sl = createStatementList_pgixuz_a0a0j();


    SNode struct;
    SNode message = SLinkOperations.getTarget(rt, LINKS.message$6qrw);
    SNode msgType = TypecheckingFacade.getFromContext().getTypeOf(message);
    if (SNodeOperations.isInstanceOf(msgType, CONCEPTS.StructType$B3)) {
      struct = SNodeOperations.cast(SLinkOperations.getTarget(SNodeOperations.cast(msgType, CONCEPTS.StructType$B3), LINKS.struct$WCsg), CONCEPTS.StructDeclaration$ox);
    } else if (SNodeOperations.isInstanceOf(msgType, CONCEPTS.PointerType$HX)) {
      struct = SNodeOperations.cast(SLinkOperations.getTarget(SNodeOperations.cast(SLinkOperations.getTarget(SNodeOperations.cast(msgType, CONCEPTS.PointerType$HX), LINKS.baseType$zMGV), CONCEPTS.StructType$B3), LINKS.struct$WCsg), CONCEPTS.StructDeclaration$ox);
    } else {
      throw new RuntimeException("unexpected type: " + SNodeOperations.present(msgType));
    }

    SNode ctx = SLinkOperations.getTarget(SNodeOperations.cast(SNodeOperations.getParent(rt), CONCEPTS.GenericDotExpression$uQ), LINKS.expression$PfNq);

    SNode tempSize = createLocalVariableDeclaration_pgixuz_a0k0j(ReadTarget__BehaviorDescriptor.tempVarName_id6pWLWdosvzP.invoke(SNodeOperations.asSConcept(SNodeOperations.getConcept(rt))));
    ListSequence.fromList(SLinkOperations.getChildren(sl, LINKS.statements$euTV)).addElement(tempSize);


    readStruct(ctx, createParensExpression_pgixuz_b0o0j(message), sl, tempSize, struct);
    return sl;
  }

  private static void readStruct(SNode ctx, SNode msg, SNode sl, SNode tempSize, SNode struct) {
    List<SNode> members = SUDeclaration__BehaviorDescriptor.membersIncludingTransparent_id7TdHRrCpjWZ.invoke(struct);
    ListSequence.fromList(SLinkOperations.getChildren(sl, LINKS.statements$euTV)).addElement(createExpressionStatement_pgixuz_a0a1a11(SNodeOperations.copyNode(ctx), tempSize));
    for (SNode m : ListSequence.fromList(members)) {
      if (SNodeOperations.isInstanceOf(SLinkOperations.getTarget(m, LINKS.type$sXU3), CONCEPTS.StructType$B3)) {
        readStruct(ctx, createGenericDotExpression_pgixuz_b0a0a0c0l(msg, m), sl, tempSize, SNodeOperations.cast(SLinkOperations.getTarget(SNodeOperations.cast(SLinkOperations.getTarget(m, LINKS.type$sXU3), CONCEPTS.StructType$B3), LINKS.struct$WCsg), CONCEPTS.StructDeclaration$ox));
      } else {
        SNode mapToPrimitiveRead = mapToPrimitiveRead(SLinkOperations.getTarget(m, LINKS.type$sXU3));
        if (SNodeOperations.isInstanceOf(SLinkOperations.getTarget(m, LINKS.type$sXU3), CONCEPTS.StringArrayType$DF)) {
          // assign size to temp var
          ListSequence.fromList(SLinkOperations.getChildren(sl, LINKS.statements$euTV)).addElement(createExpressionStatement_pgixuz_a0a1a1a0a0c0l(tempSize, SNodeOperations.copyNode(SLinkOperations.getTarget(SNodeOperations.cast(SLinkOperations.getTarget(m, LINKS.type$sXU3), CONCEPTS.StringArrayType$DF), LINKS.sizeExpr$hVlA))));
          SLinkOperations.setTarget(SNodeOperations.cast(mapToPrimitiveRead, CONCEPTS.ReadStringArray$YW), LINKS.length$k4Z, createReferenceExpr_pgixuz_a0c0b0a0a2a11(tempSize));
          SLinkOperations.setTarget(mapToPrimitiveRead, LINKS.expr$Ewny, createParensExpression_pgixuz_a0d0b0a0a2a11(msg, m));
        } else {
          SNode refExpr = createReferenceExpr_pgixuz_a0a0a1a0a0c0l(msg, m);
          if (SNodeOperations.isInstanceOf(SLinkOperations.getTarget(m, LINKS.type$sXU3), CONCEPTS.EnumType$MR)) {
            SLinkOperations.setTarget(mapToPrimitiveRead, LINKS.expr$Ewny, createCastExpression_pgixuz_a0a0b0a1a0a0c0l(EnumType__BehaviorDescriptor.getIntType_id7x9Z_y1SmZ6.invoke(SNodeOperations.cast(SLinkOperations.getTarget(m, LINKS.type$sXU3), CONCEPTS.EnumType$MR)), refExpr));

          } else {
            SLinkOperations.setTarget(mapToPrimitiveRead, LINKS.expr$Ewny, refExpr);
          }
        }
        ListSequence.fromList(SLinkOperations.getChildren(sl, LINKS.statements$euTV)).addElement(createExpressionStatement_pgixuz_a0a2a0a0c0l(SNodeOperations.copyNode(ctx), mapToPrimitiveRead));
      }
    }
  }
  private static SNode mapToPrimitiveRead(SNode t) {
    {
      final SNode td = t;
      if (SNodeOperations.isInstanceOf(td, CONCEPTS.ITypeDecorator$9x)) {
        return mapToPrimitiveRead(SLinkOperations.getTarget(td, LINKS.valueType$2o7e));
      }
    }

    if (SNodeOperations.isInstanceOf(t, CONCEPTS.UnsignedInt8tType$n3)) {
      return SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0xbb0ad88b63cd45fdL, 0xae278662d274cf3cL, 0x297dbd78f1624566L, "com.mbeddr.ext.serialization.structure.ReadUInt8"));
    }
    if (SNodeOperations.isInstanceOf(t, CONCEPTS.UnsignedInt16tType$pu)) {
      return SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0xbb0ad88b63cd45fdL, 0xae278662d274cf3cL, 0x297dbd78f1624563L, "com.mbeddr.ext.serialization.structure.ReadUInt16"));
    }
    if (SNodeOperations.isInstanceOf(t, CONCEPTS.UnsignedInt32tType$7z)) {
      return SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0xbb0ad88b63cd45fdL, 0xae278662d274cf3cL, 0x297dbd78f1624564L, "com.mbeddr.ext.serialization.structure.ReadUInt32"));
    }
    if (SNodeOperations.isInstanceOf(t, CONCEPTS.UnsignedInt64tType$at)) {
      return SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0xbb0ad88b63cd45fdL, 0xae278662d274cf3cL, 0x297dbd78f1624565L, "com.mbeddr.ext.serialization.structure.ReadUInt64"));
    }

    if (SNodeOperations.isInstanceOf(t, CONCEPTS.Int8tType$tq)) {
      return SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0xbb0ad88b63cd45fdL, 0xae278662d274cf3cL, 0x297dbd78f1624560L, "com.mbeddr.ext.serialization.structure.ReadInt8"));
    }
    if (SNodeOperations.isInstanceOf(t, CONCEPTS.Int16tType$FW)) {
      return SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0xbb0ad88b63cd45fdL, 0xae278662d274cf3cL, 0x297dbd78f162455dL, "com.mbeddr.ext.serialization.structure.ReadInt16"));
    }
    if (SNodeOperations.isInstanceOf(t, CONCEPTS.Int32tType$Sy)) {
      return SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0xbb0ad88b63cd45fdL, 0xae278662d274cf3cL, 0x297dbd78f162455eL, "com.mbeddr.ext.serialization.structure.ReadInt32"));
    }
    if (SNodeOperations.isInstanceOf(t, CONCEPTS.Int64tType$UX)) {
      return SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0xbb0ad88b63cd45fdL, 0xae278662d274cf3cL, 0x297dbd78f162455fL, "com.mbeddr.ext.serialization.structure.ReadInt64"));
    }


    if (SNodeOperations.isInstanceOf(t, CONCEPTS.BooleanType$fL)) {
      return SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0xbb0ad88b63cd45fdL, 0xae278662d274cf3cL, 0x297dbd78f162455aL, "com.mbeddr.ext.serialization.structure.ReadBool"));
    }

    if (SNodeOperations.isInstanceOf(t, CONCEPTS.FloatType$6s)) {
      return SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0xbb0ad88b63cd45fdL, 0xae278662d274cf3cL, 0x297dbd78f162455cL, "com.mbeddr.ext.serialization.structure.ReadFloat"));
    }
    if (SNodeOperations.isInstanceOf(t, CONCEPTS.DoubleType$Lm)) {
      return SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0xbb0ad88b63cd45fdL, 0xae278662d274cf3cL, 0x297dbd78f162455bL, "com.mbeddr.ext.serialization.structure.ReadDouble"));
    }

    if (SNodeOperations.isInstanceOf(t, CONCEPTS.StringArrayType$DF)) {
      return SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0xbb0ad88b63cd45fdL, 0xae278662d274cf3cL, 0x297dbd78f1624561L, "com.mbeddr.ext.serialization.structure.ReadStringArray"));
    }

    return null;
  }

  private static SNode createStatementList_pgixuz_a0a0c() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.StatementList$y1);
    n0.setProperty(PROPS.isInvisible$H923, "" + (false));
    return n0.getResult();
  }
  private static SNode createParensExpression_pgixuz_b0j0c(SNode p0) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.ParensExpression$Ng);
    n0.forChild(LINKS.expression$PfNq).initNode(p0, CONCEPTS.Expression$bT, true);
    return n0.getResult();
  }
  private static SNode createExpressionStatement_pgixuz_a0a1a3(SNode p0, String p1) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.ExpressionStatement$SU);
    {
      SNodeBuilder n1 = n0.forChild(LINKS.expr$vamr).init(CONCEPTS.GenericDotExpression$uQ);
      n1.forChild(LINKS.expression$PfNq).initNode(p0, CONCEPTS.Expression$bT, true);
      {
        SNodeBuilder n2 = n1.forChild(LINKS.target$CEPF).init(CONCEPTS.WriteArrayMarker$Lz);
        {
          SNodeBuilder n3 = n2.forChild(LINKS.expr$Ewny).init(CONCEPTS.NumberLiteral$jK);
          n3.setProperty(PROPS.value$qZmE, p1);
        }
      }
    }
    return n0.getResult();
  }
  private static SNode createGenericDotExpression_pgixuz_b0a0a0c0d(SNode p0, SNode p1) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.GenericDotExpression$uQ);
    n0.forChild(LINKS.expression$PfNq).initNode(p0, CONCEPTS.Expression$bT, true);
    {
      SNodeBuilder n1 = n0.forChild(LINKS.target$CEPF).init(CONCEPTS.GenericMemberRef$bk);
      n1.setReferenceTarget(LINKS.member$wUNL, p1);
    }
    return n0.getResult();
  }
  private static SNode createGenericDotExpression_pgixuz_a0b0a0a2a3(SNode p0, SNode p1) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.GenericDotExpression$uQ);
    n0.forChild(LINKS.expression$PfNq).initNode(p0, CONCEPTS.Expression$bT, true);
    {
      SNodeBuilder n1 = n0.forChild(LINKS.target$CEPF).init(CONCEPTS.GenericMemberRef$bk);
      n1.setReferenceTarget(LINKS.member$wUNL, p1);
    }
    return n0.getResult();
  }
  private static SNode createExpressionStatement_pgixuz_a0e0a0a2a3(SNode p0, SNode p1) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.ExpressionStatement$SU);
    {
      SNodeBuilder n1 = n0.forChild(LINKS.expr$vamr).init(CONCEPTS.GenericDotExpression$uQ);
      n1.forChild(LINKS.expression$PfNq).initNode(p0, CONCEPTS.Expression$bT, true);
      n1.forChild(LINKS.target$CEPF).initNode(p1, CONCEPTS.IGenericDotTarget$qj, true);
    }
    return n0.getResult();
  }
  private static SNode createStatementList_pgixuz_a0a0j() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.StatementList$y1);
    n0.setProperty(PROPS.isInvisible$H923, "" + (false));
    return n0.getResult();
  }
  private static SNode createLocalVariableDeclaration_pgixuz_a0k0j(String p0) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.LocalVariableDeclaration$ft);
    n0.forChild(LINKS.type$sXU3).init(CONCEPTS.UnsignedInt32tType$7z);
    n0.setProperty(PROPS.name$MnvL, p0);
    return n0.getResult();
  }
  private static SNode createParensExpression_pgixuz_b0o0j(SNode p0) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.ParensExpression$Ng);
    n0.forChild(LINKS.expression$PfNq).initNode(p0, CONCEPTS.Expression$bT, true);
    return n0.getResult();
  }
  private static SNode createExpressionStatement_pgixuz_a0a1a11(SNode p0, SNode p1) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.ExpressionStatement$SU);
    {
      SNodeBuilder n1 = n0.forChild(LINKS.expr$vamr).init(CONCEPTS.GenericDotExpression$uQ);
      n1.forChild(LINKS.expression$PfNq).initNode(p0, CONCEPTS.Expression$bT, true);
      {
        SNodeBuilder n2 = n1.forChild(LINKS.target$CEPF).init(CONCEPTS.ReadArrayMarker$P$);
        {
          SNodeBuilder n3 = n2.forChild(LINKS.expr$Ewny).init(CONCEPTS.ReferenceExpr$Gw);
          {
            SNodeBuilder n4 = n3.forChild(LINKS.expression$PfNq).init(CONCEPTS.LocalVarRef$VQ);
            n4.setReferenceTarget(LINKS.var$YUyC, p1);
          }
        }
      }
    }
    return n0.getResult();
  }
  private static SNode createGenericDotExpression_pgixuz_b0a0a0c0l(SNode p0, SNode p1) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.GenericDotExpression$uQ);
    n0.forChild(LINKS.expression$PfNq).initNode(p0, CONCEPTS.Expression$bT, true);
    {
      SNodeBuilder n1 = n0.forChild(LINKS.target$CEPF).init(CONCEPTS.GenericMemberRef$bk);
      n1.setReferenceTarget(LINKS.member$wUNL, p1);
    }
    return n0.getResult();
  }
  private static SNode createExpressionStatement_pgixuz_a0a1a1a0a0c0l(SNode p0, SNode p1) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.ExpressionStatement$SU);
    {
      SNodeBuilder n1 = n0.forChild(LINKS.expr$vamr).init(CONCEPTS.AssignmentExpr$mZ);
      {
        SNodeBuilder n2 = n1.forChild(LINKS.left$SkXz).init(CONCEPTS.LocalVarRef$VQ);
        n2.setReferenceTarget(LINKS.var$YUyC, p0);
      }
      {
        SNodeBuilder n3 = n1.forChild(LINKS.right$Slc$).init(CONCEPTS.PlusExpression$If);
        n3.forChild(LINKS.left$SkXz).initNode(p1, CONCEPTS.Expression$bT, true);
        {
          SNodeBuilder n4 = n3.forChild(LINKS.right$Slc$).init(CONCEPTS.NumberLiteral$jK);
          n4.setProperty(PROPS.value$qZmE, "1");
        }
      }
    }
    return n0.getResult();
  }
  private static SNode createReferenceExpr_pgixuz_a0c0b0a0a2a11(SNode p0) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.ReferenceExpr$Gw);
    {
      SNodeBuilder n1 = n0.forChild(LINKS.expression$PfNq).init(CONCEPTS.LocalVarRef$VQ);
      n1.setReferenceTarget(LINKS.var$YUyC, p0);
    }
    return n0.getResult();
  }
  private static SNode createParensExpression_pgixuz_a0d0b0a0a2a11(SNode p0, SNode p1) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.ParensExpression$Ng);
    {
      SNodeBuilder n1 = n0.forChild(LINKS.expression$PfNq).init(CONCEPTS.GenericDotExpression$uQ);
      n1.forChild(LINKS.expression$PfNq).initNode(p0, CONCEPTS.Expression$bT, true);
      {
        SNodeBuilder n2 = n1.forChild(LINKS.target$CEPF).init(CONCEPTS.GenericMemberRef$bk);
        n2.setReferenceTarget(LINKS.member$wUNL, p1);
      }
    }
    return n0.getResult();
  }
  private static SNode createReferenceExpr_pgixuz_a0a0a1a0a0c0l(SNode p0, SNode p1) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.ReferenceExpr$Gw);
    {
      SNodeBuilder n1 = n0.forChild(LINKS.expression$PfNq).init(CONCEPTS.ParensExpression$Ng);
      {
        SNodeBuilder n2 = n1.forChild(LINKS.expression$PfNq).init(CONCEPTS.GenericDotExpression$uQ);
        n2.forChild(LINKS.expression$PfNq).initNode(p0, CONCEPTS.Expression$bT, true);
        {
          SNodeBuilder n3 = n2.forChild(LINKS.target$CEPF).init(CONCEPTS.GenericMemberRef$bk);
          n3.setReferenceTarget(LINKS.member$wUNL, p1);
        }
      }
    }
    return n0.getResult();
  }
  private static SNode createCastExpression_pgixuz_a0a0b0a1a0a0c0l(SNode p0, SNode p1) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.CastExpression$s_);
    {
      SNodeBuilder n1 = n0.forChild(LINKS.targetType$3smx).init(CONCEPTS.PointerType$HX);
      n1.forChild(LINKS.baseType$zMGV).initNode(p0, CONCEPTS.IType$a9, true);
    }
    n0.forChild(LINKS.expr$3lz4).initNode(p1, CONCEPTS.Expression$bT, true);
    return n0.getResult();
  }
  private static SNode createExpressionStatement_pgixuz_a0a2a0a0c0l(SNode p0, SNode p1) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.ExpressionStatement$SU);
    {
      SNodeBuilder n1 = n0.forChild(LINKS.expr$vamr).init(CONCEPTS.GenericDotExpression$uQ);
      n1.forChild(LINKS.expression$PfNq).initNode(p0, CONCEPTS.Expression$bT, true);
      n1.forChild(LINKS.target$CEPF).initNode(p1, CONCEPTS.IGenericDotTarget$qj, true);
    }
    return n0.getResult();
  }

  private static final class LINKS {
    /*package*/ static final SContainmentLink message$wcP_ = MetaAdapterFactory.getContainmentLink(0xbb0ad88b63cd45fdL, 0xae278662d274cf3cL, 0x3f5fa3b030899507L, 0x3f5fa3b030899571L, "message");
    /*package*/ static final SReferenceLink struct$WCsg = MetaAdapterFactory.getReferenceLink(0xefda956e491e4f00L, 0xba1436af2f213ecfL, 0x58bef62304fc0a38L, 0x58bef62304fc0a39L, "struct");
    /*package*/ static final SContainmentLink baseType$zMGV = MetaAdapterFactory.getContainmentLink(0xa9d696470840491eL, 0xbf392eb0805d2011L, 0x6bbcdccef5e46755L, 0x6bbcdccef5e46756L, "baseType");
    /*package*/ static final SContainmentLink expression$PfNq = MetaAdapterFactory.getContainmentLink(0x61c69711ed614850L, 0x81d97714ff227fb0L, 0x29b5b7c4a3763232L, 0x64ae61a4018a9c50L, "expression");
    /*package*/ static final SContainmentLink statements$euTV = MetaAdapterFactory.getContainmentLink(0xa9d696470840491eL, 0xbf392eb0805d2011L, 0x3a16e3a9c7ad9955L, 0x3a16e3a9c7ad9956L, "statements");
    /*package*/ static final SContainmentLink type$sXU3 = MetaAdapterFactory.getContainmentLink(0x61c69711ed614850L, 0x81d97714ff227fb0L, 0x46a2a92ac61b183L, 0x46a2a92ac61b184L, "type");
    /*package*/ static final SContainmentLink expr$Ewny = MetaAdapterFactory.getContainmentLink(0xbb0ad88b63cd45fdL, 0xae278662d274cf3cL, 0x1c55392e7465f09aL, 0x1c55392e746671a7L, "expr");
    /*package*/ static final SContainmentLink valueType$2o7e = MetaAdapterFactory.getContainmentLink(0x61c69711ed614850L, 0x81d97714ff227fb0L, 0xa526fcd7806eb53L, 0x65d0a4755f54174cL, "valueType");
    /*package*/ static final SContainmentLink message$6qrw = MetaAdapterFactory.getContainmentLink(0xbb0ad88b63cd45fdL, 0xae278662d274cf3cL, 0x3f5fa3b0308e5c4eL, 0x3f5fa3b0308e5c50L, "message");
    /*package*/ static final SContainmentLink sizeExpr$hVlA = MetaAdapterFactory.getContainmentLink(0x3bf5377ae9044dedL, 0x97545a516023bfaaL, 0x4ee1acbf0c8d52c9L, 0x4ee1acbf0c8d52ceL, "sizeExpr");
    /*package*/ static final SContainmentLink length$k4Z = MetaAdapterFactory.getContainmentLink(0xbb0ad88b63cd45fdL, 0xae278662d274cf3cL, 0x297dbd78f1624561L, 0x297dbd78f1624562L, "length");
    /*package*/ static final SContainmentLink expr$vamr = MetaAdapterFactory.getContainmentLink(0xa9d696470840491eL, 0xbf392eb0805d2011L, 0x64ae61a4018a8592L, 0x64ae61a4018a8593L, "expr");
    /*package*/ static final SContainmentLink target$CEPF = MetaAdapterFactory.getContainmentLink(0x61c69711ed614850L, 0x81d97714ff227fb0L, 0x401df715da462c0cL, 0x619e8ce80b7ff48bL, "target");
    /*package*/ static final SReferenceLink member$wUNL = MetaAdapterFactory.getReferenceLink(0xefda956e491e4f00L, 0xba1436af2f213ecfL, 0x619e8ce80b8d18e4L, 0x619e8ce80b8d18e6L, "member");
    /*package*/ static final SReferenceLink var$YUyC = MetaAdapterFactory.getReferenceLink(0xa9d696470840491eL, 0xbf392eb0805d2011L, 0x1d0c3765e2e1d67aL, 0x1d0c3765e2e1fe27L, "var");
    /*package*/ static final SContainmentLink left$SkXz = MetaAdapterFactory.getContainmentLink(0x61c69711ed614850L, 0x81d97714ff227fb0L, 0x7af69e2e83a1ba34L, 0x7af69e2e83a1ba40L, "left");
    /*package*/ static final SContainmentLink right$Slc$ = MetaAdapterFactory.getContainmentLink(0x61c69711ed614850L, 0x81d97714ff227fb0L, 0x7af69e2e83a1ba34L, 0x7af69e2e83a1ba41L, "right");
    /*package*/ static final SContainmentLink targetType$3smx = MetaAdapterFactory.getContainmentLink(0x61c69711ed614850L, 0x81d97714ff227fb0L, 0x5bbe8a6d239d0b54L, 0x5bbe8a6d239d0b5eL, "targetType");
    /*package*/ static final SContainmentLink expr$3lz4 = MetaAdapterFactory.getContainmentLink(0x61c69711ed614850L, 0x81d97714ff227fb0L, 0x5bbe8a6d239d0b54L, 0x5bbe8a6d239d0b56L, "expr");
  }

  private static final class CONCEPTS {
    /*package*/ static final SConcept StructType$B3 = MetaAdapterFactory.getConcept(0xefda956e491e4f00L, 0xba1436af2f213ecfL, 0x58bef62304fc0a38L, "com.mbeddr.core.udt.structure.StructType");
    /*package*/ static final SConcept StructDeclaration$ox = MetaAdapterFactory.getConcept(0xefda956e491e4f00L, 0xba1436af2f213ecfL, 0x58bef62304fc0a2fL, "com.mbeddr.core.udt.structure.StructDeclaration");
    /*package*/ static final SConcept PointerType$HX = MetaAdapterFactory.getConcept(0x3bf5377ae9044dedL, 0x97545a516023bfaaL, 0x3e0cae5e366d630L, "com.mbeddr.core.pointers.structure.PointerType");
    /*package*/ static final SConcept GenericDotExpression$uQ = MetaAdapterFactory.getConcept(0x61c69711ed614850L, 0x81d97714ff227fb0L, 0x401df715da462c0cL, "com.mbeddr.core.expressions.structure.GenericDotExpression");
    /*package*/ static final SInterfaceConcept ITypeDecorator$9x = MetaAdapterFactory.getInterfaceConcept(0x61c69711ed614850L, 0x81d97714ff227fb0L, 0xa526fcd7806eb53L, "com.mbeddr.core.expressions.structure.ITypeDecorator");
    /*package*/ static final SConcept UnsignedInt8tType$n3 = MetaAdapterFactory.getConcept(0x61c69711ed614850L, 0x81d97714ff227fb0L, 0x75739ed9f39e389dL, "com.mbeddr.core.expressions.structure.UnsignedInt8tType");
    /*package*/ static final SConcept UnsignedInt16tType$pu = MetaAdapterFactory.getConcept(0x61c69711ed614850L, 0x81d97714ff227fb0L, 0x75739ed9f39e38a2L, "com.mbeddr.core.expressions.structure.UnsignedInt16tType");
    /*package*/ static final SConcept UnsignedInt32tType$7z = MetaAdapterFactory.getConcept(0x61c69711ed614850L, 0x81d97714ff227fb0L, 0x75739ed9f39e3892L, "com.mbeddr.core.expressions.structure.UnsignedInt32tType");
    /*package*/ static final SConcept UnsignedInt64tType$at = MetaAdapterFactory.getConcept(0x61c69711ed614850L, 0x81d97714ff227fb0L, 0x75739ed9f39e3898L, "com.mbeddr.core.expressions.structure.UnsignedInt64tType");
    /*package*/ static final SConcept Int8tType$tq = MetaAdapterFactory.getConcept(0x61c69711ed614850L, 0x81d97714ff227fb0L, 0x75739ed9f39e387aL, "com.mbeddr.core.expressions.structure.Int8tType");
    /*package*/ static final SConcept Int16tType$FW = MetaAdapterFactory.getConcept(0x61c69711ed614850L, 0x81d97714ff227fb0L, 0x75739ed9f39e3883L, "com.mbeddr.core.expressions.structure.Int16tType");
    /*package*/ static final SConcept Int32tType$Sy = MetaAdapterFactory.getConcept(0x61c69711ed614850L, 0x81d97714ff227fb0L, 0x75739ed9f39e3888L, "com.mbeddr.core.expressions.structure.Int32tType");
    /*package*/ static final SConcept Int64tType$UX = MetaAdapterFactory.getConcept(0x61c69711ed614850L, 0x81d97714ff227fb0L, 0x75739ed9f39e388dL, "com.mbeddr.core.expressions.structure.Int64tType");
    /*package*/ static final SConcept BooleanType$fL = MetaAdapterFactory.getConcept(0x61c69711ed614850L, 0x81d97714ff227fb0L, 0x7af69e2e83a1ba3aL, "com.mbeddr.core.expressions.structure.BooleanType");
    /*package*/ static final SConcept FloatType$6s = MetaAdapterFactory.getConcept(0x61c69711ed614850L, 0x81d97714ff227fb0L, 0x41c7cca6a7ab279fL, "com.mbeddr.core.expressions.structure.FloatType");
    /*package*/ static final SConcept DoubleType$Lm = MetaAdapterFactory.getConcept(0x61c69711ed614850L, 0x81d97714ff227fb0L, 0x7b064baaf4444619L, "com.mbeddr.core.expressions.structure.DoubleType");
    /*package*/ static final SConcept StringArrayType$DF = MetaAdapterFactory.getConcept(0x3bf5377ae9044dedL, 0x97545a516023bfaaL, 0x4ee1acbf0c8d52c9L, "com.mbeddr.core.pointers.structure.StringArrayType");
    /*package*/ static final SConcept ReadStringArray$YW = MetaAdapterFactory.getConcept(0xbb0ad88b63cd45fdL, 0xae278662d274cf3cL, 0x297dbd78f1624561L, "com.mbeddr.ext.serialization.structure.ReadStringArray");
    /*package*/ static final SConcept EnumType$MR = MetaAdapterFactory.getConcept(0xefda956e491e4f00L, 0xba1436af2f213ecfL, 0x7a4924c71c1b4045L, "com.mbeddr.core.udt.structure.EnumType");
    /*package*/ static final SConcept StatementList$y1 = MetaAdapterFactory.getConcept(0xa9d696470840491eL, 0xbf392eb0805d2011L, 0x3a16e3a9c7ad9955L, "com.mbeddr.core.statements.structure.StatementList");
    /*package*/ static final SConcept ParensExpression$Ng = MetaAdapterFactory.getConcept(0x61c69711ed614850L, 0x81d97714ff227fb0L, 0x4ffba68fe82dd4c7L, "com.mbeddr.core.expressions.structure.ParensExpression");
    /*package*/ static final SConcept Expression$bT = MetaAdapterFactory.getConcept(0x61c69711ed614850L, 0x81d97714ff227fb0L, 0x7af69e2e83a1ba32L, "com.mbeddr.core.expressions.structure.Expression");
    /*package*/ static final SConcept ExpressionStatement$SU = MetaAdapterFactory.getConcept(0xa9d696470840491eL, 0xbf392eb0805d2011L, 0x64ae61a4018a8592L, "com.mbeddr.core.statements.structure.ExpressionStatement");
    /*package*/ static final SConcept WriteArrayMarker$Lz = MetaAdapterFactory.getConcept(0xbb0ad88b63cd45fdL, 0xae278662d274cf3cL, 0x1c55392e75bb2c2cL, "com.mbeddr.ext.serialization.structure.WriteArrayMarker");
    /*package*/ static final SConcept NumberLiteral$jK = MetaAdapterFactory.getConcept(0x61c69711ed614850L, 0x81d97714ff227fb0L, 0x7af69e2e83a1ba67L, "com.mbeddr.core.expressions.structure.NumberLiteral");
    /*package*/ static final SConcept GenericMemberRef$bk = MetaAdapterFactory.getConcept(0xefda956e491e4f00L, 0xba1436af2f213ecfL, 0x619e8ce80b8d18e4L, "com.mbeddr.core.udt.structure.GenericMemberRef");
    /*package*/ static final SInterfaceConcept IGenericDotTarget$qj = MetaAdapterFactory.getInterfaceConcept(0x61c69711ed614850L, 0x81d97714ff227fb0L, 0x401df715da47d321L, "com.mbeddr.core.expressions.structure.IGenericDotTarget");
    /*package*/ static final SConcept LocalVariableDeclaration$ft = MetaAdapterFactory.getConcept(0xa9d696470840491eL, 0xbf392eb0805d2011L, 0x3a16e3a9c7ad96e6L, "com.mbeddr.core.statements.structure.LocalVariableDeclaration");
    /*package*/ static final SConcept ReadArrayMarker$P$ = MetaAdapterFactory.getConcept(0xbb0ad88b63cd45fdL, 0xae278662d274cf3cL, 0x297dbd78f1624559L, "com.mbeddr.ext.serialization.structure.ReadArrayMarker");
    /*package*/ static final SConcept ReferenceExpr$Gw = MetaAdapterFactory.getConcept(0x3bf5377ae9044dedL, 0x97545a516023bfaaL, 0x16258e86289cf6bdL, "com.mbeddr.core.pointers.structure.ReferenceExpr");
    /*package*/ static final SConcept LocalVarRef$VQ = MetaAdapterFactory.getConcept(0xa9d696470840491eL, 0xbf392eb0805d2011L, 0x1d0c3765e2e1d67aL, "com.mbeddr.core.statements.structure.LocalVarRef");
    /*package*/ static final SConcept AssignmentExpr$mZ = MetaAdapterFactory.getConcept(0x61c69711ed614850L, 0x81d97714ff227fb0L, 0x4e85add925440dL, "com.mbeddr.core.expressions.structure.AssignmentExpr");
    /*package*/ static final SConcept PlusExpression$If = MetaAdapterFactory.getConcept(0x61c69711ed614850L, 0x81d97714ff227fb0L, 0x4ffba68fe82b6215L, "com.mbeddr.core.expressions.structure.PlusExpression");
    /*package*/ static final SConcept CastExpression$s_ = MetaAdapterFactory.getConcept(0x61c69711ed614850L, 0x81d97714ff227fb0L, 0x5bbe8a6d239d0b54L, "com.mbeddr.core.expressions.structure.CastExpression");
    /*package*/ static final SInterfaceConcept IType$a9 = MetaAdapterFactory.getInterfaceConcept(0xceab519525ea4f22L, 0x9b92103b95ca8c0cL, 0x11f8a0774f2L, "jetbrains.mps.lang.core.structure.IType");
  }

  private static final class PROPS {
    /*package*/ static final SProperty isInvisible$H923 = MetaAdapterFactory.getProperty(0xa9d696470840491eL, 0xbf392eb0805d2011L, 0x3a16e3a9c7ad9955L, 0x4070c9f3cc412fc1L, "isInvisible");
    /*package*/ static final SProperty value$qZmE = MetaAdapterFactory.getProperty(0x61c69711ed614850L, 0x81d97714ff227fb0L, 0x1eb611a68febd3e5L, 0x1eb611a68fec38b0L, "value");
    /*package*/ static final SProperty name$MnvL = MetaAdapterFactory.getProperty(0xceab519525ea4f22L, 0x9b92103b95ca8c0cL, 0x110396eaaa4L, 0x110396ec041L, "name");
  }
}
