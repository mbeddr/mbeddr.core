package com.mbeddr.cc.var.annotations.typesystem;

/*Generated by MPS */

import jetbrains.mps.errors.QuickFix_Runtime;
import jetbrains.mps.smodel.SNodePointer;
import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import com.mbeddr.cc.var.annotations.behavior.PresenceCondition__BehaviorDescriptor;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.IAttributeDescriptor;
import org.jetbrains.mps.openapi.language.SConcept;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;

public class findValidParentForPC_QuickFix extends QuickFix_Runtime {
  public findValidParentForPC_QuickFix() {
    super(new SNodePointer("r:b6c2ea2b-94d4-4291-9ab5-6b0b10da5dd6(com.mbeddr.cc.var.annotations.typesystem)", "439567521322867745"));
  }
  public String getDescription(SNode node) {
    return "Pull PC up to valid parent";
  }
  public void execute(SNode node) {
    SNode current = SNodeOperations.getParent(((SNode) findValidParentForPC_QuickFix.this.getField("pc")[0]));
    SNode target = PresenceCondition__BehaviorDescriptor.findValidParent_idopE5jFfTyN.invoke(SNodeOperations.asSConcept(CONCEPTS.PresenceCondition$1o), current);
    if (target != null) {
      new IAttributeDescriptor.NodeAttribute(CONCEPTS.VisibilityControllingAttribute$UF).set(target, new IAttributeDescriptor.NodeAttribute(CONCEPTS.VisibilityControllingAttribute$UF).get(current));
    }
  }

  private static final class CONCEPTS {
    /*package*/ static final SConcept PresenceCondition$1o = MetaAdapterFactory.getConcept(0x17fba0eaf154a23L, 0xb0a802b5c1141e75L, 0x92cd87784510973L, "com.mbeddr.cc.var.annotations.structure.PresenceCondition");
    /*package*/ static final SConcept VisibilityControllingAttribute$UF = MetaAdapterFactory.getConcept(0xd4280a54f6df4383L, 0xaa41d1b2bffa7eb1L, 0x52b33753b30b563eL, "com.mbeddr.core.base.structure.VisibilityControllingAttribute");
  }
}
