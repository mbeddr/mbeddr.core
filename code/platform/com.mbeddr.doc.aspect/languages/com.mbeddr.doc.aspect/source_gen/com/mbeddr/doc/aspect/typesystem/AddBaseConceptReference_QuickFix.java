package com.mbeddr.doc.aspect.typesystem;

/*Generated by MPS */

import jetbrains.mps.errors.QuickFix_Runtime;
import jetbrains.mps.smodel.SNodePointer;
import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import org.jetbrains.mps.openapi.language.SAbstractConcept;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.IAttributeDescriptor;
import org.jetbrains.mps.openapi.persistence.PersistenceFacade;
import jetbrains.mps.smodel.builder.SNodeBuilder;
import org.jetbrains.mps.openapi.language.SConcept;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import org.jetbrains.mps.openapi.language.SInterfaceConcept;
import org.jetbrains.mps.openapi.language.SContainmentLink;
import org.jetbrains.mps.openapi.language.SReferenceLink;
import org.jetbrains.mps.openapi.language.SProperty;

public class AddBaseConceptReference_QuickFix extends QuickFix_Runtime {
  public AddBaseConceptReference_QuickFix() {
    super(new SNodePointer("r:5053073c-1ee1-4bc2-890d-78c0870203cd(com.mbeddr.doc.aspect.typesystem)", "3073614576442856638"));
  }
  public String getDescription(SNode node) {
    return "Add an example reference to base concept";
  }
  public void execute(SNode node) {
    SNode section = ListSequence.fromList(SNodeOperations.getNodeDescendants(((SNode) AddBaseConceptReference_QuickFix.this.getField("document")[0]), CONCEPTS.Section$pO, false, new SAbstractConcept[]{})).first();
    SNode annotation = createDocumentedConceptAnnotation_hubpuh_a0b0c();
    if ((section == null)) {
      section = createSection_hubpuh_a0a0c0c();
      ListSequence.fromList(SLinkOperations.getChildren(((SNode) AddBaseConceptReference_QuickFix.this.getField("document")[0]), LINKS.contents$e7kB)).addElement(createChapter_hubpuh_a0a1a2a2(section));
    }
    ListSequence.fromList(new IAttributeDescriptor.NodeAttribute(CONCEPTS.DocumentedConceptAnnotation$KS).list(section)).addElement(annotation);
  }
  private static SNode createDocumentedConceptAnnotation_hubpuh_a0b0c() {
    PersistenceFacade facade = PersistenceFacade.getInstance();
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.DocumentedConceptAnnotation$KS);
    n0.setReference(LINKS.concept$eE0d, new SNodePointer(facade.createModelReference("r:00000000-0000-4000-0000-011c89590288(jetbrains.mps.lang.core.structure)"), facade.createNodeId("1133920641626")));
    return n0.getResult();
  }
  private static SNode createSection_hubpuh_a0a0c0c() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.Section$pO);
    n0.setProperty(PROPS.name$MnvL, "Section");
    return n0.getResult();
  }
  private static SNode createChapter_hubpuh_a0a1a2a2(SNode p0) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.Chapter$x0);
    n0.setProperty(PROPS.name$MnvL, "Chapter");
    {
      SNodeBuilder n1 = n0.forChild(LINKS.contents$e7kB).initNode(p0, CONCEPTS.IDocumentContent$hi, false);
    }
    return n0.getResult();
  }

  private static final class CONCEPTS {
    /*package*/ static final SConcept Section$pO = MetaAdapterFactory.getConcept(0x2374bc907e3741f1L, 0xa9c4c2e35194c36aL, 0x2e7fd03a4b7c6cc7L, "com.mbeddr.doc.structure.Section");
    /*package*/ static final SConcept DocumentedConceptAnnotation$KS = MetaAdapterFactory.getConcept(0x38a074ede5ad4b2dL, 0xbe31ca436911b8aaL, 0xeb09589d997ab9eL, "com.mbeddr.doc.aspect.structure.DocumentedConceptAnnotation");
    /*package*/ static final SConcept Chapter$x0 = MetaAdapterFactory.getConcept(0x2374bc907e3741f1L, 0xa9c4c2e35194c36aL, 0x3a66aa886c197daaL, "com.mbeddr.doc.structure.Chapter");
    /*package*/ static final SInterfaceConcept IDocumentContent$hi = MetaAdapterFactory.getInterfaceConcept(0x2374bc907e3741f1L, 0xa9c4c2e35194c36aL, 0x2e7fd03a4b7a1835L, "com.mbeddr.doc.structure.IDocumentContent");
  }

  private static final class LINKS {
    /*package*/ static final SContainmentLink contents$e7kB = MetaAdapterFactory.getContainmentLink(0x2374bc907e3741f1L, 0xa9c4c2e35194c36aL, 0x2e7fd03a4b7c6bf9L, 0x2e7fd03a4b7c6bfaL, "contents");
    /*package*/ static final SReferenceLink concept$eE0d = MetaAdapterFactory.getReferenceLink(0x38a074ede5ad4b2dL, 0xbe31ca436911b8aaL, 0xeb09589d997ab9eL, 0xeb09589d9984aacL, "concept");
  }

  private static final class PROPS {
    /*package*/ static final SProperty name$MnvL = MetaAdapterFactory.getProperty(0xceab519525ea4f22L, 0x9b92103b95ca8c0cL, 0x110396eaaa4L, 0x110396ec041L, "name");
  }
}
