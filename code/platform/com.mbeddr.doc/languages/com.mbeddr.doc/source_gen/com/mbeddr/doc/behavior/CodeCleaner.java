package com.mbeddr.doc.behavior;

/*Generated by MPS */


public class CodeCleaner {
  public static String cleaupCodeString(String code) {
    StringBuilder res = new StringBuilder();
    String[] lines = code.split("\\r?\\n");
    boolean atBeginning = true;
    for (String l : lines) {
      if (isEmptyString(((l == null ? null : l.trim()))) && atBeginning) {
        continue;
      }
      atBeginning = false;
      // remove the closing texts after }
      String replaced = l.replaceAll("( *)\\}.*", "$1\\}") + "\n";
      res.append(replaced);
    }
    return res.toString();
  }
  private static boolean isEmptyString(String str) {
    return str == null || str.isEmpty();
  }
}
