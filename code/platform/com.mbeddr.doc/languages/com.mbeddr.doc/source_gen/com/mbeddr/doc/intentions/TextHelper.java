package com.mbeddr.doc.intentions;

/*Generated by MPS */

import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.internal.collections.runtime.Sequence;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import de.slisson.mps.richtext.behavior.IWord__BehaviorDescriptor;
import de.slisson.mps.richtext.behavior.Word__BehaviorDescriptor;
import org.jetbrains.mps.openapi.language.SContainmentLink;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import org.jetbrains.mps.openapi.language.SConcept;

public class TextHelper {

  public static void reflow(SNode text) {
    Sequence.fromIterable(SNodeOperations.ofConcept(SLinkOperations.getChildren(text, LINKS.words$C8QZ), CONCEPTS.Word$5r)).where((it) -> IWord__BehaviorDescriptor.toTextString_id3Q5enzfMT4t.invoke(it).contains("\n")).visitAll((it) -> {
      String t = Word__BehaviorDescriptor.getText_idehGfXvI_DB.invoke(it);
      t = t.replaceAll("\n", " ");
      Word__BehaviorDescriptor.setText_id1JwC6U7zkKz.invoke(it, t);
    });
  }

  private static final class LINKS {
    /*package*/ static final SContainmentLink words$C8QZ = MetaAdapterFactory.getContainmentLink(0x92d2ea165a424fdfL, 0xa676c7604efe3504L, 0x237c8da86a9e4e61L, 0x237c8da86a9e7aeeL, "words");
  }

  private static final class CONCEPTS {
    /*package*/ static final SConcept Word$5r = MetaAdapterFactory.getConcept(0x92d2ea165a424fdfL, 0xa676c7604efe3504L, 0x237c8da86a9f2e0cL, "de.slisson.mps.richtext.structure.Word");
  }
}
