package com.mbeddr.mpsutil.incrementalcomputation.runtime;

/*Generated by MPS */

import org.jetbrains.mps.openapi.model.SNode;

/**
 * This class is used to inform the propagation framework about the effect resulting from a model change.
 * Users may return 'null' instead an instance of this class which means 'no effect'.
 * Possible effects are:
 *   - 'Value': the value of affected nodes (IPropagationParticipant) has changed.
 *     In this case, the framework invalidates the cached value in the notified node and in all propagation targets.
 *   - 'ValueAndDependencies': the value and/or propagation sources of affected nodes (IPropagationParticipant) have changed.
 *     In this case, the framework invalidates the cached value and updates the dependency information in the notified
 *     node and in all propagation targets.
 * 
 * In some cases, it will be necessary to inform the framework about additional nodes that must be invalidated (e.g. for backwards-
 * propagation: adding a reference might result in additional propagation targets that are not yet known to the framework).
 * For this purpuse the two-parameter constructor is available. All nodes provided in the second parameter (as well as their
 * propagation targets) will also be invalidated by the framework.
 */
public class ChangeEffect {
  private final Iterable<SNode> _invalidationHint;
  private final EChangeEffectKind _kind;

  public ChangeEffect(EChangeEffectKind kind) {
    this(kind, null);
  }

  public ChangeEffect(EChangeEffectKind kind, Iterable<SNode> invalidationHint) {
    _invalidationHint = invalidationHint;
    _kind = kind;
  }

  public EChangeEffectKind getKind() {
    return _kind;
  }

  public Iterable<SNode> getInvalidationHint() {
    return _invalidationHint;
  }

}
