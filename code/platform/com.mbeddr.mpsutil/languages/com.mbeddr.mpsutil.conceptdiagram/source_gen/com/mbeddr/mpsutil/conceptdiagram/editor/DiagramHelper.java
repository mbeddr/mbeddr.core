package com.mbeddr.mpsutil.conceptdiagram.editor;

/*Generated by MPS */

import org.jetbrains.mps.openapi.model.SNode;
import java.util.Set;
import jetbrains.mps.internal.collections.runtime.SetSequence;
import java.util.LinkedHashSet;
import jetbrains.mps.internal.collections.runtime.Sequence;
import jetbrains.mps.lang.structure.behavior.AbstractConceptDeclaration__BehaviorDescriptor;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import java.util.Objects;
import org.jetbrains.mps.openapi.language.SContainmentLink;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import org.jetbrains.mps.openapi.language.SReferenceLink;

public class DiagramHelper {
  public static Iterable<SNode> collectAllSupersIncludingSelf(SNode thisNode) {
    Set<SNode> result = SetSequence.fromSet(new LinkedHashSet<SNode>());
    SetSequence.fromSet(result).addElement(thisNode);
    SetSequence.fromSet(result).addSequence(Sequence.fromIterable(AbstractConceptDeclaration__BehaviorDescriptor.getAllSuperConcepts_id2A8AB0rAWpG.invoke(thisNode, ((boolean) false))));
    SetSequence.fromSet(result).addSequence(Sequence.fromIterable(SLinkOperations.collect(SLinkOperations.collectMany(AbstractConceptDeclaration__BehaviorDescriptor.getAllSuperConcepts_id2A8AB0rAWpG.invoke(thisNode, ((boolean) true)), LINKS.linkDeclaration$YU1f), LINKS.target$m40F)));
    return result;
  }

  public static Iterable<SNode> collectAllIncomingLinks(final SNode node, SNode conceptDiagram) {
    return Sequence.fromIterable(SLinkOperations.collectMany(SLinkOperations.collect(SLinkOperations.getChildren(conceptDiagram, LINKS.contents$BgwK), LINKS.concept$p3Wi), LINKS.linkDeclaration$YU1f)).where((it) -> Objects.equals(SLinkOperations.getTarget(it, LINKS.target$m40F), node));
  }

  private static final class LINKS {
    /*package*/ static final SContainmentLink linkDeclaration$YU1f = MetaAdapterFactory.getContainmentLink(0xc72da2b97cce4447L, 0x8389f407dc1158b7L, 0x1103553c5ffL, 0xf979c3ba6bL, "linkDeclaration");
    /*package*/ static final SReferenceLink target$m40F = MetaAdapterFactory.getReferenceLink(0xc72da2b97cce4447L, 0x8389f407dc1158b7L, 0xf979bd086aL, 0xf98055fef0L, "target");
    /*package*/ static final SContainmentLink contents$BgwK = MetaAdapterFactory.getContainmentLink(0x9d1cb9f82ae04895L, 0x91c8ff32e8afc27dL, 0x2490cbe4d990691aL, 0x2490cbe4d996c41cL, "contents");
    /*package*/ static final SReferenceLink concept$p3Wi = MetaAdapterFactory.getReferenceLink(0x9d1cb9f82ae04895L, 0x91c8ff32e8afc27dL, 0x2490cbe4d9d63687L, 0x2490cbe4d9d63688L, "concept");
  }
}
