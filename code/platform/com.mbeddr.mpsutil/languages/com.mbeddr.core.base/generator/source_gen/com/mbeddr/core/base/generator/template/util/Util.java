package com.mbeddr.core.base.generator.template.util;

/*Generated by MPS */

import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.internal.collections.runtime.Sequence;
import com.mbeddr.core.base.behavior.Chunk__BehaviorDescriptor;
import com.mbeddr.core.base.behavior.IChunkDependency__BehaviorDescriptor;

public class Util {

  public static void handleImports(SNode implChunk) {
    for (SNode dep : Sequence.fromIterable(Chunk__BehaviorDescriptor.dependencies_id6clJcrJYPM5.invoke(implChunk)).where((it) -> !((boolean) Chunk__BehaviorDescriptor.isImplementationArtifact_id7Vd878ENIh6.invoke(IChunkDependency__BehaviorDescriptor.chunk_id6clJcrJZN1z.invoke(it))))) {
      SNode c = IChunkDependency__BehaviorDescriptor.chunk_id6clJcrJZN1z.invoke(dep);
      for (SNode reexp : Sequence.fromIterable(Chunk__BehaviorDescriptor.dependencies_id6clJcrJYPM5.invoke(c)).where((it) -> (boolean) IChunkDependency__BehaviorDescriptor.isReexported_id6clJcrKt_a0.invoke(it))) {
        handleImports(IChunkDependency__BehaviorDescriptor.chunk_id6clJcrJZN1z.invoke(reexp));
      }
      for (SNode cd : Sequence.fromIterable(Chunk__BehaviorDescriptor.dependencies_id6clJcrJYPM5.invoke(c))) {
        Chunk__BehaviorDescriptor.addGenericDependecyTo_id94IdDKwP70.invoke(c, IChunkDependency__BehaviorDescriptor.chunk_id6clJcrJZN1z.invoke(cd));
      }
    }
    for (SNode dep : Sequence.fromIterable(Chunk__BehaviorDescriptor.dependencies_id6clJcrJYPM5.invoke(implChunk)).where((it) -> !((boolean) Chunk__BehaviorDescriptor.isImplementationArtifact_id7Vd878ENIh6.invoke(IChunkDependency__BehaviorDescriptor.chunk_id6clJcrJZN1z.invoke(it))))) {
      Iterable<SNode> seq = Sequence.fromIterable(Chunk__BehaviorDescriptor.dependencies_id6clJcrJYPM5.invoke(IChunkDependency__BehaviorDescriptor.chunk_id6clJcrJZN1z.invoke(dep))).where((it) -> (boolean) Chunk__BehaviorDescriptor.isImplementationArtifact_id7Vd878ENIh6.invoke(IChunkDependency__BehaviorDescriptor.chunk_id6clJcrJZN1z.invoke(it)));
      for (SNode s : Sequence.fromIterable(seq)) {
        Chunk__BehaviorDescriptor.addGenericDependecyTo_id94IdDKwP70.invoke(implChunk, IChunkDependency__BehaviorDescriptor.chunk_id6clJcrJZN1z.invoke(s));
      }
    }
  }

}
