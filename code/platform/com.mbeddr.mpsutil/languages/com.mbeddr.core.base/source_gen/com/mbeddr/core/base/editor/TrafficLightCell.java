package com.mbeddr.core.base.editor;

/*Generated by MPS */

import jetbrains.mps.nodeEditor.AbstractCellProvider;
import java.awt.Color;
import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.nodeEditor.cells.EditorCell;
import jetbrains.mps.openapi.editor.EditorContext;
import jetbrains.mps.nodeEditor.cells.EditorCell_Basic;
import java.awt.Graphics;
import jetbrains.mps.nodeEditor.cells.ParentSettings;
import jetbrains.mps.nodeEditor.cells.EditorCell_Collection;

public class TrafficLightCell extends AbstractCellProvider {
  private static Color RED = new Color(245, 157, 157);
  private static Color YELLOW = new Color(245, 200, 78);
  private static Color GREEN = new Color(142, 250, 151);
  private TrafficLightColor color;
  private int padding;
  public TrafficLightCell(SNode node, TrafficLightColor color, int padding) {
    super(node);
    this.color = color;
    this.padding = padding;
  }
  public EditorCell createEditorCell(EditorContext context) {
    EditorCell_Basic result = new EditorCell_Basic(context, getSNode()) {
      public void paintContent(Graphics g, ParentSettings parentSettings) {
        EditorCell_Collection parent = this.getParent();
        int x = getX();
        int y = parent.getY();
        int height = parent.getHeight();
        int radius = height - 2 * padding;

        switch (color) {
          case green:
            g.setColor(GREEN);
            break;
          case yellow:
            g.setColor(YELLOW);
            break;
          case red:
            g.setColor(RED);
            break;
          default:
        }

        g.fillOval(x + padding, y + padding, radius, radius);


        g.setColor(Color.black);
        g.drawOval(x + padding, y + padding, radius, radius);


      }
      public void relayoutImpl() {
        EditorCell_Collection parent = this.getParent();
        this.myWidth = parent.getHeight();
        this.myHeight = 10;
      }
      @Override
      public boolean isSelectable() {
        return false;
      }
    };

    return result;
  }
}
