package com.mbeddr.core.base.typesystem;

/*Generated by MPS */

import jetbrains.mps.lang.typesystem.runtime.AbstractNonTypesystemRule_Runtime;
import jetbrains.mps.lang.typesystem.runtime.NonTypesystemRule_Runtime;
import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.typesystem.inference.TypeCheckingContext;
import jetbrains.mps.lang.typesystem.runtime.IsApplicableStatus;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import com.mbeddr.core.base.behavior.IControlledNamedConcept__BehaviorDescriptor;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import jetbrains.mps.errors.messageTargets.MessageTarget;
import jetbrains.mps.errors.messageTargets.NodeMessageTarget;
import jetbrains.mps.errors.IErrorReporter;
import com.mbeddr.core.base.behavior.IIdentifierNamedConcept__BehaviorDescriptor;
import org.jetbrains.mps.openapi.language.SAbstractConcept;
import org.jetbrains.mps.openapi.language.SInterfaceConcept;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import org.jetbrains.mps.openapi.language.SConcept;
import org.jetbrains.mps.openapi.language.SContainmentLink;

public class check_ControlledNameAttr_NonTypesystemRule extends AbstractNonTypesystemRule_Runtime implements NonTypesystemRule_Runtime {
  public check_ControlledNameAttr_NonTypesystemRule() {
  }
  public void applyRule(final SNode cna, final TypeCheckingContext typeCheckingContext, IsApplicableStatus status) {
    SNode p = SNodeOperations.cast(SNodeOperations.getParent(cna), CONCEPTS.IControlledNamedConcept$mF);
    if ((boolean) IControlledNamedConcept__BehaviorDescriptor.requiresSuffix_id2tP2JaaUk87.invoke(p) && SLinkOperations.getTarget(cna, LINKS.suffix$6Vre) == null) {
      {
        final MessageTarget errorTarget = new NodeMessageTarget();
        IErrorReporter _reporter_2309309498 = typeCheckingContext.reportTypeError(cna, "this concept (" + IIdentifierNamedConcept__BehaviorDescriptor.conceptLabel_id4JF77iuWC$q.invoke(p) + ") requires a suffix", "r:1b0f275e-bd62-4f6e-8c4b-51b05d651a63(com.mbeddr.core.base.typesystem)", "2843190776583285054", null, errorTarget);
      }
    }
  }
  public SAbstractConcept getApplicableConcept() {
    return CONCEPTS.ControlledNameAttribute$K2;
  }
  public IsApplicableStatus isApplicableAndPattern(SNode argument) {
    return new IsApplicableStatus(argument.getConcept().isSubConceptOf(getApplicableConcept()), null);
  }
  public boolean overrides() {
    return false;
  }

  private static final class CONCEPTS {
    /*package*/ static final SInterfaceConcept IControlledNamedConcept$mF = MetaAdapterFactory.getInterfaceConcept(0xd4280a54f6df4383L, 0xaa41d1b2bffa7eb1L, 0x2b2ef3be77b48f18L, "com.mbeddr.core.base.structure.IControlledNamedConcept");
    /*package*/ static final SConcept ControlledNameAttribute$K2 = MetaAdapterFactory.getConcept(0xd4280a54f6df4383L, 0xaa41d1b2bffa7eb1L, 0x2b2ef3be77b50cf1L, "com.mbeddr.core.base.structure.ControlledNameAttribute");
  }

  private static final class LINKS {
    /*package*/ static final SContainmentLink suffix$6Vre = MetaAdapterFactory.getContainmentLink(0xd4280a54f6df4383L, 0xaa41d1b2bffa7eb1L, 0x2b2ef3be77b50cf1L, 0x27750af28aa99778L, "suffix");
  }
}
