package com.mbeddr.core.base.behavior;

/*Generated by MPS */

import java.text.DateFormat;
import java.util.Date;

public class TimeHelper {
  private static final long SECONDS = 1000;
  private static final long MINUTES = 60 * SECONDS;
  private static final long HOURS = 60 * MINUTES;
  private static final long DAYS = 24 * HOURS;
  private static final long WEEKS = 7 * DAYS;
  private static final long MONTHS = 30 * DAYS;

  public static String asDateString(long timeMillis) {
    return DateFormat.getDateInstance().format(new Date(Long.valueOf(timeMillis)));
  }

  public static String asTimeString(long timeMillis) {
    return DateFormat.getTimeInstance().format(new Date(Long.valueOf(timeMillis)));
  }

  public static String asDateTimeString(long timeMillis) {
    return DateFormat.getDateTimeInstance().format(new Date(Long.valueOf(timeMillis)));
  }

  public static String asReadableDeltaString(long earlier, long later) {
    long delta = later - earlier;
    if (delta < 3 * SECONDS) {
      return "just now";
    }
    if (delta < 7 * SECONDS) {
      return "moments ago";
    }
    if (delta < 120 * SECONDS) {
      return (delta / SECONDS) + " seconds ago";
    }
    if (delta < 120 * MINUTES) {
      return (delta / MINUTES) + " minutes ago";
    }
    if (delta < 48 * HOURS) {
      return (delta / HOURS) + " hours ago";
    }
    if (delta < 21 * DAYS) {
      return (delta / DAYS) + " days ago";
    }
    if (delta < 6 * WEEKS) {
      return (delta / WEEKS) + " weeks ago";
    }
    return (delta / MONTHS) + " months ago";
  }

  public static String asReadableDeltaFromNow(String time) {
    return asReadableDeltaString(Long.valueOf(time), System.currentTimeMillis());
  }

  public static String asRelevantString(long time, long now) {
    long delta = now - time;
    if (delta < 24 * HOURS) {
      return asTimeString(time);
    }
    if (delta < 2 * DAYS) {
      return asDateTimeString(time);
    }
    return asDateString(time);
  }

  public static String asRelevantStringFromNow(String time) {
    return asRelevantString(Long.valueOf(time), System.currentTimeMillis());
  }

  public static String asTotalInfo(long time, long now) {
    long delta = now - time;
    if (delta < 1 * DAYS) {
      return asReadableDeltaString(time, now);
    }
    return asRelevantString(time, now) + " (" + asReadableDeltaString(time, now) + ")";
  }

  public static String asRelativeToNow(String time) {
    return asTotalInfo(Long.valueOf(time), System.currentTimeMillis());
  }



}
