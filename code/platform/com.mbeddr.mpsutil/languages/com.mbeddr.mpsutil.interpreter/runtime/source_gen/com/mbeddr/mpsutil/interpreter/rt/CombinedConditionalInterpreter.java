package com.mbeddr.mpsutil.interpreter.rt;

/*Generated by MPS */

import jetbrains.mps.logging.Logger;
import java.util.List;
import jetbrains.mps.internal.collections.runtime.ListSequence;

public class CombinedConditionalInterpreter extends ConditionalInterpreterBase {
  private static final Logger LOG = Logger.getLogger(CombinedConditionalInterpreter.class);
  private final List<IConditionalInterpreter> interpreters;

  public CombinedConditionalInterpreter(IConditionalInterpreter... interpreters) {
    this.interpreters = InterpreterClassSorter.<IConditionalInterpreter>sort(interpreters);

    if (LOG.isTraceLevel()) {
      LOG.trace("Interpreters: " + this.interpreters);
    }

    init();
  }

  protected void populateEvaluators(final List<? extends IEvaluator> evaluators) {
    ListSequence.fromList(interpreters).visitAll((it) -> ListSequence.fromList(((List<IEvaluator>) evaluators)).addSequence(ListSequence.fromList(it.listEvaluators())));
  }

  protected void populateTypeMappers(final List<? extends ITypeMapper> typeMappers) {
    ListSequence.fromList(interpreters).visitAll((it) -> ListSequence.fromList(((List<ITypeMapper>) typeMappers)).addSequence(ListSequence.fromList(it.listTypeMappers())));
  }

  protected void populateRelationships(final List<? extends IRelationship> relationships) {
    ListSequence.fromList(interpreters).visitAll((it) -> ListSequence.fromList(((List<IRelationship>) relationships)).addSequence(ListSequence.fromList(it.listRelationships())));
  }
}
