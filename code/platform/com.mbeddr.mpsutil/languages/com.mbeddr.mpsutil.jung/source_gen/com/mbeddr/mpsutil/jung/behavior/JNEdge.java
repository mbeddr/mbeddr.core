package com.mbeddr.mpsutil.jung.behavior;

/*Generated by MPS */

import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import jetbrains.mps.smodel.SNodePointer;
import jetbrains.mps.baseLanguage.tuples.runtime.Tuples;

public class JNEdge extends JNBase {

  private String from;
  private String to;
  private boolean directed;
  private int weight;
  private JNGraph graph;


  public JNEdge(JNGraph graph, String from, String to, SNode n, String id, boolean directed, String kind) {
    if (to == null) {
      throw new RuntimeException("to-name was null for edge " + SNodeOperations.present(n));
    }
    if (from == null) {
      throw new RuntimeException("from-name was null for edge " + SNodeOperations.present(n));
    }

    this.from = from;
    this.to = to;
    if (n != null) {
      this.nodeptr = new SNodePointer(n);
    }
    this.id = id;
    this.directed = directed;
    this.graph = graph;
    this.kinds = new String[]{kind};
  }

  public JNEdge(JNGraph graph, String from, String to, SNode n, String id, boolean directed, int weight, String kind) {
    this(graph, from, to, n, id, directed, kind);
    this.weight = weight;
  }

  public JNNode from() {
    JNNode vertex = graph.getVertexByID(this.from);
    if (vertex == null) {
      System.err.println("from: no vertex named " + this.from + " in graph");
    }
    return vertex;
  }

  public JNNode to() {
    JNNode vertex = graph.getVertexByID(this.to);
    if (vertex == null) {
      System.err.println("to: no vertex named " + this.to + " in graph");
    }
    return vertex;
  }

  public boolean isDirected() {
    return this.directed;
  }

  public int weight() {
    return this.weight;
  }

  public float relativeWeight() {
    Tuples._2<Integer, Integer> edgeWeights = graph.edgeWeights();
    int range = (int) edgeWeights._1() - (int) edgeWeights._0();
    return this.weight / range;
  }



}
