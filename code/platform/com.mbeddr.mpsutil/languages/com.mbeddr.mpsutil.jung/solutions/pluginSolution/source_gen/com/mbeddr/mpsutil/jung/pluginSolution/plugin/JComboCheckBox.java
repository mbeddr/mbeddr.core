package com.mbeddr.mpsutil.jung.pluginSolution.plugin;

/*Generated by MPS */

import javax.swing.JComboBox;
import javax.swing.JCheckBox;
import java.awt.event.ActionListener;
import java.awt.event.ActionEvent;
import javax.swing.ListCellRenderer;
import javax.swing.JLabel;
import java.awt.Component;
import javax.swing.JList;

public class JComboCheckBox extends JComboBox {
  public JComboCheckBox(JCheckBox[] items) {
    super(items);
    addStuff();
  }
  private void addStuff() {
    setRenderer(new ComboBoxRenderer());
    addActionListener(new ActionListener() {
      public void actionPerformed(ActionEvent ae) {
        itemSelected();
      }
    });
  }
  private void itemSelected() {
    if (getSelectedItem() instanceof JCheckBox) {
      JCheckBox jcb = (JCheckBox) getSelectedItem();
      jcb.setSelected(!(jcb.isSelected()));
    }
  }
  public class ComboBoxRenderer implements ListCellRenderer<Object> {
    private JLabel defaultLabel;
    public ComboBoxRenderer() {
      setOpaque(true);
    }
    public Component getListCellRendererComponent(JList list, Object value, int index, boolean isSelected, boolean cellHasFocus) {
      if (value instanceof Component) {
        Component c = (Component) value;
        if (isSelected) {
          c.setBackground(list.getSelectionBackground());
          c.setForeground(list.getSelectionForeground());
        } else {
          c.setBackground(list.getBackground());
          c.setForeground(list.getForeground());
        }
        return c;
      } else {
        String valString = "";
        if (value != null) {
          valString = value.toString();
        }
        if (defaultLabel == null) {
          defaultLabel = new JLabel(valString);
        } else
        defaultLabel.setText(valString);
        return defaultLabel;
      }
    }
  }
}
