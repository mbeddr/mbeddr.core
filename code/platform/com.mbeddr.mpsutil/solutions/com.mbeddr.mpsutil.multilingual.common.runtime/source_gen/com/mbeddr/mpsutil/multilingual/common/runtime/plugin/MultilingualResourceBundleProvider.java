package com.mbeddr.mpsutil.multilingual.common.runtime.plugin;

/*Generated by MPS */

import java.util.ResourceBundle;
import java.util.Locale;
import java.util.logging.Logger;
import java.util.logging.LogManager;
import java.util.logging.Level;
import java.util.MissingResourceException;

public abstract class MultilingualResourceBundleProvider {
  private final String baseName;

  protected MultilingualResourceBundleProvider(String baseName) {
    this.baseName = baseName;
  }

  protected String getBaseName() {
    return this.baseName;
  }

  public abstract ResourceBundle getResourceBundle(Locale locale);

  protected ResourceBundle getResourceBundleInternal(Locale locale) {
    ClassLoader classLoader = this.getClass().getClassLoader();
    Logger log = LogManager.getLogManager().getLogger(classLoader.getClass().getName());
    Level oldLevel = log.getLevel();
    try {
      log.setLevel(Level.SEVERE);
      return ResourceBundle.getBundle(this.getBaseName(), locale, classLoader);
    } catch (MissingResourceException e) {
      return null;
    } finally {
      log.setLevel(oldLevel);
    }
  }
}
