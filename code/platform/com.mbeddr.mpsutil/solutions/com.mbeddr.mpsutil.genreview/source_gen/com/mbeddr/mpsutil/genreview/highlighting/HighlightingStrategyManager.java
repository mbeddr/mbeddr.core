package com.mbeddr.mpsutil.genreview.highlighting;

/*Generated by MPS */

import jetbrains.mps.internal.collections.runtime.MapSequence;
import java.util.Map;
import java.util.HashMap;
import jetbrains.mps.internal.collections.runtime.SetSequence;

public class HighlightingStrategyManager {

  public static void registerHighlightingStrategy(String fileNameRegexPattern, HighlightingStrategyBase hs) {
    MapSequence.fromMap(extension2HighlightingStrategy).put(fileNameRegexPattern, hs);
  }

  private static Map<String, HighlightingStrategyBase> extension2HighlightingStrategy = MapSequence.fromMap(new HashMap<String, HighlightingStrategyBase>());

  public static HighlightingStrategyBase getHighlightingStrategyFor(final String fileName) {
    String patt = SetSequence.fromSet(MapSequence.fromMap(extension2HighlightingStrategy).keySet()).findFirst((it) -> fileName.matches(it));
    return MapSequence.fromMap(extension2HighlightingStrategy).get(patt);
  }
}
