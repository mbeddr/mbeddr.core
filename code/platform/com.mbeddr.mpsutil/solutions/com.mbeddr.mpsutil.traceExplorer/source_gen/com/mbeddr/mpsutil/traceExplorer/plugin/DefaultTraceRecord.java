package com.mbeddr.mpsutil.traceExplorer.plugin;

/*Generated by MPS */

import org.jetbrains.mps.openapi.model.SNodeReference;
import java.util.Map;
import java.util.List;
import jetbrains.mps.internal.collections.runtime.MapSequence;
import java.util.HashMap;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import org.jetbrains.annotations.NotNull;
import org.jetbrains.annotations.Nullable;
import org.jetbrains.mps.openapi.model.SNode;

public class DefaultTraceRecord implements ITraceRecord<DefaultTraceRecord> {
  public final String name;
  /**
   * Reference to the function definition node
   */
  public final SNodeReference definition;
  public final Map<SNodeReference, String> values;
  private ITraceRecord parent;

  /**
   * Functions called by this function
   */
  public final List<? extends DefaultTraceRecord> calls;

  public DefaultTraceRecord(final String name, final SNodeReference definition, final Map<SNodeReference, String> values, final List<? extends DefaultTraceRecord> calls) {
    this.name = name;
    this.definition = definition;
    this.values = MapSequence.fromMap(new HashMap<SNodeReference, String>());
    MapSequence.fromMap(this.values).putAll(values);
    this.calls = calls;
    for (DefaultTraceRecord c : ListSequence.fromList(calls)) {
      c.parent = this;
    }
  }
  @Override
  public ITraceRecord getParent() {
    return parent;
  }
  @NotNull
  @Override
  public String getName() {
    return name;
  }
  @Nullable
  @Override
  public SNodeReference getTarget() {
    return definition;
  }
  @NotNull
  @Override
  public Iterable<? extends DefaultTraceRecord> getChildren(boolean filtered) {
    return calls;
  }

  @Override
  public Object getTracedValue() {
    return null;
  }


  @Override
  public boolean mustBeRevealed() {
    return false;
  }

  @Override
  public String computationSourceURL() {
    return null;
  }
  @NotNull
  @Override
  public SNode getTargetNode() {
    return null;
  }
}
