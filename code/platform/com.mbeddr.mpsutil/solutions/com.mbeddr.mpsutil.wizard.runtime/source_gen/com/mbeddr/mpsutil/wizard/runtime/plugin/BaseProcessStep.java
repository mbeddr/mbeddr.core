package com.mbeddr.mpsutil.wizard.runtime.plugin;

/*Generated by MPS */

import com.intellij.ide.wizard.AbstractWizardStepEx;
import javax.swing.JComponent;
import org.jetbrains.annotations.NotNull;
import org.jetbrains.annotations.Nullable;
import javax.swing.JPanel;
import java.awt.BorderLayout;
import com.intellij.util.ui.JBUI;
import org.jetbrains.mps.openapi.util.ProgressMonitor;

public abstract class BaseProcessStep<TOutput> extends AbstractWizardStepEx {
  private final String mID;
  private JComponent mComponent;
  protected BaseWizard<TOutput> wizard;
  public String foo;
  public BaseProcessStep(String titel, String id) {
    super(titel);
    mID = id;
  }

  public void setWizard(BaseWizard<TOutput> wizard) {
    this.wizard = wizard;
  }

  @NotNull
  public Object getStepId() {
    return mID;
  }

  @Nullable
  public JComponent getPreferredFocusedComponent() {
    return null;
  }
  public boolean isComplete() {
    return true;
  }
  public boolean isApplicable() {
    return true;
  }
  @Nullable
  public Object getNextStepId() {
    BaseProcessStep<TOutput> nextStep = wizard.getNextStep(this);
    if (nextStep != null) {
      return nextStep.mID;
    }
    return null;
  }
  @Nullable
  public Object getPreviousStepId() {
    BaseProcessStep<TOutput> prevStep = wizard.getPrevStep(this);
    if (prevStep != null) {
      return prevStep.mID;
    }
    return null;
  }
  protected BaseProcessStep<TOutput> getStep(String id) {
    return wizard.getStep(id);
  }

  public JComponent getComponent() {
    if (mComponent == null && wizard != null) {
      mComponent = new JPanel(new BorderLayout());
      mComponent.setBorder(JBUI.Borders.empty(0, 10, 0, 10));
      createComponent(mComponent);
    }
    return mComponent;
  }
  protected void triggerValidation() {
    wizard.validate();
  }
  protected abstract void createComponent(JComponent mainpanel);
  public void updateUI() {
  }
  public TOutput execute(final TOutput output, final ProgressMonitor progress) {
    return null;
  }
}
