package com.mbeddr.mpsutil.datepicker.runtime.model;

/*Generated by MPS */

import jetbrains.mps.openapi.editor.cells.CellAction;
import jetbrains.mps.openapi.editor.cells.CellActionType;
import jetbrains.mps.openapi.editor.EditorContext;
import jetbrains.mps.openapi.editor.cells.CellTraversalUtil;

public class WorkingRightCellAction implements CellAction {
  private final CellAction action;
  private final EditorCell_DatePickerEntryField entryField;
  public WorkingRightCellAction(EditorCell_DatePickerEntryField entryField) {
    this.action = entryField.getAction(CellActionType.RIGHT);
    this.entryField = entryField;
  }

  public String getDescriptionText() {
    return this.action.getDescriptionText();
  }

  public boolean executeInCommand() {
    return this.action.executeInCommand();
  }

  public boolean canExecute(EditorContext editorContext) {
    return CellTraversalUtil.getNextLeaf(entryField) != null || this.action.canExecute(editorContext);
  }

  public void execute(EditorContext editorContext) {
    if (this.action.canExecute(editorContext)) {
      this.action.execute(editorContext);
    } else {
      editorContext.getSelectionManager().setSelection(CellTraversalUtil.getNextLeaf(entryField));
    }
  }
}
