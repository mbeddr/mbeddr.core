package com.mbeddr.mpsutil.datepicker.runtime.model;

/*Generated by MPS */

import java.awt.event.ActionListener;
import org.jetbrains.mps.openapi.module.SRepository;
import org.jetbrains.annotations.Nullable;
import java.awt.event.ActionEvent;
import org.jetbrains.mps.openapi.module.ModelAccess;

public class DatePickerActionListener implements ActionListener {
  public DatePickerActionListener(SRepository repository, Runnable runnable, @Nullable EditorCell_DatePickerEntryField datePickerEntryField) {
    this.runnable = runnable;
    this.datePickerEntryField = datePickerEntryField;
    myRepository = repository;
  }

  private Runnable runnable;

  public void actionPerformed(ActionEvent event) {
    ModelAccess modelAccess = myRepository.getModelAccess();
    if (modelAccess.isCommandAction()) {
      runnable.run();
    } else {
      modelAccess.executeUndoTransparentCommand(runnable);
    }
    if (datePickerEntryField != null) {
      datePickerEntryField.setErrorState(false);
    }
  }

  private EditorCell_DatePickerEntryField datePickerEntryField;
  private final SRepository myRepository;
}
