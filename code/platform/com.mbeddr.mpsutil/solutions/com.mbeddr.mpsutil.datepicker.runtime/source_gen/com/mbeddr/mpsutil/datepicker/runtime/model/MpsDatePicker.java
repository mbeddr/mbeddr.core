package com.mbeddr.mpsutil.datepicker.runtime.model;

/*Generated by MPS */

import com.michaelbaranov.microba.calendar.DatePicker;
import java.awt.Color;
import javax.swing.InputMap;
import javax.swing.KeyStroke;
import java.awt.event.KeyEvent;
import java.util.Set;
import java.awt.AWTKeyStroke;
import jetbrains.mps.internal.collections.runtime.SetSequence;
import java.util.LinkedHashSet;
import java.awt.KeyboardFocusManager;

public class MpsDatePicker extends DatePicker {
  public static final Color TRANSPARENT = new Color(64, 96, 128, 0);

  /**
   * copied from BasicDatePickerUI.POPUP_KEY
   */
  public static final String POPUP_KEY = "##BasicVetoDatePickerUI.popup##";

  public MpsDatePicker(DatePickerConfig config) {
    super(config.getCalendar().getTime());

    InputMap inputMap = this.getInputMap();
    inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0), POPUP_KEY);

    Set<AWTKeyStroke> forwardTraversalKeys = SetSequence.fromSetWithValues(new LinkedHashSet<AWTKeyStroke>(), this.getFocusTraversalKeys(KeyboardFocusManager.FORWARD_TRAVERSAL_KEYS));
    SetSequence.fromSet(forwardTraversalKeys).addElement(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0));
    this.setFocusTraversalKeys(KeyboardFocusManager.FORWARD_TRAVERSAL_KEYS, forwardTraversalKeys);

    Set<AWTKeyStroke> backwardTraversalKeys = SetSequence.fromSetWithValues(new LinkedHashSet<AWTKeyStroke>(), this.getFocusTraversalKeys(KeyboardFocusManager.BACKWARD_TRAVERSAL_KEYS));
    SetSequence.fromSet(backwardTraversalKeys).addElement(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0));
    this.setFocusTraversalKeys(KeyboardFocusManager.BACKWARD_TRAVERSAL_KEYS, backwardTraversalKeys);

    this.setDateFormat(config.getDateFormat());

    this.setPickerStyle(PICKER_STYLE_BUTTON);
    this.setFieldEditable(true);
    this.setShowNoneButton(false);
    this.setRequestFocusEnabled(true);



  }
}
