package com.mbeddr.mpsutil.actionsfilter.runtime.plugin;

/*Generated by MPS */

import jetbrains.mps.plugins.part.ProjectPluginPart;
import jetbrains.mps.project.MPSProject;
import com.intellij.openapi.startup.StartupManager;
import jetbrains.mps.ide.project.ProjectHelper;
import com.intellij.openapi.project.DumbAwareRunnable;

public class EnableUpdates_ProjectPluginPart extends ProjectPluginPart {
  public EnableUpdates_ProjectPluginPart() {
  }
  @Override
  public void init(MPSProject project) {
    StartupManager.getInstance(ProjectHelper.toIdeaProject(project)).registerPostStartupActivity(new DumbAwareRunnable() {
      @Override
      public void run() {
        ActionsService.getInstance().updatesEnabled = true;
        ActionsService.getInstance().applyIfEnabled();
      }
    });
  }
}
