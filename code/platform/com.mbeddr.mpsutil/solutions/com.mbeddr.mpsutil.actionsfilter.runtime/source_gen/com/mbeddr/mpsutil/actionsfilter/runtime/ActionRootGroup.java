package com.mbeddr.mpsutil.actionsfilter.runtime;

/*Generated by MPS */

import java.util.List;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import java.util.ArrayList;
import com.intellij.openapi.actionSystem.IdeActions;
import jetbrains.mps.ide.actions.MPSActions;
import jetbrains.mps.ide.actions.NodeActions_ActionGroup;
import jetbrains.mps.ide.actions.ModelActions_ActionGroup;
import jetbrains.mps.ide.actions.LanguageActions_ActionGroup;
import jetbrains.mps.ide.actions.GeneratorActions_ActionGroup;
import jetbrains.mps.ide.actions.SolutionActions_ActionGroup;
import jetbrains.mps.ide.actions.DevkitActions_ActionGroup;
import jetbrains.mps.ide.actions.TransientModulesActions_ActionGroup;
import jetbrains.mps.ide.actions.NamespaceActions_ActionGroup;
import jetbrains.mps.ide.actions.PackageActions_ActionGroup;
import jetbrains.mps.ide.actions.ProjectActions_ActionGroup;
import java.util.LinkedList;
import com.intellij.openapi.actionSystem.AnAction;
import com.intellij.openapi.actionSystem.ActionManager;
import com.intellij.openapi.actionSystem.DefaultActionGroup;

public class ActionRootGroup {
  private String myId;
  private String myName;

  public ActionRootGroup(String myId1, String myName1) {
    myId = myId1;
    myName = myName1;
  }
  public String getId() {
    return myId;
  }
  public String getName() {
    return myName;
  }

  public static List<ActionRootGroup> getGroups() {
    List<ActionRootGroup> result = ListSequence.fromList(new ArrayList<ActionRootGroup>());
    ListSequence.fromList(result).addElement(new ActionRootGroup(IdeActions.GROUP_MAIN_MENU, "Main Menu"));
    ListSequence.fromList(result).addElement(new ActionRootGroup(MPSActions.EDITOR_POPUP_GROUP, "Editor Context Menu"));
    ListSequence.fromList(result).addElement(new ActionRootGroup(IdeActions.GROUP_MAIN_TOOLBAR, "Main Toolbar"));
    ListSequence.fromList(result).addElement(new ActionRootGroup(NodeActions_ActionGroup.ID, "Node"));
    ListSequence.fromList(result).addElement(new ActionRootGroup(ModelActions_ActionGroup.ID, "Model"));
    ListSequence.fromList(result).addElement(new ActionRootGroup(LanguageActions_ActionGroup.ID, "Language"));
    ListSequence.fromList(result).addElement(new ActionRootGroup(GeneratorActions_ActionGroup.ID, "Generator"));
    ListSequence.fromList(result).addElement(new ActionRootGroup("jetbrains.mps.ide.devkit.actions.RuntimeFolderActions_ActionGroup", "Runtime"));
    ListSequence.fromList(result).addElement(new ActionRootGroup(SolutionActions_ActionGroup.ID, "Solution"));
    ListSequence.fromList(result).addElement(new ActionRootGroup(DevkitActions_ActionGroup.ID, "DevKit"));
    ListSequence.fromList(result).addElement(new ActionRootGroup(TransientModulesActions_ActionGroup.ID, "Transient Modules"));
    ListSequence.fromList(result).addElement(new ActionRootGroup(NamespaceActions_ActionGroup.ID, "Namespace Folder"));
    ListSequence.fromList(result).addElement(new ActionRootGroup(PackageActions_ActionGroup.ID, "Virtual Folder"));
    ListSequence.fromList(result).addElement(new ActionRootGroup(ProjectActions_ActionGroup.ID, "Project"));
    return result;
  }

  public static List<String> getAllActionsIDs() {
    List<String> ids = ListSequence.fromList(new LinkedList<String>());
    try {
      for (ActionRootGroup g : ListSequence.fromList(getGroups())) {
        AnAction crt = ActionManager.getInstance().getAction(g.getId());
        doCollectActions(crt, ids);
      }
    } catch (Exception ex) {
      ex.printStackTrace();
    }
    return ids;
  }

  private static void doCollectActions(AnAction crt, List<String> ids) {
    if (crt instanceof DefaultActionGroup) {
      for (AnAction child : ((DefaultActionGroup) crt).getChildActionsOrStubs()) {
        doCollectActions(child, ids);
      }
    }
    String id = ActionManager.getInstance().getId(crt);
    if ((id != null && id.length() > 0)) {
      ListSequence.fromList(ids).addElement(id);
    }
  }

}
