package com.mbeddr.mpsutil.actionsfilter.runtime;

/*Generated by MPS */

import com.intellij.openapi.options.ConfigurableEP;
import com.intellij.openapi.options.Configurable;
import com.intellij.openapi.application.ApplicationManager;
import org.jetbrains.annotations.Nullable;
import javax.swing.JComponent;
import org.jetbrains.annotations.Nls;
import org.jetbrains.annotations.NotNull;
import org.jetbrains.annotations.NonNls;
import com.intellij.openapi.options.ConfigurationException;
import com.mbeddr.mpsutil.actionsfilter.runtime.plugin.ActionsService;

public class ActionsConfigurable extends ConfigurableEP<Configurable> implements Configurable {

  public ActionsConfigurable() {
    this.groupId = "appearance";
    this.instanceClass = "com.mbeddr.mpsutil.actionsfilter.runtime.ActionsConfigurable";
    this.id = "com.mbeddr.mpsutil.actionsfilter.runtime.ActionsConfigurable";
    this.displayName = "Actions";
  }

  public static ActionsConfigurable getInstance() {
    return ApplicationManager.getApplication().getComponent(ActionsConfigurable.class);
  }

  private ActionFilterComponent myJComponent;

  @Nullable
  @Override
  public Configurable createConfigurable() {
    return this;
  }

  @Override
  public boolean canCreateConfigurable() {
    return true;
  }

  @Nullable
  @Override
  public JComponent createComponent() {
    return getJComponent();
  }

  public ActionFilterComponent getJComponent() {
    if (myJComponent == null) {
      myJComponent = new ActionFilterComponent();
    }
    return myJComponent;
  }

  @Override
  public void disposeUIResources() {
    check_rilw7v_a0a51(myJComponent);
    myJComponent = null;
  }

  @Nls
  @Override
  @NotNull
  public String getDisplayName() {
    return "Actions";
  }

  @Nullable
  @NonNls
  @Override
  public String getHelpTopic() {
    return null;
  }

  @Override
  public void apply() throws ConfigurationException {
    ActionsService.getInstance().loadState(getJComponent().myModel);
    ActionsService.getInstance().save();
  }

  @Override
  public boolean isModified() {
    return getJComponent().isModified(ActionsService.getInstance().getState());
  }

  @Override
  public void reset() {
    ActionFilterComponent component = getJComponent();
    component.readModel(ActionsService.getInstance().getState());
    component.updateValues();

  }
  private static void check_rilw7v_a0a51(ActionFilterComponent checkedDotOperand) {
    if (null != checkedDotOperand) {
      checkedDotOperand.dispose();
    }

  }
}
