package com.mbeddr.mpsutil.common.graph;

/*Generated by MPS */


public abstract class AbstractAVLTreeNode<T extends Comparable<T>> implements AVLTreeNode<T> {

  protected T value;
  protected int count;
  protected int height;
  protected AVLTreeNode<T> left;
  protected AVLTreeNode<T> right;
  protected AVLTreeNode<T> parent;

  public AbstractAVLTreeNode(final T value) {
    this.value = value;
    this.height = 1;
    this.count = 1;
  }

  @Override
  public int getCount() {
    return this.count;
  }

  @Override
  public void setCount(final int count) {
    this.count = count;
  }

  @Override
  public void incrementCount() {
    this.count++;
  }

  @Override
  public void decrementCount() {
    if (this.count <= 1) {
      throw new RuntimeException("Count cannot be smaller than one!");
    } else {
      this.count--;
    }
  }

  @Override
  public T getValue() {
    return this.value;
  }

  @Override
  public void setValue(final T value) {
    this.value = value;
  }

  @Override
  public AVLTreeNode<T> getLeftChild() {
    return this.left;
  }

  @Override
  public AVLTreeNode<T> getRightChild() {
    return this.right;
  }

  @Override
  public AVLTreeNode<T> getParent() {
    return this.parent;
  }

  @Override
  public int getHeight() {
    return this.height;
  }

  @Override
  public void setHeight(final int height) {
    this.height = height;
  }

  @Override
  public void setLeftChild(final AVLTreeNode<T> child) {
    setLeftChild(child, true);
  }

  @Override
  public void setLeftChild(final AVLTreeNode<T> child, final boolean notify) {
    final AVLTreeNode<T> oldChild = this.left;
    if (oldChild == null || !(oldChild.equals(child))) {
      this.left = child;
      if (this.left != null) {
        this.left.setParent(this, notify);
      }
      if (notify) {
        this.leftChildChanged(child);
      }
    }
  }

  @Override
  public void setRightChild(final AVLTreeNode<T> child) {
    setRightChild(child, true);
  }

  @Override
  public void setRightChild(final AVLTreeNode<T> child, final boolean notify) {
    final AVLTreeNode<T> oldChild = this.right;
    if (oldChild == null || !(oldChild.equals(child))) {
      this.right = child;
      if (this.right != null) {
        this.right.setParent(this, notify);
      }
      if (notify) {
        this.rightChildChanged(child);
      }
    }
  }

  @Override
  public void setParent(final AVLTreeNode<T> parent) {
    setParent(parent, true);
  }

  @Override
  public void setParent(final AVLTreeNode<T> parent, final boolean notify) {
    final AVLTreeNode<T> oldParent = this.parent;
    this.parent = parent;
    if (oldParent == null || !(oldParent.equals(parent))) {
      if (notify) {
        this.parentChanged(parent);
      }
    }
  }

}
