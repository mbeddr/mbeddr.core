package com.mbeddr.mpsutil.common.graphTest;

/*Generated by MPS */

import jetbrains.mps.MPSLaunch;
import jetbrains.mps.lang.test.runtime.BaseTransformationTest;
import org.junit.jupiter.api.extension.RegisterExtension;
import jetbrains.mps.lang.test.runtime.TestParametersCacheExtension;
import jetbrains.mps.lang.test.runtime.TestParametersCacheBuilder;
import org.junit.jupiter.api.Test;
import jetbrains.mps.lang.test.runtime.BaseTestBody;
import jetbrains.mps.lang.test.runtime.TransformationTest;
import com.mbeddr.mpsutil.common.graph.AVLTreeNodeFactory;
import com.mbeddr.mpsutil.common.graph.AVLTree;
import com.mbeddr.mpsutil.common.graph.AVLTreeImpl;
import org.junit.Assert;
import com.mbeddr.mpsutil.common.graph.AVLTreeNode;

@MPSLaunch
public class AVLTreeInsertion_Test extends BaseTransformationTest {
  @RegisterExtension
  private static final TestParametersCacheExtension ourParametersCacheExtension = new TestParametersCacheExtension(new TestParametersCacheBuilder(AVLTreeInsertion_Test.class).projectPath("${mbeddr.github.core.home}/code/platform/com.mbeddr.mpsutil").modelRef("r:a68423c3-5b3b-473a-89a3-7910cb495020(com.mbeddr.mpsutil.common.graphTest@tests)").reopenProject(false).build());

  public AVLTreeInsertion_Test() {
    super(ourParametersCacheExtension.getParametersCache());
  }

  @Test
  public void test_testInsertion1() throws Throwable {
    new TestBody(this).test_testInsertion1();
  }
  @Test
  public void test_testInsertion2() throws Throwable {
    new TestBody(this).test_testInsertion2();
  }
  @Test
  public void test_testInsertion_LeftLeft() throws Throwable {
    new TestBody(this).test_testInsertion_LeftLeft();
  }
  @Test
  public void test_testInsertion_RightRight() throws Throwable {
    new TestBody(this).test_testInsertion_RightRight();
  }
  @Test
  public void test_testInsertion_LeftRight() throws Throwable {
    new TestBody(this).test_testInsertion_LeftRight();
  }
  @Test
  public void test_testInsertion_RightLeft() throws Throwable {
    new TestBody(this).test_testInsertion_RightLeft();
  }
  @Test
  public void test_testInsertion3() throws Throwable {
    new TestBody(this).test_testInsertion3();
  }

  /*package*/ static class TestBody extends BaseTestBody {

    /*package*/ TestBody(TransformationTest owner) {
      super(owner);
    }

    @Override
    protected void initTestNodes() {
      prepareTestNodes();
    }

    public void test_testInsertion1() throws Exception {
      initTestNodes();
      runWithinCommand(() -> {
        AVLTreeNodeFactory<Integer, IntegerNode> nodeFactory = new IntegerNodeFactory();
        AVLTree<Integer, IntegerNode> tree = new AVLTreeImpl<Integer, IntegerNode>(nodeFactory);

        tree.insert(10).insert(20).insert(30).insert(40).insert(50).insert(25);

        Assert.assertEquals(TestBody.this.getPreOrderDump(tree.getRoot()), "30 20 10 25 40 50 ");
      });
    }
    public void test_testInsertion2() throws Exception {
      initTestNodes();
      runWithinCommand(() -> {
        AVLTreeNodeFactory<Integer, IntegerNode> nodeFactory = new IntegerNodeFactory();
        AVLTree<Integer, IntegerNode> tree = new AVLTreeImpl<Integer, IntegerNode>(nodeFactory);

        tree.insert(13).insert(10).insert(15).insert(5).insert(11).insert(16).insert(4).insert(6);

        Assert.assertEquals(TestBody.this.getPreOrderDump(tree.getRoot()), "13 10 5 4 6 11 15 16 ");

        tree.insert(14);

        Assert.assertEquals(TestBody.this.getPreOrderDump(tree.getRoot()), "13 10 5 4 6 11 15 14 16 ");
      });
    }
    public void test_testInsertion_LeftLeft() throws Exception {
      initTestNodes();
      runWithinCommand(() -> {
        AVLTreeNodeFactory<Integer, IntegerNode> nodeFactory = new IntegerNodeFactory();
        AVLTree<Integer, IntegerNode> tree = new AVLTreeImpl<Integer, IntegerNode>(nodeFactory);

        tree.insert(13).insert(10).insert(15).insert(5).insert(11).insert(16).insert(4).insert(8);

        Assert.assertEquals(TestBody.this.getPreOrderDump(tree.getRoot()), "13 10 5 4 8 11 15 16 ");

        tree.insert(3);

        Assert.assertEquals(TestBody.this.getPreOrderDump(tree.getRoot()), "13 5 4 3 10 8 11 15 16 ");
      });
    }
    public void test_testInsertion_RightRight() throws Exception {
      initTestNodes();
      runWithinCommand(() -> {
        AVLTreeNodeFactory<Integer, IntegerNode> nodeFactory = new IntegerNodeFactory();
        AVLTree<Integer, IntegerNode> tree = new AVLTreeImpl<Integer, IntegerNode>(nodeFactory);

        tree.insert(30).insert(5).insert(35).insert(32).insert(40);

        Assert.assertEquals(TestBody.this.getPreOrderDump(tree.getRoot()), "30 5 35 32 40 ");

        tree.insert(45);

        Assert.assertEquals(TestBody.this.getPreOrderDump(tree.getRoot()), "35 30 5 32 40 45 ");
      });
    }
    public void test_testInsertion_LeftRight() throws Exception {
      initTestNodes();
      runWithinCommand(() -> {
        AVLTreeNodeFactory<Integer, IntegerNode> nodeFactory = new IntegerNodeFactory();
        AVLTree<Integer, IntegerNode> tree = new AVLTreeImpl<Integer, IntegerNode>(nodeFactory);

        tree.insert(13).insert(10).insert(15).insert(5).insert(11).insert(16).insert(4).insert(6);

        Assert.assertEquals(TestBody.this.getPreOrderDump(tree.getRoot()), "13 10 5 4 6 11 15 16 ");

        tree.insert(7);

        Assert.assertEquals(TestBody.this.getPreOrderDump(tree.getRoot()), "13 6 5 4 10 7 11 15 16 ");
      });
    }
    public void test_testInsertion_RightLeft() throws Exception {
      initTestNodes();
      runWithinCommand(() -> {
        AVLTreeNodeFactory<Integer, IntegerNode> nodeFactory = new IntegerNodeFactory();
        AVLTree<Integer, IntegerNode> tree = new AVLTreeImpl<Integer, IntegerNode>(nodeFactory);

        tree.insert(5).insert(2).insert(7).insert(1).insert(4).insert(6).insert(9).insert(3).insert(16);

        Assert.assertEquals(TestBody.this.getPreOrderDump(tree.getRoot()), "5 2 1 4 3 7 6 9 16 ");

        tree.insert(15);

        Assert.assertEquals(TestBody.this.getPreOrderDump(tree.getRoot()), "5 2 1 4 3 7 6 15 9 16 ");
      });
    }
    public void test_testInsertion3() throws Exception {
      initTestNodes();
      runWithinCommand(() -> {
        AVLTreeNodeFactory<Integer, IntegerNode> nodeFactory = new IntegerNodeFactory();
        AVLTree<Integer, IntegerNode> tree = new AVLTreeImpl<Integer, IntegerNode>(nodeFactory);

        tree.insert(3).insert(1).insert(2).insert(2).insert(2).insert(2).insert(2).insert(2).insert(2);

        Assert.assertEquals(TestBody.this.getPreOrderDump(tree.getRoot()), "2 2 2 2 2 2 2 1 3 ");
      });
    }

    public String getPreOrderDump(AVLTreeNode<Integer> node) {
      StringBuffer buffer = new StringBuffer();
      this.getPreOrderDump(node, buffer);
      return buffer.toString();
    }
    public void getPreOrderDump(AVLTreeNode<Integer> node, StringBuffer buffer) {
      if (node != null) {
        for (int i = 0; i < node.getCount(); i++) {
          buffer.append(node.getValue() + " ");
        }
        this.getPreOrderDump(node.getLeftChild(), buffer);
        this.getPreOrderDump(node.getRightChild(), buffer);
      }
    }
  }
}
