package com.mbeddr.mpsutil.contextactions.runtime;

/*Generated by MPS */

import org.jetbrains.annotations.NotNull;
import jetbrains.mps.openapi.editor.selection.Selection;
import java.util.List;
import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.openapi.editor.cells.EditorCell;
import org.jetbrains.annotations.Nullable;
import jetbrains.mps.openapi.editor.EditorComponent;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import java.util.Iterator;

public class EditorSelectionContext extends ContextBase {

  @NotNull
  private Selection mySelection;

  public EditorSelectionContext(@NotNull Selection selection) {
    mySelection = selection;
  }

  @Override
  public List<SNode> getSNodes() {
    return mySelection.getSelectedNodes();
  }


  @Override
  public List<EditorCell> getCells() {
    return mySelection.getSelectedCells();
  }

  @Nullable
  @Override
  public EditorComponent getEditorComponent() {
    return mySelection.getEditorComponent();
  }

  @Override
  public Selection getSelection() {
    return mySelection;
  }

  @Override
  public boolean equals(Object o) {
    if (this == o) {
      return true;
    }
    if (o == null || this.getClass() != o.getClass()) {
      return false;
    }

    EditorSelectionContext that = (EditorSelectionContext) o;

    if (mySelection.getClass() != that.mySelection.getClass()) {
      return false;
    }

    List<EditorCell> thisCells = getCells();
    List<EditorCell> thatCells = that.getCells();
    if (ListSequence.fromList(thisCells).count() != ListSequence.fromList(thatCells).count()) {
      return false;
    }
    {
      Iterator<EditorCell> thisCell_it = ListSequence.fromList(thisCells).iterator();
      Iterator<EditorCell> thatCell_it = ListSequence.fromList(thatCells).iterator();
      EditorCell thisCell_var;
      EditorCell thatCell_var;
      while (thisCell_it.hasNext() && thatCell_it.hasNext()) {
        thisCell_var = thisCell_it.next();
        thatCell_var = thatCell_it.next();
        if (thisCell_var != thatCell_var) {
          return false;
        }
      }
    }

    return true;
  }
}
