package com.mbeddr.mpsutil.contextactions.runtime;

/*Generated by MPS */

import javax.swing.Icon;
import jetbrains.mps.internal.collections.runtime.Sequence;
import java.util.Collections;
import org.jetbrains.mps.openapi.model.SNode;

public class GenericActionSource<E> extends AbstractActionSource implements IContextActionSource {
  public GenericActionSource() {
  }

  public String getFolder(IContext context, E parameterObject) {
    return null;
  }

  public Icon getIcon(IContext context, E parameterObject) {
    return null;
  }

  public String getLabel(IContext context, E parameterObject) {
    return null;
  }

  public String getTooltip(IContext context, E parameterObject) {
    return getLabel(context, parameterObject);
  }

  public void execute(IContext context, E parameterObject) {
  }

  @Override
  public Iterable<IContextAction> getActions(IContext context) {
    return Sequence.fromIterable(queryParameterObjects(context)).select((it) -> createAction(it));
  }

  public Iterable<E> queryParameterObjects(IContext context) {
    return Sequence.fromIterable(Collections.<E>emptyList());
  }

  protected IContextAction createSingleAction() {
    return new GenericAction(this, null);
  }

  public ContextActionId getActionId(E parameterObject) {
    String id;
    if (parameterObject instanceof SNode) {
      id = "" + ((SNode) parameterObject).getNodeId();
    } else if (parameterObject instanceof String) {
      id = ((String) parameterObject);
    } else {
      id = "" + parameterObject;
    }
    return new ContextActionId(getActionSourceId(), id);
  }

  protected ContextActionId getActionSourceId() {
    return new ContextActionId("GenericActionSource@" + System.identityHashCode(this));
  }


  protected IContextAction createAction(E parameterObject) {
    return new GenericAction(this, parameterObject);
  }
  @Override
  public String getOriginalActionSourceId() {
    return "";
  }
}
