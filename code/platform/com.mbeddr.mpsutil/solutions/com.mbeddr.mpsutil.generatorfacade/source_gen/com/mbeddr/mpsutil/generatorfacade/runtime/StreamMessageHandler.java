package com.mbeddr.mpsutil.generatorfacade.runtime;

/*Generated by MPS */

import jetbrains.mps.messages.IMessageHandler;
import java.io.PrintStream;
import java.util.List;
import org.jetbrains.annotations.NotNull;
import jetbrains.mps.messages.IMessage;
import jetbrains.mps.messages.MessageKind;
import jetbrains.mps.internal.collections.runtime.ListSequence;

public class StreamMessageHandler implements IMessageHandler {

  private PrintStream stream;
  private List<String> messages;

  public StreamMessageHandler(PrintStream s) {
    stream = s;
  }
  @Override
  public void handle(@NotNull IMessage message) {
    if (message.getKind() == MessageKind.ERROR) {
      ListSequence.fromList(messages).addElement(message.getText());
    }
    stream.println(message.getText());
  }

  public boolean hasError() {
    return ListSequence.fromList(this.messages).isNotEmpty();
  }

  public Iterable<String> getMessages() {
    return this.messages;
  }
}
