package com.mbeddr.mpsutil.preferenceform.runtime;

/*Generated by MPS */

import java.util.List;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import java.util.ArrayList;

public abstract class AbstractPreferenceFormComponent {
  private List<AbstractPreferenceFormConfigurable> pages = ListSequence.fromList(new ArrayList<AbstractPreferenceFormConfigurable>());

  protected AbstractPreferenceFormComponent() {
  }

  public List<AbstractPreferenceFormConfigurable> getPages() {
    return this.pages;
  }

  public void init() {

    this.loadState();
    this.pages = createPages();
    ListSequence.fromList(this.pages).visitAll((it) -> it.register());
  }

  public void dispose() {

    ListSequence.fromList(this.pages).visitAll((it) -> it.unregister());
    ListSequence.fromList(this.pages).clear();
  }

  public static abstract class AbstractMyState {
    public Object property = null;
    public Object getProperty() {
      return null;
    }
  }

  public abstract AbstractMyState getStateObject();
  public abstract void loadState();
  public abstract void saveState();

  protected abstract List<AbstractPreferenceFormConfigurable> createPages();
}
