package com.mbeddr.mpsutil.preferenceform.runtime;

/*Generated by MPS */

import com.intellij.openapi.project.Project;
import com.intellij.openapi.Disposable;
import com.intellij.openapi.util.Disposer;
import com.intellij.openapi.options.Configurable;

public abstract class PreferenceFormProjectConfigurableBase extends AbstractPreferenceFormConfigurable {
  private final Project project;
  private Disposable disposable;

  protected PreferenceFormProjectConfigurableBase(Project project, PreferenceFormProjectComponentBase preferenceFormComponent) {
    super(preferenceFormComponent);
    this.project = project;
  }

  @Override
  public Project getProject() {
    return this.project;
  }

  @Override
  public void register() {
    disposable = Disposer.newDisposable(this.getClass().getName());
    Configurable.PROJECT_CONFIGURABLE.getPoint(getProject()).registerExtension(this, disposable);
  }

  @Override
  public void unregister() {
    if (disposable != null) {
      Disposer.dispose(disposable);
    }
  }
}
