package com.mbeddr.mpsutil.ecoreimporter.runtime.importerruntime;

/*Generated by MPS */

import java.util.Map;
import java.util.List;
import jetbrains.mps.internal.collections.runtime.MapSequence;
import java.util.HashMap;
import org.jetbrains.mps.openapi.model.SModel;
import org.eclipse.emf.ecore.impl.EClassImpl;
import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SPropertyOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SModelOperations;
import jetbrains.mps.smodel.SNodeId;
import org.eclipse.emf.ecore.impl.EEnumImpl;
import java.util.ArrayList;
import org.eclipse.emf.ecore.EEnumLiteral;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SConceptOperations;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SEnumOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import org.eclipse.emf.ecore.EReference;
import java.util.Objects;
import jetbrains.mps.lang.structure.util.ConceptIdHelper;
import org.eclipse.emf.ecore.EAttribute;
import jetbrains.mps.smodel.SNodePointer;
import org.eclipse.emf.ecore.EcorePackage;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.IAttributeDescriptor;
import org.eclipse.emf.ecore.EClass;
import org.eclipse.emf.ecore.EPackage;
import org.eclipse.emf.ecore.EClassifier;
import org.eclipse.emf.ecore.EEnum;
import com.intellij.openapi.application.ApplicationManager;
import com.intellij.openapi.ui.Messages;
import jetbrains.mps.smodel.builder.SNodeBuilder;
import org.jetbrains.mps.openapi.language.SProperty;
import org.jetbrains.mps.openapi.language.SConcept;
import org.jetbrains.mps.openapi.language.SReferenceLink;
import org.jetbrains.mps.openapi.language.SContainmentLink;

public class MetaModelImporterCore {
  private static Map<String, List<LazyLinkDeclaration>> lazyReferences = MapSequence.fromMap(new HashMap<String, List<LazyLinkDeclaration>>());
  private static Map<String, List<LazyClassEnumReference>> lazySuperClasses = MapSequence.fromMap(new HashMap<String, List<LazyClassEnumReference>>());
  private static Map<String, List<LazyClassEnumReference>> lazyPropertyEnumTypes = MapSequence.fromMap(new HashMap<String, List<LazyClassEnumReference>>());
  private static final String AGGREGATION_STRING = "aggregation";

  private SModel inputModel = null;
  private boolean genEnumInternalValues = false;
  private String ecoreFileName = "";

  public void initMaps() {
    lazyReferences = MapSequence.fromMap(new HashMap<String, List<LazyLinkDeclaration>>());
    lazySuperClasses = MapSequence.fromMap(new HashMap<String, List<LazyClassEnumReference>>());
    lazyPropertyEnumTypes = MapSequence.fromMap(new HashMap<String, List<LazyClassEnumReference>>());
  }

  public String ecoreFileName() {
    return ecoreFileName;
  }

  public SModel inputModel() {
    return inputModel;
  }

  public void resolveLazyObjects() {
    // Resolve the lazy enum property types
    resolveLazyProperties();

    // Resolve lazy references
    resolveLazyReference();

    // Resolve lazy super classes
    resolveLazySuperClassess();
  }

  public void addEclass(EClassImpl classImpl) {
    SNode currDecl;
    if (classImpl.isAbstract()) {
      currDecl = createInterfaceConceptDeclaration_fb454q_a0a0b0r();
      SPropertyOperations.assign(currDecl, PROPS.abstract$ibpT, true);
    } else {
      currDecl = createConceptDeclaration_fb454q_a0a0a1a71();
      SPropertyOperations.assign(currDecl, PROPS.abstract$ibpT, false);
    }
    SModelOperations.addRootNode(this.inputModel, currDecl);
    SPropertyOperations.assign(currDecl, PROPS.conceptId$rrGe, String.valueOf(((SNodeId.Regular) currDecl.getNodeId()).getId()));
    SPropertyOperations.assign(currDecl, PROPS.name$MnvL, classImpl.getName());
    this.addProperties(currDecl, classImpl);
    addReferences(classImpl);
    addSuperClassess(classImpl);
  }

  public void addEEnum(EEnumImpl enumImpl) {
    int enumVal = 0;
    List<SNode> members = new ArrayList<SNode>();
    for (EEnumLiteral literal : enumImpl.getELiterals()) {
      String value;
      if (this.genEnumInternalValues) {
        value = String.valueOf(enumVal);
        enumVal++;
      } else {
        value = String.valueOf(literal.getValue());
      }
      ListSequence.fromList(members).addElement(createEnumerationMemberDeclaration_fb454q_a0a2a2a91(literal.getName(), value));
    }
    SModelOperations.addRootNode(this.inputModel, createEnumerationDeclaration_fb454q_a0a3a91(enumImpl.getName(), members));
  }

  private void resolveLazyProperties() {
    List<SNode> allProperties = SModelOperations.nodes(inputModel, CONCEPTS.PropertyDeclaration$1S);
    List<SNode> enums = SModelOperations.nodes(inputModel, CONCEPTS.EnumerationDeclaration$hv);
    for (final String propertyId : MapSequence.fromMap(lazyPropertyEnumTypes).keySet()) {
      SNode currentProperty = ListSequence.fromList(allProperties).findFirst((p) -> SPropertyOperations.getString(p, PROPS.propertyId$m5HU).equals(propertyId));
      for (final LazyClassEnumReference enumRef : MapSequence.fromMap(lazyPropertyEnumTypes).get(propertyId)) {
        SNode enumType = ListSequence.fromList(enums).findFirst((e) -> SPropertyOperations.getString(e, PROPS.name$MnvL).equals(enumRef.name));
        SLinkOperations.setTarget(currentProperty, LINKS.dataType$5j5Y, enumType);
      }
    }
  }

  private void resolveLazyReference() {
    for (final String className : MapSequence.fromMap(lazyReferences).keySet()) {
      List<LazyLinkDeclaration> references = MapSequence.fromMap(lazyReferences).get(className);
      SNode classNode = ListSequence.fromList(SModelOperations.nodes(inputModel, CONCEPTS.AbstractConceptDeclaration$KA)).findFirst((conceptDecl) -> SPropertyOperations.getString(conceptDecl, PROPS.name$MnvL).equals(className));
      for (final LazyLinkDeclaration reference : references) {
        SNode linkDecl = SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0xc72da2b97cce4447L, 0x8389f407dc1158b7L, 0xf979bd086aL, "jetbrains.mps.lang.structure.structure.LinkDeclaration"));
        SPropertyOperations.assign(linkDecl, PROPS.linkId$mi9g, String.valueOf(((SNodeId.Regular) (linkDecl.getNodeId())).getId()));
        SPropertyOperations.assign(linkDecl, PROPS.name$MnvL, reference.getName());
        SPropertyOperations.assignEnum(linkDecl, PROPS.sourceCardinality$cxYK, SEnumOperations.getMemberForPresentation(MetaAdapterFactory.getEnumeration(0xc72da2b97cce4447L, 0x8389f407dc1158b7L, 0xfc6f3944c2L, "jetbrains.mps.lang.structure.structure.Cardinality"), reference.getCardinality()));
        SPropertyOperations.assignEnum(linkDecl, PROPS.metaClass$PeKc, SEnumOperations.getMemberForName(MetaAdapterFactory.getEnumeration(0xc72da2b97cce4447L, 0x8389f407dc1158b7L, 0xfc6f4e95b7L, "jetbrains.mps.lang.structure.structure.LinkMetaclass"), reference.metaclass));
        SNode targetClass = ListSequence.fromList(SModelOperations.nodes(inputModel, CONCEPTS.AbstractConceptDeclaration$KA)).findFirst((classDecl) -> SPropertyOperations.getString(classDecl, PROPS.name$MnvL).equals(reference.getTargetClassName()));
        SLinkOperations.setTarget(linkDecl, LINKS.target$m40F, targetClass);
        ListSequence.fromList(SLinkOperations.getChildren(classNode, LINKS.linkDeclaration$YU1f)).addElement(linkDecl);
      }
    }
  }

  private void resolveLazySuperClassess() {
    for (final String className : MapSequence.fromMap(lazySuperClasses).keySet()) {
      // This flag is used to detect potential multiple inheritance scenarios
      boolean oneSuperClassEncountered = false;
      SNode classNode = ListSequence.fromList(SModelOperations.nodes(inputModel, CONCEPTS.AbstractConceptDeclaration$KA)).findFirst((conceptDecl) -> SPropertyOperations.getString(conceptDecl, PROPS.name$MnvL).equals(className));
      for (final LazyClassEnumReference superClass : MapSequence.fromMap(lazySuperClasses).get(className)) {
        SNode superClassNode = ListSequence.fromList(SModelOperations.nodes(inputModel, CONCEPTS.AbstractConceptDeclaration$KA)).findFirst((conceptDecl) -> SPropertyOperations.getString(conceptDecl, PROPS.name$MnvL).equals(superClass.name));
        if (SPropertyOperations.getBoolean(classNode, PROPS.abstract$ibpT)) {
          if (!(SPropertyOperations.getBoolean(superClassNode, PROPS.abstract$ibpT))) {
            print("Error: Interface " + className + " attempting to extend non abstract class " + superClass);
          } else {
            SNode icdCurrNode = SNodeOperations.cast(classNode, CONCEPTS.InterfaceConceptDeclaration$CG);
            ListSequence.fromList(SLinkOperations.getChildren(icdCurrNode, LINKS.extends$nawU)).addElement(createInterfaceReference(SNodeOperations.cast(superClassNode, CONCEPTS.InterfaceConceptDeclaration$CG)));
          }
        } else {
          SNode cdCurrNode = SNodeOperations.cast(classNode, CONCEPTS.ConceptDeclaration$gH);
          if (SPropertyOperations.getBoolean(superClassNode, PROPS.abstract$ibpT)) {
            ListSequence.fromList(SLinkOperations.getChildren(cdCurrNode, LINKS.implements$u_P2)).addElement(createInterfaceReference(SNodeOperations.cast(superClassNode, CONCEPTS.InterfaceConceptDeclaration$CG)));
          } else {
            if (!(oneSuperClassEncountered)) {
              oneSuperClassEncountered = true;
              SLinkOperations.setTarget(cdCurrNode, LINKS.extends$_Isg, SNodeOperations.cast(superClassNode, CONCEPTS.ConceptDeclaration$gH));
            } else {
              ListSequence.fromList(SLinkOperations.getChildren(cdCurrNode, LINKS.implements$u_P2)).addElement(mapClassToInterface(SNodeOperations.cast(superClassNode, CONCEPTS.ConceptDeclaration$gH)));
            }
          }
        }
      }
    }
  }

  public SNode createInterfaceReference(SNode superClassNode) {
    // TODO: Consider removing this function with a light quotation stuff.
    SNode intRef = SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0xc72da2b97cce4447L, 0x8389f407dc1158b7L, 0x110356fc618L, "jetbrains.mps.lang.structure.structure.InterfaceConceptReference"));
    SLinkOperations.setTarget(intRef, LINKS.intfc$zM4e, SNodeOperations.cast(superClassNode, CONCEPTS.InterfaceConceptDeclaration$CG));
    return intRef;
  }

  private void addReferences(EClassImpl classImpl) {
    List<LazyLinkDeclaration> lazyReferences = new ArrayList<LazyLinkDeclaration>();
    for (Object object : classImpl.getEReferences()) {
      LazyLinkDeclaration lazyReference = new LazyLinkDeclaration();

      EReference objectasReference = (EReference) object;

      lazyReference.setName(objectasReference.getName());

      String srcMultiplicity = "0";
      String srcMultStr = String.valueOf(objectasReference.getLowerBound());

      // get the source multiplicity from the element
      if (!(Objects.equals(srcMultStr, null))) {
        srcMultiplicity = srcMultStr;
      }

      // set target multiplicity
      String trgtMultiplicity = "1";
      String trgtMultiStr = String.valueOf(objectasReference.getUpperBound());

      // set the multiplicity if it exists in the element
      if (!(Objects.equals(trgtMultiStr, null))) {
        trgtMultiplicity = trgtMultiStr;

        // if the element has a target multiplicity
        // of -1, change it to n
        if (trgtMultiplicity.equals("-1")) {
          trgtMultiplicity = "n";
        }
      }


      // manually set the multiplicity string
      String strCardinality = srcMultiplicity + ".." + trgtMultiplicity;

      lazyReference.setCardinality(strCardinality);


      // Set if the link is containment or not
      boolean isContainment = objectasReference.isContainment();

      // If the target multiplicity is 'n', then this must be a containment link
      if (trgtMultiplicity.equals("n")) {
        isContainment = true;
      }

      if (isContainment) {
        lazyReference.setMetaclass(AGGREGATION_STRING);
      }
      lazyReference.setTargetClassName(objectasReference.getEType().getName());
      lazyReferences.add(lazyReference);
    }
    MapSequence.fromMap(MetaModelImporterCore.lazyReferences).put(classImpl.getName(), lazyReferences);
  }


  private String getCardinality(EReference emfLink) {
    String srcMultiplicity = "0";
    String srcMultStr = String.valueOf(emfLink.getLowerBound());

    // get the source multiplicity from the element
    if (!(Objects.equals(srcMultStr, null))) {
      srcMultiplicity = srcMultStr;
    }

    // set target multiplicity
    String trgtMultiplicity = "1";
    String trgtMultiStr = String.valueOf(emfLink.getUpperBound());

    // set the multiplicity if it exists in the element
    if (!(Objects.equals(trgtMultiStr, null))) {
      trgtMultiplicity = trgtMultiStr;

      // if the element has a target multiplicity
      // of -1, change it to n
      if (trgtMultiplicity.equals("-1")) {
        trgtMultiplicity = "n";
      }
    }

    // manually set the multiplicity string
    return srcMultiplicity + ".." + trgtMultiplicity;

  }

  private void addSuperClassess(EClassImpl classImpl) {
    List<LazyClassEnumReference> superClasses = new ArrayList<LazyClassEnumReference>();
    for (Object object : classImpl.getESuperTypes()) {
      EClassImpl superClass = (EClassImpl) object;
      superClasses.add(new LazyClassEnumReference(superClass.getName()));
    }
    MapSequence.fromMap(lazySuperClasses).put(classImpl.getName(), superClasses);
  }

  private SNode mapClassToInterface(SNode conceptNode) {
    SNode referenceToReturn = SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0xc72da2b97cce4447L, 0x8389f407dc1158b7L, 0x110356fc618L, "jetbrains.mps.lang.structure.structure.InterfaceConceptReference"));
    final SNode interfaceToReturn = SModelOperations.createNewRootNode(inputModel, MetaAdapterFactory.getConcept(0xc72da2b97cce4447L, 0x8389f407dc1158b7L, 0x1103556dcafL, "jetbrains.mps.lang.structure.structure.InterfaceConceptDeclaration"));
    SPropertyOperations.assign(interfaceToReturn, PROPS.name$MnvL, "i_" + SPropertyOperations.getString(conceptNode, PROPS.name$MnvL));
    SPropertyOperations.assign(interfaceToReturn, PROPS.conceptId$rrGe, String.valueOf(ConceptIdHelper.generateConceptId(inputModel, interfaceToReturn)));
    ListSequence.fromList(SLinkOperations.getChildren(conceptNode, LINKS.propertyDeclaration$YUgg)).visitAll((property) -> ListSequence.fromList(SLinkOperations.getChildren(interfaceToReturn, LINKS.propertyDeclaration$YUgg)).addElement(property));
    ListSequence.fromList(SLinkOperations.getChildren(conceptNode, LINKS.linkDeclaration$YU1f)).visitAll((child) -> ListSequence.fromList(SLinkOperations.getChildren(interfaceToReturn, LINKS.linkDeclaration$YU1f)).addElement(child));
    SLinkOperations.setTarget(referenceToReturn, LINKS.intfc$zM4e, interfaceToReturn);
    ListSequence.fromList(SLinkOperations.getChildren(conceptNode, LINKS.implements$u_P2)).addElement(SNodeOperations.copyNode(referenceToReturn));
    return referenceToReturn;
  }

  private void addProperties(SNode classNode, EClassImpl classImpl) {
    for (Object object : classImpl.getEAttributes()) {
      EAttribute objectasAttribute = (EAttribute) object;
      SNode newProperty = getPropertyFromEmfAttribute(objectasAttribute);
      ListSequence.fromList(SLinkOperations.getChildren(classNode, LINKS.propertyDeclaration$YUgg)).addElement(newProperty);
    }
  }

  public SNode getPropertyFromEmfAttribute(EAttribute objectasAttribute) {
    SNode newProperty = SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0xc72da2b97cce4447L, 0x8389f407dc1158b7L, 0xf979bd086bL, "jetbrains.mps.lang.structure.structure.PropertyDeclaration"));
    SPropertyOperations.assign(newProperty, PROPS.propertyId$m5HU, String.valueOf(((SNodeId.Regular) newProperty.getNodeId()).getId()));
    SPropertyOperations.assign(newProperty, PROPS.name$MnvL, objectasAttribute.getName());
    SLinkOperations.setTarget(newProperty, LINKS.dataType$5j5Y, getTypeAsMPSNode(newProperty, objectasAttribute.getEType().getName()));
    return newProperty;
  }

  public SNode getLinkFromEMFLink(final EReference emfLink) {
    SNode retLinkDeclaration = SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0xc72da2b97cce4447L, 0x8389f407dc1158b7L, 0xf979bd086aL, "jetbrains.mps.lang.structure.structure.LinkDeclaration"));
    SPropertyOperations.assign(retLinkDeclaration, PROPS.linkId$mi9g, String.valueOf(((SNodeId.Regular) (retLinkDeclaration.getNodeId())).getId()));
    SPropertyOperations.assign(retLinkDeclaration, PROPS.name$MnvL, emfLink.getName());
    SPropertyOperations.assignEnum(retLinkDeclaration, PROPS.sourceCardinality$cxYK, SEnumOperations.getMemberForPresentation(MetaAdapterFactory.getEnumeration(0xc72da2b97cce4447L, 0x8389f407dc1158b7L, 0xfc6f3944c2L, "jetbrains.mps.lang.structure.structure.Cardinality"), getCardinality(emfLink)));
    if (emfLink.isContainment()) {
      SPropertyOperations.assignEnum(retLinkDeclaration, PROPS.metaClass$PeKc, SEnumOperations.getMemberForName(MetaAdapterFactory.getEnumeration(0xc72da2b97cce4447L, 0x8389f407dc1158b7L, 0xfc6f4e95b7L, "jetbrains.mps.lang.structure.structure.LinkMetaclass"), AGGREGATION_STRING));
    }
    SLinkOperations.setTarget(retLinkDeclaration, LINKS.target$m40F, ListSequence.fromList(SModelOperations.nodes(inputModel, CONCEPTS.AbstractConceptDeclaration$KA)).findFirst((conceptDeclaration) -> Objects.equals(SPropertyOperations.getString(conceptDeclaration, PROPS.name$MnvL), emfLink.getEType().getName())));
    return retLinkDeclaration;
  }

  private SNode getTypeAsMPSNode(SNode propertyDeclaration, String typeAsELiteral) {
    // The string type is used for any type that is not a primitive type in MPS but a permitted type in EMF.
    // A string node without an annotation implies the primitive type string in MPS
    SNode retNode = (SNode) new SNodePointer("r:00000000-0000-4000-0000-011c89590288(jetbrains.mps.lang.core.structure)", "1082983041843").resolve(inputModel.getRepository());
    if (typeAsELiteral.equals(EcorePackage.eINSTANCE.getEFloat().getName())) {
      new IAttributeDescriptor.NodeAttribute(CONCEPTS.EMFDataTypeAnnotation$kh).set(propertyDeclaration, createEMFDataTypeAnnotation_fb454q_a0a0d0sb());
    } else if (typeAsELiteral.equals(EcorePackage.eINSTANCE.getEBigDecimal().getName())) {
      new IAttributeDescriptor.NodeAttribute(CONCEPTS.EMFDataTypeAnnotation$kh).set(propertyDeclaration, createEMFDataTypeAnnotation_fb454q_a0a0a3a44());
    } else if (typeAsELiteral.equals(EcorePackage.eINSTANCE.getEBigInteger().getName())) {
      new IAttributeDescriptor.NodeAttribute(CONCEPTS.EMFDataTypeAnnotation$kh).set(propertyDeclaration, createEMFDataTypeAnnotation_fb454q_a0a0b3a44());
    } else if (typeAsELiteral.equals(EcorePackage.eINSTANCE.getEBooleanObject().getName())) {
      new IAttributeDescriptor.NodeAttribute(CONCEPTS.EMFDataTypeAnnotation$kh).set(propertyDeclaration, createEMFDataTypeAnnotation_fb454q_a0a0c3a44());
    } else if (typeAsELiteral.equals(EcorePackage.eINSTANCE.getEByte().getName())) {
      new IAttributeDescriptor.NodeAttribute(CONCEPTS.EMFDataTypeAnnotation$kh).set(propertyDeclaration, createEMFDataTypeAnnotation_fb454q_a0a0d3a44());
    } else if (typeAsELiteral.equals(EcorePackage.eINSTANCE.getEByteArray().getName())) {
      new IAttributeDescriptor.NodeAttribute(CONCEPTS.EMFDataTypeAnnotation$kh).set(propertyDeclaration, createEMFDataTypeAnnotation_fb454q_a0a0e3a44());
    } else if (typeAsELiteral.equals(EcorePackage.eINSTANCE.getEByteObject().getName())) {
      new IAttributeDescriptor.NodeAttribute(CONCEPTS.EMFDataTypeAnnotation$kh).set(propertyDeclaration, createEMFDataTypeAnnotation_fb454q_a0a0f3a44());
    } else if (typeAsELiteral.equals(EcorePackage.eINSTANCE.getEChar().getName())) {
      new IAttributeDescriptor.NodeAttribute(CONCEPTS.EMFDataTypeAnnotation$kh).set(propertyDeclaration, createEMFDataTypeAnnotation_fb454q_a0a0g3a44());
    } else if (typeAsELiteral.equals(EcorePackage.eINSTANCE.getECharacterObject().getName())) {
      new IAttributeDescriptor.NodeAttribute(CONCEPTS.EMFDataTypeAnnotation$kh).set(propertyDeclaration, createEMFDataTypeAnnotation_fb454q_a0a0h3a44());
    } else if (typeAsELiteral.equals(EcorePackage.eINSTANCE.getEDate().getName())) {
      new IAttributeDescriptor.NodeAttribute(CONCEPTS.EMFDataTypeAnnotation$kh).set(propertyDeclaration, createEMFDataTypeAnnotation_fb454q_a0a0i3a44());
    } else if (typeAsELiteral.equals(EcorePackage.eINSTANCE.getEDiagnosticChain().getName())) {
      new IAttributeDescriptor.NodeAttribute(CONCEPTS.EMFDataTypeAnnotation$kh).set(propertyDeclaration, createEMFDataTypeAnnotation_fb454q_a0a0j3a44());
    } else if (typeAsELiteral.equals(EcorePackage.eINSTANCE.getEDouble().getName())) {
      new IAttributeDescriptor.NodeAttribute(CONCEPTS.EMFDataTypeAnnotation$kh).set(propertyDeclaration, createEMFDataTypeAnnotation_fb454q_a0a0k3a44());
    } else if (typeAsELiteral.equals(EcorePackage.eINSTANCE.getEDoubleObject().getName())) {
      new IAttributeDescriptor.NodeAttribute(CONCEPTS.EMFDataTypeAnnotation$kh).set(propertyDeclaration, createEMFDataTypeAnnotation_fb454q_a0a0l3a44());
    } else if (typeAsELiteral.equals(EcorePackage.eINSTANCE.getEEList().getName())) {
      new IAttributeDescriptor.NodeAttribute(CONCEPTS.EMFDataTypeAnnotation$kh).set(propertyDeclaration, createEMFDataTypeAnnotation_fb454q_a0a0m3a44());
    } else if (typeAsELiteral.equals(EcorePackage.eINSTANCE.getEEnumerator().getName())) {
      new IAttributeDescriptor.NodeAttribute(CONCEPTS.EMFDataTypeAnnotation$kh).set(propertyDeclaration, createEMFDataTypeAnnotation_fb454q_a0a0n3a44());
    } else if (typeAsELiteral.equals(EcorePackage.eINSTANCE.getEFeatureMap().getName())) {
      new IAttributeDescriptor.NodeAttribute(CONCEPTS.EMFDataTypeAnnotation$kh).set(propertyDeclaration, createEMFDataTypeAnnotation_fb454q_a0a0o3a44());
    } else if (typeAsELiteral.equals(EcorePackage.eINSTANCE.getEFeatureMapEntry().getName())) {
      new IAttributeDescriptor.NodeAttribute(CONCEPTS.EMFDataTypeAnnotation$kh).set(propertyDeclaration, createEMFDataTypeAnnotation_fb454q_a0a0p3a44());
    } else if (typeAsELiteral.equals(EcorePackage.eINSTANCE.getEFloatObject().getName())) {
      new IAttributeDescriptor.NodeAttribute(CONCEPTS.EMFDataTypeAnnotation$kh).set(propertyDeclaration, createEMFDataTypeAnnotation_fb454q_a0a0q3a44());
    } else if (typeAsELiteral.equals(EcorePackage.eINSTANCE.getEIntegerObject().getName())) {
      new IAttributeDescriptor.NodeAttribute(CONCEPTS.EMFDataTypeAnnotation$kh).set(propertyDeclaration, createEMFDataTypeAnnotation_fb454q_a0a0r3a44());
    } else if (typeAsELiteral.equals(EcorePackage.eINSTANCE.getEInvocationTargetException().getName())) {
      new IAttributeDescriptor.NodeAttribute(CONCEPTS.EMFDataTypeAnnotation$kh).set(propertyDeclaration, createEMFDataTypeAnnotation_fb454q_a0a0s3a44());
    } else if (typeAsELiteral.equals(EcorePackage.eINSTANCE.getEJavaClass().getName())) {
      new IAttributeDescriptor.NodeAttribute(CONCEPTS.EMFDataTypeAnnotation$kh).set(propertyDeclaration, createEMFDataTypeAnnotation_fb454q_a0a0t3a44());
    } else if (typeAsELiteral.equals(EcorePackage.eINSTANCE.getEJavaObject().getName())) {
      new IAttributeDescriptor.NodeAttribute(CONCEPTS.EMFDataTypeAnnotation$kh).set(propertyDeclaration, createEMFDataTypeAnnotation_fb454q_a0a0u3a44());
    } else if (typeAsELiteral.equals(EcorePackage.eINSTANCE.getELong().getName())) {
      new IAttributeDescriptor.NodeAttribute(CONCEPTS.EMFDataTypeAnnotation$kh).set(propertyDeclaration, createEMFDataTypeAnnotation_fb454q_a0a0v3a44());
    } else if (typeAsELiteral.equals(EcorePackage.eINSTANCE.getELongObject().getName())) {
      new IAttributeDescriptor.NodeAttribute(CONCEPTS.EMFDataTypeAnnotation$kh).set(propertyDeclaration, createEMFDataTypeAnnotation_fb454q_a0a0w3a44());
    } else if (typeAsELiteral.equals(EcorePackage.eINSTANCE.getEResource().getName())) {
      new IAttributeDescriptor.NodeAttribute(CONCEPTS.EMFDataTypeAnnotation$kh).set(propertyDeclaration, createEMFDataTypeAnnotation_fb454q_a0a0x3a44());
    } else if (typeAsELiteral.equals(EcorePackage.eINSTANCE.getEResourceSet().getName())) {
      new IAttributeDescriptor.NodeAttribute(CONCEPTS.EMFDataTypeAnnotation$kh).set(propertyDeclaration, createEMFDataTypeAnnotation_fb454q_a0a0y3a44());
    } else if (typeAsELiteral.equals(EcorePackage.eINSTANCE.getEShort().getName())) {
      new IAttributeDescriptor.NodeAttribute(CONCEPTS.EMFDataTypeAnnotation$kh).set(propertyDeclaration, createEMFDataTypeAnnotation_fb454q_a0a0z3a44());
    } else if (typeAsELiteral.equals(EcorePackage.eINSTANCE.getEShortObject().getName())) {
      new IAttributeDescriptor.NodeAttribute(CONCEPTS.EMFDataTypeAnnotation$kh).set(propertyDeclaration, createEMFDataTypeAnnotation_fb454q_a0a0ab3a44());
    } else if (typeAsELiteral.equals(EcorePackage.eINSTANCE.getETreeIterator().getName())) {
      new IAttributeDescriptor.NodeAttribute(CONCEPTS.EMFDataTypeAnnotation$kh).set(propertyDeclaration, createEMFDataTypeAnnotation_fb454q_a0a0bb3a44());
    } else if (typeAsELiteral.equals(EcorePackage.eINSTANCE.getEInt().getName())) {
      retNode = ((SNode) new SNodePointer("r:00000000-0000-4000-0000-011c89590288(jetbrains.mps.lang.core.structure)", "1082983657062").resolve(inputModel.getRepository()));

    } else if (typeAsELiteral.equals(EcorePackage.eINSTANCE.getEBoolean().getName())) {
      retNode = ((SNode) new SNodePointer("r:00000000-0000-4000-0000-011c89590288(jetbrains.mps.lang.core.structure)", "1082983657063").resolve(inputModel.getRepository()));
    } else if (typeAsELiteral.equals(EcorePackage.eINSTANCE.getEString().getName())) {
      retNode = ((SNode) new SNodePointer("r:00000000-0000-4000-0000-011c89590288(jetbrains.mps.lang.core.structure)", "1082983041843").resolve(inputModel.getRepository()));
    } else {
      String propertyId = SPropertyOperations.getString(propertyDeclaration, PROPS.propertyId$m5HU);
      LazyClassEnumReference enumRef = new LazyClassEnumReference(typeAsELiteral);
      if (MapSequence.fromMap(lazyPropertyEnumTypes).get(propertyId) == null) {
        MapSequence.fromMap(lazyPropertyEnumTypes).put(propertyId, ListSequence.fromList(new ArrayList<LazyClassEnumReference>()));
      }
      ListSequence.fromList(MapSequence.fromMap(lazyPropertyEnumTypes).get(propertyId)).addElement(enumRef);
    }
    return retNode;
  }

  public EClass findClassByName(String name, EPackage emfMetaModel) {
    EClassifier emfClass = emfMetaModel.getEClassifier(name);
    if (emfClass instanceof EClass) {
      return (EClass) emfClass;
    }
    return null;
  }

  public EEnum findEnumByName(String name, EPackage emfMetaModel) {
    EClassifier emfEnum = emfMetaModel.getEClassifier(name);
    if (emfEnum instanceof EClass) {
      return (EEnum) emfEnum;
    }
    return null;
  }


  public static void print(final String s) {
    // TODO: Make this properly log
    ApplicationManager.getApplication().invokeLater(() -> Messages.showMessageDialog(s, "Info", null));
  }

  public MetaModelImporterCore(SModel currentMdl, boolean genEnumInternalVal, String ecoreFileNm) {
    inputModel = currentMdl;
    genEnumInternalValues = genEnumInternalVal;
    ecoreFileName = ecoreFileNm;
    initMaps();
  }

  public boolean checkPropertyEquality(SNode mpsProperty, EAttribute emfProperty) {
    SNode temporaryPropertyForTypeCheck = SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0xc72da2b97cce4447L, 0x8389f407dc1158b7L, 0xf979bd086bL, "jetbrains.mps.lang.structure.structure.PropertyDeclaration"));
    boolean isNameEqual = Objects.equals(SPropertyOperations.getString(mpsProperty, PROPS.name$MnvL), emfProperty.getName());
    boolean isBaseTypeEqual = Objects.equals(SLinkOperations.getTarget(mpsProperty, LINKS.dataType$5j5Y), this.getTypeAsMPSNode(temporaryPropertyForTypeCheck, emfProperty.getEType().getName()));
    boolean isTypeAnnotationEqual = Objects.equals(new IAttributeDescriptor.NodeAttribute(CONCEPTS.EMFDataTypeAnnotation$kh).get(mpsProperty), new IAttributeDescriptor.NodeAttribute(CONCEPTS.EMFDataTypeAnnotation$kh).get(temporaryPropertyForTypeCheck));
    return isNameEqual && isBaseTypeEqual && isTypeAnnotationEqual;
  }

  public boolean checkLinkDeclarationEquality(SNode mpsLink, EReference emfLink) {
    // Comparing name
    boolean areNamesEqual = Objects.equals(SPropertyOperations.getString(mpsLink, PROPS.name$MnvL), emfLink.getName());

    // Comparing the cardinality
    char lowerBound = SEnumOperations.getMemberPresentation(SPropertyOperations.getEnum(mpsLink, PROPS.sourceCardinality$cxYK)).charAt(0);
    char upperBound = SEnumOperations.getMemberPresentation(SPropertyOperations.getEnum(mpsLink, PROPS.sourceCardinality$cxYK)).charAt(3);
    int mpsLowerBound = 0;
    int mpsUpperBound = 0;
    try {
      mpsLowerBound = Integer.valueOf(String.valueOf(lowerBound));
      if (Objects.equals(upperBound, 'n')) {
        mpsUpperBound = -1;
      } else {
        mpsUpperBound = Integer.valueOf(String.valueOf(upperBound));
      }
    } catch (Exception e) {
      print("Could not parse bounds for " + SPropertyOperations.getString(mpsLink, PROPS.name$MnvL) + " [" + lowerBound + "," + upperBound + "]");
    }
    boolean isCardinalityEqual = Objects.equals(mpsLowerBound, emfLink.getLowerBound()) && Objects.equals(mpsUpperBound, emfLink.getUpperBound());


    // Comparing target class
    boolean areTargetsEqual = Objects.equals(SPropertyOperations.getString(SLinkOperations.getTarget(mpsLink, LINKS.target$m40F), PROPS.name$MnvL), emfLink.getEType().getName());

    // Comparing type of link declaration (child/reference)
    boolean areLinkDeclarationTypesEqual = true;
    // If the emf reference type is containment, then meta class of mps link MUST BE "aggregation"
    if (emfLink.isContainment()) {
      if (!(Objects.equals(SEnumOperations.getMemberName0(SPropertyOperations.getEnum(mpsLink, PROPS.metaClass$PeKc)), AGGREGATION_STRING))) {
        areLinkDeclarationTypesEqual = false;
      }
    }

    return areNamesEqual && isCardinalityEqual && areTargetsEqual && areLinkDeclarationTypesEqual;
  }

  private static SNode createInterfaceConceptDeclaration_fb454q_a0a0b0r() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.InterfaceConceptDeclaration$CG);
    return n0.getResult();
  }
  private static SNode createConceptDeclaration_fb454q_a0a0a1a71() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.ConceptDeclaration$gH);
    n0.setProperty(PROPS.rootable$_9pz, "" + (true));
    return n0.getResult();
  }
  private static SNode createEnumerationMemberDeclaration_fb454q_a0a2a2a91(String p0, String p1) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.EnumerationMemberDeclaration$s9);
    n0.setProperty(PROPS.name$MnvL, p0);
    n0.setProperty(PROPS.memberId$LVXV, p1);
    return n0.getResult();
  }
  private static SNode createEnumerationDeclaration_fb454q_a0a3a91(String p0, Iterable<? extends SNode> p1) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.EnumerationDeclaration$hv);
    n0.setProperty(PROPS.name$MnvL, p0);
    n0.forChild(LINKS.members$wmsL).initNodeList(p1, CONCEPTS.EnumerationMemberDeclaration$s9);
    return n0.getResult();
  }
  private static SNode createEMFDataTypeAnnotation_fb454q_a0a0d0sb() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.EMFDataTypeAnnotation$kh);
    n0.forChild(LINKS.type$h12x).init(CONCEPTS.EFloat$Ph);
    return n0.getResult();
  }
  private static SNode createEMFDataTypeAnnotation_fb454q_a0a0a3a44() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.EMFDataTypeAnnotation$kh);
    n0.forChild(LINKS.type$h12x).init(CONCEPTS.EBigDecimal$rJ);
    return n0.getResult();
  }
  private static SNode createEMFDataTypeAnnotation_fb454q_a0a0b3a44() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.EMFDataTypeAnnotation$kh);
    n0.forChild(LINKS.type$h12x).init(CONCEPTS.EBigInteger$1K);
    return n0.getResult();
  }
  private static SNode createEMFDataTypeAnnotation_fb454q_a0a0c3a44() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.EMFDataTypeAnnotation$kh);
    n0.forChild(LINKS.type$h12x).init(CONCEPTS.EBooleanObject$dR);
    return n0.getResult();
  }
  private static SNode createEMFDataTypeAnnotation_fb454q_a0a0d3a44() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.EMFDataTypeAnnotation$kh);
    n0.forChild(LINKS.type$h12x).init(CONCEPTS.EByte$eP);
    return n0.getResult();
  }
  private static SNode createEMFDataTypeAnnotation_fb454q_a0a0e3a44() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.EMFDataTypeAnnotation$kh);
    n0.forChild(LINKS.type$h12x).init(CONCEPTS.EByteArray$fN);
    return n0.getResult();
  }
  private static SNode createEMFDataTypeAnnotation_fb454q_a0a0f3a44() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.EMFDataTypeAnnotation$kh);
    n0.forChild(LINKS.type$h12x).init(CONCEPTS.EByteObject$gL);
    return n0.getResult();
  }
  private static SNode createEMFDataTypeAnnotation_fb454q_a0a0g3a44() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.EMFDataTypeAnnotation$kh);
    n0.forChild(LINKS.type$h12x).init(CONCEPTS.EChar$nf);
    return n0.getResult();
  }
  private static SNode createEMFDataTypeAnnotation_fb454q_a0a0h3a44() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.EMFDataTypeAnnotation$kh);
    n0.forChild(LINKS.type$h12x).init(CONCEPTS.ECharacterObject$od);
    return n0.getResult();
  }
  private static SNode createEMFDataTypeAnnotation_fb454q_a0a0i3a44() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.EMFDataTypeAnnotation$kh);
    n0.forChild(LINKS.type$h12x).init(CONCEPTS.EDate$pb);
    return n0.getResult();
  }
  private static SNode createEMFDataTypeAnnotation_fb454q_a0a0j3a44() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.EMFDataTypeAnnotation$kh);
    n0.forChild(LINKS.type$h12x).init(CONCEPTS.EDiagnosticChain$q9);
    return n0.getResult();
  }
  private static SNode createEMFDataTypeAnnotation_fb454q_a0a0k3a44() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.EMFDataTypeAnnotation$kh);
    n0.forChild(LINKS.type$h12x).init(CONCEPTS.EDouble$r7);
    return n0.getResult();
  }
  private static SNode createEMFDataTypeAnnotation_fb454q_a0a0l3a44() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.EMFDataTypeAnnotation$kh);
    n0.forChild(LINKS.type$h12x).init(CONCEPTS.EDoubleObject$Ag);
    return n0.getResult();
  }
  private static SNode createEMFDataTypeAnnotation_fb454q_a0a0m3a44() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.EMFDataTypeAnnotation$kh);
    n0.forChild(LINKS.type$h12x).init(CONCEPTS.EEList$Be);
    return n0.getResult();
  }
  private static SNode createEMFDataTypeAnnotation_fb454q_a0a0n3a44() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.EMFDataTypeAnnotation$kh);
    n0.forChild(LINKS.type$h12x).init(CONCEPTS.EEnumerator$Cc);
    return n0.getResult();
  }
  private static SNode createEMFDataTypeAnnotation_fb454q_a0a0o3a44() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.EMFDataTypeAnnotation$kh);
    n0.forChild(LINKS.type$h12x).init(CONCEPTS.EFeatureMap$Da);
    return n0.getResult();
  }
  private static SNode createEMFDataTypeAnnotation_fb454q_a0a0p3a44() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.EMFDataTypeAnnotation$kh);
    n0.forChild(LINKS.type$h12x).init(CONCEPTS.EFeatureMapEntry$E8);
    return n0.getResult();
  }
  private static SNode createEMFDataTypeAnnotation_fb454q_a0a0q3a44() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.EMFDataTypeAnnotation$kh);
    n0.forChild(LINKS.type$h12x).init(CONCEPTS.EFloatObject$Qf);
    return n0.getResult();
  }
  private static SNode createEMFDataTypeAnnotation_fb454q_a0a0r3a44() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.EMFDataTypeAnnotation$kh);
    n0.forChild(LINKS.type$h12x).init(CONCEPTS.EIntegerObject$T9);
    return n0.getResult();
  }
  private static SNode createEMFDataTypeAnnotation_fb454q_a0a0s3a44() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.EMFDataTypeAnnotation$kh);
    n0.forChild(LINKS.type$h12x).init(CONCEPTS.EInvocationTargetException$yk);
    return n0.getResult();
  }
  private static SNode createEMFDataTypeAnnotation_fb454q_a0a0t3a44() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.EMFDataTypeAnnotation$kh);
    n0.forChild(LINKS.type$h12x).init(CONCEPTS.EJavaClass$Rd);
    return n0.getResult();
  }
  private static SNode createEMFDataTypeAnnotation_fb454q_a0a0u3a44() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.EMFDataTypeAnnotation$kh);
    n0.forChild(LINKS.type$h12x).init(CONCEPTS.EJavaObject$4i);
    return n0.getResult();
  }
  private static SNode createEMFDataTypeAnnotation_fb454q_a0a0v3a44() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.EMFDataTypeAnnotation$kh);
    n0.forChild(LINKS.type$h12x).init(CONCEPTS.ELong$5g);
    return n0.getResult();
  }
  private static SNode createEMFDataTypeAnnotation_fb454q_a0a0w3a44() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.EMFDataTypeAnnotation$kh);
    n0.forChild(LINKS.type$h12x).init(CONCEPTS.ELongObject$6e);
    return n0.getResult();
  }
  private static SNode createEMFDataTypeAnnotation_fb454q_a0a0x3a44() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.EMFDataTypeAnnotation$kh);
    n0.forChild(LINKS.type$h12x).init(CONCEPTS.EResource$8a);
    return n0.getResult();
  }
  private static SNode createEMFDataTypeAnnotation_fb454q_a0a0y3a44() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.EMFDataTypeAnnotation$kh);
    n0.forChild(LINKS.type$h12x).init(CONCEPTS.EResourceSet$jj);
    return n0.getResult();
  }
  private static SNode createEMFDataTypeAnnotation_fb454q_a0a0z3a44() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.EMFDataTypeAnnotation$kh);
    n0.forChild(LINKS.type$h12x).init(CONCEPTS.EShort$kh);
    return n0.getResult();
  }
  private static SNode createEMFDataTypeAnnotation_fb454q_a0a0ab3a44() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.EMFDataTypeAnnotation$kh);
    n0.forChild(LINKS.type$h12x).init(CONCEPTS.EShortObject$lf);
    return n0.getResult();
  }
  private static SNode createEMFDataTypeAnnotation_fb454q_a0a0bb3a44() {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.EMFDataTypeAnnotation$kh);
    n0.forChild(LINKS.type$h12x).init(CONCEPTS.ETreeIterator$md);
    return n0.getResult();
  }

  private static final class PROPS {
    /*package*/ static final SProperty abstract$ibpT = MetaAdapterFactory.getProperty(0xc72da2b97cce4447L, 0x8389f407dc1158b7L, 0x1103553c5ffL, 0x403a32c5772c7ec2L, "abstract");
    /*package*/ static final SProperty conceptId$rrGe = MetaAdapterFactory.getProperty(0xc72da2b97cce4447L, 0x8389f407dc1158b7L, 0x1103553c5ffL, 0x5d2e6079771f8cc0L, "conceptId");
    /*package*/ static final SProperty name$MnvL = MetaAdapterFactory.getProperty(0xceab519525ea4f22L, 0x9b92103b95ca8c0cL, 0x110396eaaa4L, 0x110396ec041L, "name");
    /*package*/ static final SProperty propertyId$m5HU = MetaAdapterFactory.getProperty(0xc72da2b97cce4447L, 0x8389f407dc1158b7L, 0xf979bd086bL, 0x35a81382d82a4d9L, "propertyId");
    /*package*/ static final SProperty linkId$mi9g = MetaAdapterFactory.getProperty(0xc72da2b97cce4447L, 0x8389f407dc1158b7L, 0xf979bd086aL, 0x35a81382d82a4e4L, "linkId");
    /*package*/ static final SProperty sourceCardinality$cxYK = MetaAdapterFactory.getProperty(0xc72da2b97cce4447L, 0x8389f407dc1158b7L, 0xf979bd086aL, 0xf98054bb04L, "sourceCardinality");
    /*package*/ static final SProperty metaClass$PeKc = MetaAdapterFactory.getProperty(0xc72da2b97cce4447L, 0x8389f407dc1158b7L, 0xf979bd086aL, 0xf980556927L, "metaClass");
    /*package*/ static final SProperty rootable$_9pz = MetaAdapterFactory.getProperty(0xc72da2b97cce4447L, 0x8389f407dc1158b7L, 0xf979ba0450L, 0xff49c1d648L, "rootable");
    /*package*/ static final SProperty memberId$LVXV = MetaAdapterFactory.getProperty(0xc72da2b97cce4447L, 0x8389f407dc1158b7L, 0x2e770ca32c607c60L, 0x13b8f6fdce540e38L, "memberId");
  }

  private static final class CONCEPTS {
    /*package*/ static final SConcept PropertyDeclaration$1S = MetaAdapterFactory.getConcept(0xc72da2b97cce4447L, 0x8389f407dc1158b7L, 0xf979bd086bL, "jetbrains.mps.lang.structure.structure.PropertyDeclaration");
    /*package*/ static final SConcept EnumerationDeclaration$hv = MetaAdapterFactory.getConcept(0xc72da2b97cce4447L, 0x8389f407dc1158b7L, 0x2e770ca32c607c5fL, "jetbrains.mps.lang.structure.structure.EnumerationDeclaration");
    /*package*/ static final SConcept AbstractConceptDeclaration$KA = MetaAdapterFactory.getConcept(0xc72da2b97cce4447L, 0x8389f407dc1158b7L, 0x1103553c5ffL, "jetbrains.mps.lang.structure.structure.AbstractConceptDeclaration");
    /*package*/ static final SConcept InterfaceConceptDeclaration$CG = MetaAdapterFactory.getConcept(0xc72da2b97cce4447L, 0x8389f407dc1158b7L, 0x1103556dcafL, "jetbrains.mps.lang.structure.structure.InterfaceConceptDeclaration");
    /*package*/ static final SConcept ConceptDeclaration$gH = MetaAdapterFactory.getConcept(0xc72da2b97cce4447L, 0x8389f407dc1158b7L, 0xf979ba0450L, "jetbrains.mps.lang.structure.structure.ConceptDeclaration");
    /*package*/ static final SConcept EMFDataTypeAnnotation$kh = MetaAdapterFactory.getConcept(0x77948de36ef9452dL, 0xb392d01403e4086fL, 0x2990aca634f8cfdeL, "com.mbeddr.mpsutil.ecore.structure.EMFDataTypeAnnotation");
    /*package*/ static final SConcept EnumerationMemberDeclaration$s9 = MetaAdapterFactory.getConcept(0xc72da2b97cce4447L, 0x8389f407dc1158b7L, 0x2e770ca32c607c60L, "jetbrains.mps.lang.structure.structure.EnumerationMemberDeclaration");
    /*package*/ static final SConcept EFloat$Ph = MetaAdapterFactory.getConcept(0x77948de36ef9452dL, 0xb392d01403e4086fL, 0x2990aca634fd1858L, "com.mbeddr.mpsutil.ecore.structure.EFloat");
    /*package*/ static final SConcept EBigDecimal$rJ = MetaAdapterFactory.getConcept(0x77948de36ef9452dL, 0xb392d01403e4086fL, 0x2990aca634fa66bfL, "com.mbeddr.mpsutil.ecore.structure.EBigDecimal");
    /*package*/ static final SConcept EBigInteger$1K = MetaAdapterFactory.getConcept(0x77948de36ef9452dL, 0xb392d01403e4086fL, 0x2990aca634fd1838L, "com.mbeddr.mpsutil.ecore.structure.EBigInteger");
    /*package*/ static final SConcept EBooleanObject$dR = MetaAdapterFactory.getConcept(0x77948de36ef9452dL, 0xb392d01403e4086fL, 0x2990aca634fd183cL, "com.mbeddr.mpsutil.ecore.structure.EBooleanObject");
    /*package*/ static final SConcept EByte$eP = MetaAdapterFactory.getConcept(0x77948de36ef9452dL, 0xb392d01403e4086fL, 0x2990aca634fd183eL, "com.mbeddr.mpsutil.ecore.structure.EByte");
    /*package*/ static final SConcept EByteArray$fN = MetaAdapterFactory.getConcept(0x77948de36ef9452dL, 0xb392d01403e4086fL, 0x2990aca634fd1840L, "com.mbeddr.mpsutil.ecore.structure.EByteArray");
    /*package*/ static final SConcept EByteObject$gL = MetaAdapterFactory.getConcept(0x77948de36ef9452dL, 0xb392d01403e4086fL, 0x2990aca634fd1842L, "com.mbeddr.mpsutil.ecore.structure.EByteObject");
    /*package*/ static final SConcept EChar$nf = MetaAdapterFactory.getConcept(0x77948de36ef9452dL, 0xb392d01403e4086fL, 0x2990aca634fd1844L, "com.mbeddr.mpsutil.ecore.structure.EChar");
    /*package*/ static final SConcept ECharacterObject$od = MetaAdapterFactory.getConcept(0x77948de36ef9452dL, 0xb392d01403e4086fL, 0x2990aca634fd1846L, "com.mbeddr.mpsutil.ecore.structure.ECharacterObject");
    /*package*/ static final SConcept EDate$pb = MetaAdapterFactory.getConcept(0x77948de36ef9452dL, 0xb392d01403e4086fL, 0x2990aca634fd1848L, "com.mbeddr.mpsutil.ecore.structure.EDate");
    /*package*/ static final SConcept EDiagnosticChain$q9 = MetaAdapterFactory.getConcept(0x77948de36ef9452dL, 0xb392d01403e4086fL, 0x2990aca634fd184aL, "com.mbeddr.mpsutil.ecore.structure.EDiagnosticChain");
    /*package*/ static final SConcept EDouble$r7 = MetaAdapterFactory.getConcept(0x77948de36ef9452dL, 0xb392d01403e4086fL, 0x2990aca634fd184cL, "com.mbeddr.mpsutil.ecore.structure.EDouble");
    /*package*/ static final SConcept EDoubleObject$Ag = MetaAdapterFactory.getConcept(0x77948de36ef9452dL, 0xb392d01403e4086fL, 0x2990aca634fd184eL, "com.mbeddr.mpsutil.ecore.structure.EDoubleObject");
    /*package*/ static final SConcept EEList$Be = MetaAdapterFactory.getConcept(0x77948de36ef9452dL, 0xb392d01403e4086fL, 0x2990aca634fd1850L, "com.mbeddr.mpsutil.ecore.structure.EEList");
    /*package*/ static final SConcept EEnumerator$Cc = MetaAdapterFactory.getConcept(0x77948de36ef9452dL, 0xb392d01403e4086fL, 0x2990aca634fd1852L, "com.mbeddr.mpsutil.ecore.structure.EEnumerator");
    /*package*/ static final SConcept EFeatureMap$Da = MetaAdapterFactory.getConcept(0x77948de36ef9452dL, 0xb392d01403e4086fL, 0x2990aca634fd1854L, "com.mbeddr.mpsutil.ecore.structure.EFeatureMap");
    /*package*/ static final SConcept EFeatureMapEntry$E8 = MetaAdapterFactory.getConcept(0x77948de36ef9452dL, 0xb392d01403e4086fL, 0x2990aca634fd1856L, "com.mbeddr.mpsutil.ecore.structure.EFeatureMapEntry");
    /*package*/ static final SConcept EFloatObject$Qf = MetaAdapterFactory.getConcept(0x77948de36ef9452dL, 0xb392d01403e4086fL, 0x2990aca634fd185aL, "com.mbeddr.mpsutil.ecore.structure.EFloatObject");
    /*package*/ static final SConcept EIntegerObject$T9 = MetaAdapterFactory.getConcept(0x77948de36ef9452dL, 0xb392d01403e4086fL, 0x2990aca634fd1860L, "com.mbeddr.mpsutil.ecore.structure.EIntegerObject");
    /*package*/ static final SConcept EInvocationTargetException$yk = MetaAdapterFactory.getConcept(0x77948de36ef9452dL, 0xb392d01403e4086fL, 0x2990aca634fd1876L, "com.mbeddr.mpsutil.ecore.structure.EInvocationTargetException");
    /*package*/ static final SConcept EJavaClass$Rd = MetaAdapterFactory.getConcept(0x77948de36ef9452dL, 0xb392d01403e4086fL, 0x2990aca634fd185cL, "com.mbeddr.mpsutil.ecore.structure.EJavaClass");
    /*package*/ static final SConcept EJavaObject$4i = MetaAdapterFactory.getConcept(0x77948de36ef9452dL, 0xb392d01403e4086fL, 0x2990aca634fd1862L, "com.mbeddr.mpsutil.ecore.structure.EJavaObject");
    /*package*/ static final SConcept ELong$5g = MetaAdapterFactory.getConcept(0x77948de36ef9452dL, 0xb392d01403e4086fL, 0x2990aca634fd1864L, "com.mbeddr.mpsutil.ecore.structure.ELong");
    /*package*/ static final SConcept ELongObject$6e = MetaAdapterFactory.getConcept(0x77948de36ef9452dL, 0xb392d01403e4086fL, 0x2990aca634fd1866L, "com.mbeddr.mpsutil.ecore.structure.ELongObject");
    /*package*/ static final SConcept EResource$8a = MetaAdapterFactory.getConcept(0x77948de36ef9452dL, 0xb392d01403e4086fL, 0x2990aca634fd186aL, "com.mbeddr.mpsutil.ecore.structure.EResource");
    /*package*/ static final SConcept EResourceSet$jj = MetaAdapterFactory.getConcept(0x77948de36ef9452dL, 0xb392d01403e4086fL, 0x2990aca634fd186cL, "com.mbeddr.mpsutil.ecore.structure.EResourceSet");
    /*package*/ static final SConcept EShort$kh = MetaAdapterFactory.getConcept(0x77948de36ef9452dL, 0xb392d01403e4086fL, 0x2990aca634fd186eL, "com.mbeddr.mpsutil.ecore.structure.EShort");
    /*package*/ static final SConcept EShortObject$lf = MetaAdapterFactory.getConcept(0x77948de36ef9452dL, 0xb392d01403e4086fL, 0x2990aca634fd1870L, "com.mbeddr.mpsutil.ecore.structure.EShortObject");
    /*package*/ static final SConcept ETreeIterator$md = MetaAdapterFactory.getConcept(0x77948de36ef9452dL, 0xb392d01403e4086fL, 0x2990aca634fd1872L, "com.mbeddr.mpsutil.ecore.structure.ETreeIterator");
  }

  private static final class LINKS {
    /*package*/ static final SReferenceLink dataType$5j5Y = MetaAdapterFactory.getReferenceLink(0xc72da2b97cce4447L, 0x8389f407dc1158b7L, 0xf979bd086bL, 0xfc26f42fe5L, "dataType");
    /*package*/ static final SReferenceLink target$m40F = MetaAdapterFactory.getReferenceLink(0xc72da2b97cce4447L, 0x8389f407dc1158b7L, 0xf979bd086aL, 0xf98055fef0L, "target");
    /*package*/ static final SContainmentLink linkDeclaration$YU1f = MetaAdapterFactory.getContainmentLink(0xc72da2b97cce4447L, 0x8389f407dc1158b7L, 0x1103553c5ffL, 0xf979c3ba6bL, "linkDeclaration");
    /*package*/ static final SContainmentLink extends$nawU = MetaAdapterFactory.getContainmentLink(0xc72da2b97cce4447L, 0x8389f407dc1158b7L, 0x1103556dcafL, 0x110356e9df4L, "extends");
    /*package*/ static final SContainmentLink implements$u_P2 = MetaAdapterFactory.getContainmentLink(0xc72da2b97cce4447L, 0x8389f407dc1158b7L, 0xf979ba0450L, 0x110358d693eL, "implements");
    /*package*/ static final SReferenceLink extends$_Isg = MetaAdapterFactory.getReferenceLink(0xc72da2b97cce4447L, 0x8389f407dc1158b7L, 0xf979ba0450L, 0xf979be93cfL, "extends");
    /*package*/ static final SReferenceLink intfc$zM4e = MetaAdapterFactory.getReferenceLink(0xc72da2b97cce4447L, 0x8389f407dc1158b7L, 0x110356fc618L, 0x110356fe029L, "intfc");
    /*package*/ static final SContainmentLink propertyDeclaration$YUgg = MetaAdapterFactory.getContainmentLink(0xc72da2b97cce4447L, 0x8389f407dc1158b7L, 0x1103553c5ffL, 0xf979c3ba6cL, "propertyDeclaration");
    /*package*/ static final SContainmentLink members$wmsL = MetaAdapterFactory.getContainmentLink(0xc72da2b97cce4447L, 0x8389f407dc1158b7L, 0x2e770ca32c607c5fL, 0x2e770ca32c607cc1L, "members");
    /*package*/ static final SContainmentLink type$h12x = MetaAdapterFactory.getContainmentLink(0x77948de36ef9452dL, 0xb392d01403e4086fL, 0x2990aca634f8cfdeL, 0x2990aca634facfefL, "type");
  }
}
