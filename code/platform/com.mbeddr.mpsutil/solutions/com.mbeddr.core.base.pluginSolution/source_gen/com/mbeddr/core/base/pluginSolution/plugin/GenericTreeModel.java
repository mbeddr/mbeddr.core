package com.mbeddr.core.base.pluginSolution.plugin;

/*Generated by MPS */

import javax.swing.tree.TreeModel;
import com.mbeddr.core.base.behavior.AbstractTreeViewNode;
import java.util.List;
import javax.swing.event.TreeModelListener;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import java.util.ArrayList;
import javax.swing.tree.TreePath;

public class GenericTreeModel implements TreeModel {

  private AbstractTreeViewNode root;
  private List<TreeModelListener> listeners = ListSequence.fromList(new ArrayList<TreeModelListener>());

  public GenericTreeModel(AbstractTreeViewNode root) {
    this.root = root;
  }

  public Object getRoot() {
    return root;
  }

  public int getChildCount(Object parent) {
    return ((AbstractTreeViewNode) parent).getChildCount();
  }

  public Object getChild(Object parent, int i) {
    AbstractTreeViewNode child = ListSequence.fromList(((AbstractTreeViewNode) parent).getChildren()).getElement(i);
    if (parent instanceof AbstractTreeViewNode && child != null) {
      child.setParent(((AbstractTreeViewNode) parent));
    }
    return child;
  }

  public boolean isLeaf(Object object) {
    if (object instanceof AbstractTreeViewNode) {
      return ((AbstractTreeViewNode) object).getChildCount() == 0;
    }
    return false;
  }

  public void valueForPathChanged(TreePath path, Object object) {
  }

  public int getIndexOfChild(Object parentObject, Object childObject) {
    return ListSequence.fromList(((AbstractTreeViewNode) parentObject).getChildren()).indexOf(((AbstractTreeViewNode) childObject));
  }

  public void addTreeModelListener(TreeModelListener listener) {
    ListSequence.fromList(listeners).addElement(listener);
  }

  public void removeTreeModelListener(TreeModelListener listener) {
    ListSequence.fromList(listeners).removeElement(listener);
  }

}
