package com.mbeddr.core.base.pluginSolution.plugin;

/*Generated by MPS */

import jetbrains.mps.plugins.tool.GeneratedTool;
import javax.swing.Icon;
import com.intellij.icons.AllIcons;
import com.intellij.openapi.project.Project;
import jetbrains.mps.ide.tools.BaseTool;
import com.intellij.openapi.wm.ToolWindowAnchor;
import jetbrains.mps.project.MPSProject;
import java.awt.Container;
import com.intellij.openapi.application.ApplicationManager;
import org.jetbrains.mps.openapi.model.SModel;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SModelOperations;
import org.jetbrains.mps.openapi.module.SModule;
import javax.swing.JComponent;

public class MbeddrSearchViewer_Tool extends GeneratedTool {
  private static final Icon ICON = AllIcons.Actions.Search;
  private SearchViewer myComponent;
  public MbeddrSearchViewer_Tool(Project project) {
    super(project, "Search", BaseTool.shortcutsFromNumber(7), ICON, ToolWindowAnchor.BOTTOM, false);
  }
  public void init(Project project) {
    super.init(project);
    MbeddrSearchViewer_Tool.this.myComponent = new SearchViewer(project.getComponent(MPSProject.class), MbeddrSearchViewer_Tool.this);
    MbeddrSearchViewer_Tool.this.setProject();
  }
  public void dispose() {
    if (MbeddrSearchViewer_Tool.this.myComponent == null) {
      return;
    }
    Container container = MbeddrSearchViewer_Tool.this.myComponent.getParent();
    if (container != null) {
      container.remove(MbeddrSearchViewer_Tool.this.myComponent);
    }
    MbeddrSearchViewer_Tool.this.myComponent.dispose();
    MbeddrSearchViewer_Tool.this.myComponent = null;
    super.dispose();
  }
  @Override
  protected boolean isInitiallyAvailable() {
    return true;
  }
  public void setGlobal() {
    MbeddrSearchViewer_Tool.this.myComponent.setGlobalScope();
    ApplicationManager.getApplication().invokeLater(() -> MbeddrSearchViewer_Tool.this.getToolWindow().setTitle("global"));
  }
  public void setProject() {
    MbeddrSearchViewer_Tool.this.myComponent.setProjectScope();
    ApplicationManager.getApplication().invokeLater(() -> MbeddrSearchViewer_Tool.this.getToolWindow().setTitle("project"));
  }
  public void setModel(final SModel m) {
    MbeddrSearchViewer_Tool.this.myComponent.setModelScope(m);
    ApplicationManager.getApplication().invokeLater(() -> MbeddrSearchViewer_Tool.this.getToolWindow().setTitle("model " + SModelOperations.getModelName(m)));
  }
  public void setModule(final SModule module) {
    MbeddrSearchViewer_Tool.this.myComponent.setModuleScope(module);
    ApplicationManager.getApplication().invokeLater(() -> MbeddrSearchViewer_Tool.this.getToolWindow().setTitle("module " + module.getModuleName()));
  }
  public JComponent getComponent() {
    return MbeddrSearchViewer_Tool.this.myComponent;
  }
}
