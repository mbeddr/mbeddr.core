package com.mbeddr.core.base.pluginSolution.plugin;

/*Generated by MPS */

import javax.swing.JTree;

public class TreeExpansionHelper {

  private JTree tree;
  private String expansionState;


  public TreeExpansionHelper(JTree tree) {
    this.tree = tree;
  }

  public void captureExpansionState() {
    StringBuilder sb = new StringBuilder();
    if (this.tree == null) {
      expansionState = "";
      return;
    }
    for (int i = 0; i < tree.getRowCount(); i++) {
      if (tree.isExpanded(i)) {
        sb.append(i).append(",");
      }
    }
    expansionState = sb.toString();
  }

  public String getExpansionState() {
    return this.expansionState;
  }

  public void resetExpansionState() {
    resetExpansionState(expansionState);
  }

  public void resetExpansionState(String s) {
    if (s != null) {
      String[] indexes = s.split(",");
      for (String st : indexes) {
        try {
          int row = Integer.parseInt(st);
          tree.expandRow(row);
        } catch (NumberFormatException ignore) {
        }
      }
    }
  }
}
