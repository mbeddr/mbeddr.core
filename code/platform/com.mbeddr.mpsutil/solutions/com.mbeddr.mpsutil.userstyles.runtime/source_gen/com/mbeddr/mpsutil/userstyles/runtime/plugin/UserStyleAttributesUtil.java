package com.mbeddr.mpsutil.userstyles.runtime.plugin;

/*Generated by MPS */

import com.intellij.openapi.editor.markup.TextAttributes;
import com.intellij.openapi.editor.markup.EffectType;
import java.awt.Color;
import com.intellij.openapi.application.ApplicationManager;
import com.intellij.openapi.editor.colors.EditorColorsManager;
import com.intellij.openapi.editor.colors.TextAttributesKey;

public class UserStyleAttributesUtil {

  public static boolean isUnderlined(String key, boolean defaultValue) {
    TextAttributes attributes = getAttributes(key);
    if (attributes == null) {
      return defaultValue;
    }
    EffectType effectType = attributes.getEffectType();
    if (effectType == null) {
      return defaultValue;
    }
    return effectType == EffectType.BOLD_DOTTED_LINE || effectType == EffectType.BOLD_LINE_UNDERSCORE || effectType == EffectType.LINE_UNDERSCORE || effectType == EffectType.WAVE_UNDERSCORE;
  }

  public static boolean hasUnderlined(String key) {
    TextAttributes attributes = getAttributes(key);
    if (attributes == null) {
      return false;
    }
    EffectType effectType = attributes.getEffectType();
    if (effectType == null) {
      return false;
    }
    return true;
  }

  public static boolean isStrikeout(String key, boolean defaultValue) {
    TextAttributes attributes = getAttributes(key);
    if (attributes == null) {
      return defaultValue;
    }
    EffectType effectType = attributes.getEffectType();
    if (effectType == null) {
      return defaultValue;
    }
    return effectType == EffectType.STRIKEOUT;
  }

  public static boolean hasStrikeout(String key) {
    TextAttributes attributes = getAttributes(key);
    if (attributes == null) {
      return false;
    }
    EffectType effectType = attributes.getEffectType();
    if (effectType == null) {
      return false;
    }
    return true;
  }

  public static Color getForegroundColor(String key, Color defaultValue) {
    TextAttributes attributes = getAttributes(key);
    if (attributes == null) {
      return defaultValue;
    }
    Color color = attributes.getForegroundColor();
    if (color == null) {
      return defaultValue;
    }
    return color;
  }

  public static boolean hasForegroundColor(String key) {
    TextAttributes attributes = getAttributes(key);
    if (attributes == null) {
      return false;
    }
    Color color = attributes.getForegroundColor();
    if (color == null) {
      return false;
    }
    return true;
  }

  public static Color getBackgroundColor(String key, Color defaultValue) {
    TextAttributes attributes = getAttributes(key);
    if (attributes == null) {
      return defaultValue;
    }
    Color color = attributes.getBackgroundColor();
    if (color == null) {
      return defaultValue;
    }
    return color;
  }

  public static boolean hasBackgroundColor(String key) {
    TextAttributes attributes = getAttributes(key);
    if (attributes == null) {
      return false;
    }
    Color color = attributes.getBackgroundColor();
    if (color == null) {
      return false;
    }
    return true;
  }

  public static int getFontStyle(String key, int defaultValue) {
    TextAttributes attributes = getAttributes(key);
    if (attributes == null) {
      return defaultValue;
    }
    return attributes.getFontType();
  }

  public static boolean hasFontStyle(String key) {
    TextAttributes attributes = getAttributes(key);
    if (attributes == null) {
      return false;
    }
    return true;
  }

  protected static TextAttributes getAttributes(String key) {
    if (ApplicationManager.getApplication() != null) {
      return EditorColorsManager.getInstance().getGlobalScheme().getAttributes(TextAttributesKey.createTextAttributesKey(key));
    }
    return null;
  }

}
