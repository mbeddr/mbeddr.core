package com.mbeddr.mpsutil.placeholderTextList.runtime.rt;

/*Generated by MPS */

import jetbrains.mps.nodeEditor.cells.EditorCell_Collection;
import jetbrains.mps.openapi.editor.EditorContext;
import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.nodeEditor.cellLayout.CellLayout;
import jetbrains.mps.nodeEditor.cellProviders.AbstractCellListHandler;
import jetbrains.mps.openapi.editor.cells.CellAction;
import jetbrains.mps.openapi.editor.cells.CellActionType;
import javax.swing.SwingUtilities;

public class NoInsertOverride extends EditorCell_Collection {
  private boolean myDisableInsertOverride;

  public NoInsertOverride(EditorContext editorContext, SNode node, CellLayout cellLayout, AbstractCellListHandler handler) {
    super(editorContext, node, cellLayout, handler);
  }

  @Override
  public CellAction getAction(CellActionType type) {
    if (type == CellActionType.INSERT) {
      myDisableInsertOverride = true;
      SwingUtilities.invokeLater(() -> myDisableInsertOverride = false);
    }
    return super.getAction(type);
  }

  @Override
  public EditorCell_Collection getParent() {
    if (myDisableInsertOverride) {
      myDisableInsertOverride = false;
      return null;
    }
    return super.getParent();
  }
}
