package com.mbeddr.mpsutil.targetchooser;

/*Generated by MPS */

import org.jetbrains.mps.openapi.module.SModule;
import jetbrains.mps.project.Project;
import jetbrains.mps.internal.collections.runtime.Sequence;

public class FilteringModuleScope implements ModuleScope {

  private ModuleScope myUnfiltered;
  private Filter<SModule> myFilter;

  public FilteringModuleScope(ModuleScope unfiltered, Filter<SModule> filter) {
    myFilter = filter;
    myUnfiltered = unfiltered;
  }

  public Iterable<SModule> getModules(Project project) {
    return Sequence.fromIterable(myUnfiltered.getModules(project)).where((it) -> myFilter.keep(it));
  }
}
