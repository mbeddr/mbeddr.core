package com.mbeddr.mpsutil.targetchooser;

/*Generated by MPS */

import java.util.List;
import org.jetbrains.mps.openapi.model.SModel;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import org.jetbrains.mps.openapi.model.SNode;
import org.jetbrains.mps.util.Condition;
import java.util.ArrayList;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;

public class TargetChooserUtil {
  public static List<SModel> applyFilter(final TargetChooserScope filter, List<SModel> models) {
    return ListSequence.fromList(models).where((it) -> filter.showModel(it)).toList();
  }

  public static List<SNode> getFirstLevelDescendants(SNode parent, Condition<SNode> condition) {
    List<SNode> result = ListSequence.fromList(new ArrayList<SNode>());
    getFirstLevelDescendants(parent, condition, result);
    return result;
  }

  public static void getFirstLevelDescendants(SNode parent, Condition<SNode> condition, List<SNode> result) {
    for (SNode child : ListSequence.fromList(SNodeOperations.getChildren(parent))) {
      if (condition.met(child)) {
        ListSequence.fromList(result).addElement(child);
      } else {
        getFirstLevelDescendants(child, condition, result);
      }
    }
  }
}
