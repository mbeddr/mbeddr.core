package com.mbeddr.mpsutil.targetchooser;

/*Generated by MPS */

import jetbrains.mps.ide.ui.tree.module.ProjectDevKitTreeNode;
import org.jetbrains.annotations.NotNull;
import jetbrains.mps.project.DevKit;
import jetbrains.mps.project.Project;
import de.slisson.mps.reflection.runtime.ReflectionUtil;
import jetbrains.mps.ide.ui.tree.TextTreeNode;
import jetbrains.mps.smodel.Language;
import jetbrains.mps.project.Solution;

public class TargetChooser_ProjectDevKitTreeNode extends ProjectDevKitTreeNode {
  private TargetChooser_SModelsSubtree mySubtreeFactory;

  public TargetChooser_ProjectDevKitTreeNode(@NotNull DevKit devkit, Project project, boolean shortNameOnly, TargetChooser_SModelsSubtree subtreeFactory) {
    super(devkit, project, shortNameOnly);
    mySubtreeFactory = subtreeFactory;
    init2();
  }

  @Override
  public void init() {
  }

  protected void init2() {
    populate();
    ReflectionUtil.writeField(ProjectDevKitTreeNode.class, ((ProjectDevKitTreeNode) this), "myInitialized", true);
  }

  protected void populate() {
    TextTreeNode extendedDevkits = new TextTreeNode("extended devkits");
    for (DevKit d : getModule().getExtendedDevKits()) {
      extendedDevkits.add(mySubtreeFactory.createProjectModuleTreeNode(d));
    }
    add(extendedDevkits);
    TextTreeNode exportedLangs = new TextTreeNode("exported languages");
    for (Language l : getModule().getExportedLanguages()) {
      exportedLangs.add(mySubtreeFactory.createProjectModuleTreeNode(l));
    }
    add(exportedLangs);
    TextTreeNode exportedSolutions = new TextTreeNode("exported solutions");
    for (Solution s : getModule().getExportedSolutions()) {
      exportedSolutions.add(mySubtreeFactory.createProjectModuleTreeNode(s));
    }
    add(exportedSolutions);
  }
}
